{"map":{"version":3,"sources":["bundle.js"],"names":["modules","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","main","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","./src/datas/activity/exp.json","eval","./src/datas/activity/game.json","./src/datas/activity/jigsaw.json","./src/datas/activity/pair.json","./src/datas/activity/pyramid.json","./src/datas/activity/roleplay.json","./src/datas/data.json","./src/datas/design/dbl.json","./src/datas/design/ibl.json","./src/datas/design/kc.json","./src/datas/design/pbl.json","./src/datas/objectives/question.json","./src/datas/objectives/theme.json","./src/datas/standard/standard.json","./src/js/activity/activity.data.js","__webpack_exports__","./src/js/activity/activity.handlers.js","./src/js/activity/activity.js","./src/js/activity/class/activitynode.js","./src/js/activity/class/activityzone.js","./src/js/activity/class/activityzones.js","./src/js/activity/handlers/activity.common.js","./src/js/activity/handlers/activity.dynamic.js","./src/js/activity/handlers/activity.edit.js","./src/js/activity/handlers/activity.saveload.js","./src/js/activity/handlers/activity.select.js","./src/js/activity/handlers/activity.toggle.js","./src/js/activity/handlers/editactivity/activity.edit.evidence.js","./src/js/activity/handlers/editactivity/activity.edit.file.js","./src/js/activity/handlers/editactivity/activity.edit.link.js","./src/js/common/common.js","./src/js/common/commonObj.js","./src/js/common/funcs/ajax.js","./src/js/common/funcs/console.js","./src/js/common/funcs/event.js","./src/js/common/funcs/function.js","./src/js/common/funcs/object.js","./src/js/common/funcs/stringnum.js","./src/js/common/funcs/style.js","./src/js/index.js","./src/js/navbar/navbar.js","./src/js/navbar/navigator.js","./src/js/objectives/objectives.js","./src/js/objectives/question-handlers.js","./src/js/objectives/question.js","./src/js/objectives/standard.js","./src/js/objectives/theme.js","./src/js/preview/inject.js","./src/js/preview/inject/coreQuestion.js","./src/js/preview/inject/course-activity.js","./src/js/preview/inject/course.js","./src/js/preview/inject/cover.js","./src/js/preview/inject/subtaskzone.js","./src/js/preview/inject/taskzone.js","./src/js/preview/inject/theme.js","./src/js/preview/preview.js","./src/js/preview/render.js","./src/js/resize/fullscreen.js","./src/js/resize/resize.js","./src/js/resize/toggle.js","./src/js/resize/zones.js","./src/js/saveload/data.js","./src/js/saveload/loaddata.js","./src/js/saveload/savedata.js","./src/js/saveload/saveload.js","./src/js/saveload/session.js","./src/js/taskzone/handlers/taskzone.common.js","./src/js/taskzone/handlers/taskzone.edit.js","./src/js/taskzone/handlers/taskzone.model.js","./src/js/taskzone/handlers/taskzone.subnode.js","./src/js/taskzone/handlers/taskzone.tasknode.js","./src/js/taskzone/taskzone.class.js","./src/js/taskzone/taskzone.data.js","./src/js/taskzone/taskzone.handlers.js","./src/js/taskzone/taskzone.js","./src/js/test/test.js"],"mappings":"CAAS,SAAUA,GAET,SAASC,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDH,EAAQG,GAAYG,EAAYH,IAKlC,IAFGc,GAAqBA,EAAoBf,GAEtCO,EAASC,QACdD,EAASS,OAATT,GAOD,OAHAU,EAAgBH,KAAKI,MAAMD,EAAiBZ,GAAkB,IAGvDc,IAER,SAASA,IAER,IADA,IAAIC,EACId,EAAI,EAAGA,EAAIW,EAAgBT,OAAQF,IAAK,CAG/C,IAFA,IAAIe,EAAiBJ,EAAgBX,GACjCgB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAeb,OAAQe,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BV,EAAgBW,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOnB,IAAK,GAC5Bc,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBf,EAAkB,CACrBgB,KAAQ,GAGLZ,EAAkB,GAGtB,SAASS,EAAoBzB,GAG5B,GAAG2B,EAAiB3B,GACnB,OAAO2B,EAAiB3B,GAAU6B,QAGnC,IAAIC,EAASH,EAAiB3B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAhC,EAAQG,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInC,EAGxB4B,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG7B,EAAoB8B,EAAI,8BAExB,IAAIC,EAAaC,OAAqB,aAAIA,OAAqB,cAAK,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIS,EAAsB4C,EAI1B1C,EAAgBH,KAAK,CAAC,oBAAoB,iBAEnCK,IAxJR,CA2JC,CAEJ0C,gCAKA,SAAU9B,QAEhB+B,KAAK,oXAICC,iCAKA,SAAUhC,QAEhB+B,KAAK,yYAICE,mCAKA,SAAUjC,QAEhB+B,KAAK,+bAICG,iCAKA,SAAUlC,QAEhB+B,KAAK,ybAICI,oCAKA,SAAUnC,QAEhB+B,KAAK,uYAICK,qCAKA,SAAUpC,QAEhB+B,KAAK,8dAICM,wBAKA,SAAUrC,QAEhB+B,KAAK,2KAICO,8BAKA,SAAUtC,QAEhB+B,KAAK,0lCAICQ,8BAKA,SAAUvC,QAEhB+B,KAAK,45BAICS,6BAKA,SAAUxC,QAEhB+B,KAAK,s5BAICU,8BAKA,SAAUzC,QAEhB+B,KAAK,iuBAICW,uCAKA,SAAU1C,QAEhB+B,KAAK,wOAICY,oCAKA,SAAU3C,QAEhB+B,KAAK,yRAICa,qCAKA,SAAU5C,QAEhB+B,KAAK,4uBAICc,qCAKA,SAAU7C,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,0jLAICgB,yCAKA,SAAU/C,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,uzDAICiB,gCAKA,SAAUhD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,kyBAICkB,0CAKA,SAAUjD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,miDAICmB,0CAKA,SAAUlD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,g+SAICoB,2CAKA,SAAUnD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,qyMAICqB,gDAKA,SAAUpD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,81DAICsB,iDAKA,SAAUrD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,w9JAICuB,8CAKA,SAAUtD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,stGAICwB,kDAKA,SAAUvD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,g8NAICyB,gDAKA,SAAUxD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,+7LAIC0B,gDAKA,SAAUzD,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,oqFAIC2B,oEAKA,SAAU1D,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,swOAIC4B,gEAKA,SAAU3D,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,4yPAIC6B,gEAKA,SAAU5D,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,oyJAIC8B,4BAKA,SAAU7D,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,onDAIC+B,+BAKA,SAAU9D,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,qjEAICgC,gCAKA,SAAU/D,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,6hGAICiC,mCAKA,SAAUhE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,8mDAICkC,iCAKA,SAAUjE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,srFAICmC,oCAKA,SAAUlE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,4jJAICoC,kCAKA,SAAUnE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,g3MAICqC,qCAKA,SAAUpE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,ktDAICsC,iCAKA,SAAUrE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,goEAICuC,oBAKA,SAAUtE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,+7DAICwC,4BAKA,SAAUvE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,0ZAICyC,+BAKA,SAAUxE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,23EAIC0C,oCAKA,SAAUzE,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,4+DAIC2C,2CAKA,SAAU1E,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,6uNAIC4C,kCAKA,SAAU3E,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,8sKAIC6C,kCAKA,SAAU5E,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,sjFAIC8C,+BAKA,SAAU7E,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,qrGAIC+C,6BAKA,SAAU9E,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,u8EAICgD,0CAKA,SAAU/E,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,m7EAICiD,6CAKA,SAAUhF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,o6gBAICkD,oCAKA,SAAUjF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,wlWAICmD,mCAKA,SAAUlF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,siDAICoD,yCAKA,SAAUnF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,wxEAICqD,sCAKA,SAAUpF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,q8EAICsD,mCAKA,SAAUrF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,usEAICuD,8BAKA,SAAUtF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,4rBAICwD,6BAKA,SAAUvF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,0iOAICyD,gCAKA,SAAUxF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,44DAIC0D,4BAKA,SAAUzF,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,gtBAIC2D,4BAKA,SAAU1F,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,yyEAIC4D,2BAKA,SAAU3F,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,qsCAIC6D,4BAKA,SAAU5F,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,6tCAIC8D,gCAKA,SAAU7F,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,knTAIC+D,gCAKA,SAAU9F,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,y0GAICgE,gCAKA,SAAU/F,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,y8CAICiE,+BAKA,SAAUhG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,+tCAICkE,gDAKA,SAAUjG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,4kIAICmE,8CAKA,SAAUlG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,8tkBAICoE,+CAKA,SAAUnG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,gkIAICqE,iDAKA,SAAUpG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,+iLAICsE,kDAKA,SAAUrG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,usKAICuE,sCAKA,SAAUtG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,g+TAICwE,qCAKA,SAAUvG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,4vFAICyE,yCAKA,SAAUxG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,yyDAIC0E,gCAKA,SAAUzG,OAAQ8C,oBAAqBnD,qBAE7C,aACAoC,KAAK,6vCAIC2E,wBAKA,SAAU1G,OAAQD,SAExBgC,KAAK"},"code":"!function(n){function e(e){for(var r,a,i=e[0],c=e[1],s=e[2],d=0,l=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(t,a)&&t[a]&&l.push(t[a][0]),t[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(n[r]=c[r]);for(m&&m(e);l.length;)l.shift()();return o.push.apply(o,s||[]),_()}function _(){for(var n,e=0;e<o.length;e++){for(var _=o[e],r=!0,i=1;i<_.length;i++){var c=_[i];0!==t[c]&&(r=!1)}r&&(o.splice(e--,1),n=a(a.s=_[0]))}return n}var r={},t={main:0},o=[];function a(e){if(r[e])return r[e].exports;var _=r[e]={i:e,l:!1,exports:{}};return n[e].call(_.exports,_,_.exports,a),_.l=!0,_.exports}a.m=n,a.c=r,a.d=function(n,e,_){a.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:_})},a.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},a.t=function(n,e){if(1&e&&(n=a(n)),8&e)return n;if(4&e&&\"object\"==typeof n&&n&&n.__esModule)return n;var _=Object.create(null);if(a.r(_),Object.defineProperty(_,\"default\",{enumerable:!0,value:n}),2&e&&\"string\"!=typeof n)for(var r in n)a.d(_,r,function(e){return n[e]}.bind(null,r));return _},a.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return a.d(e,\"a\",e),e},a.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},a.p=\"C:\\\\wamp64\\\\www\\\\STEM\\\\dist\";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var m=c;o.push([\"./src/js/index.js\",\"vendors~main\"]),_()}({\"./src/datas/activity/exp.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"type\\\\\":\\\\\"exp\\\\\",\\\\\"typename\\\\\":\\\\\"实验教学\\\\\",\\\\\"activity\\\\\":{\\\\\"name\\\\\":\\\\\"\\\\\",\\\\\"step\\\\\":\\\\\"\\\\\",\\\\\"environment\\\\\":\\\\\"\\\\\",\\\\\"student\\\\\":\\\\\"\\\\\",\\\\\"teacher\\\\\":\\\\\"\\\\\"},\\\\\"common\\\\\":{\\\\\"evidence\\\\\":\\\\\"\\\\\",\\\\\"material\\\\\":{\\\\\"text\\\\\":\\\\\"\\\\\",\\\\\"link\\\\\":\\\\\"\\\\\",\\\\\"file\\\\\":\\\\\"\\\\\"}}}\");\\n\\n//# sourceURL=webpack:///./src/datas/activity/exp.json?')},\"./src/datas/activity/game.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"type\\\\\":\\\\\"game\\\\\",\\\\\"typename\\\\\":\\\\\"游戏教学\\\\\",\\\\\"activity\\\\\":{\\\\\"name\\\\\":\\\\\"活动名称\\\\\",\\\\\"rule\\\\\":\\\\\"\\\\\",\\\\\"place\\\\\":\\\\\"\\\\\",\\\\\"student\\\\\":\\\\\"\\\\\",\\\\\"teacher\\\\\":\\\\\"\\\\\",\\\\\"reward\\\\\":\\\\\"无\\\\\"},\\\\\"common\\\\\":{\\\\\"evidence\\\\\":\\\\\"\\\\\",\\\\\"material\\\\\":{\\\\\"text\\\\\":\\\\\"\\\\\",\\\\\"link\\\\\":\\\\\"\\\\\",\\\\\"file\\\\\":\\\\\"\\\\\"}}}\");\\n\\n//# sourceURL=webpack:///./src/datas/activity/game.json?')},\"./src/datas/activity/jigsaw.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"type\\\\\":\\\\\"jigsaw\\\\\",\\\\\"typename\\\\\":\\\\\"拼图策略\\\\\",\\\\\"activity\\\\\":{\\\\\"name\\\\\":\\\\\"活动名称\\\\\",\\\\\"expert\\\\\":{\\\\\"task\\\\\":\\\\\"\\\\\",\\\\\"student\\\\\":\\\\\"\\\\\",\\\\\"teacher\\\\\":\\\\\"\\\\\"},\\\\\"former\\\\\":{\\\\\"task\\\\\":\\\\\"\\\\\",\\\\\"student\\\\\":\\\\\"\\\\\",\\\\\"teacher\\\\\":\\\\\"\\\\\"}},\\\\\"common\\\\\":{\\\\\"evidence\\\\\":\\\\\"\\\\\",\\\\\"material\\\\\":{\\\\\"text\\\\\":\\\\\"\\\\\",\\\\\"link\\\\\":\\\\\"\\\\\",\\\\\"file\\\\\":\\\\\"\\\\\"}}}\");\\n\\n//# sourceURL=webpack:///./src/datas/activity/jigsaw.json?')},\"./src/datas/activity/pair.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"type\\\\\":\\\\\"pair\\\\\",\\\\\"typename\\\\\":\\\\\"思考-配对-共享\\\\\",\\\\\"activity\\\\\":{\\\\\"name\\\\\":\\\\\"活动名称\\\\\",\\\\\"student\\\\\":{\\\\\"think\\\\\":\\\\\"\\\\\",\\\\\"pair\\\\\":\\\\\"\\\\\",\\\\\"share\\\\\":\\\\\"\\\\\"},\\\\\"teacher\\\\\":{\\\\\"think\\\\\":\\\\\"\\\\\",\\\\\"pair\\\\\":\\\\\"\\\\\",\\\\\"share\\\\\":\\\\\"\\\\\"}},\\\\\"common\\\\\":{\\\\\"evidence\\\\\":\\\\\"\\\\\",\\\\\"material\\\\\":{\\\\\"text\\\\\":\\\\\"\\\\\",\\\\\"link\\\\\":\\\\\"\\\\\",\\\\\"file\\\\\":\\\\\"\\\\\"}}}\");\\n\\n//# sourceURL=webpack:///./src/datas/activity/pair.json?')},\"./src/datas/activity/pyramid.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"type\\\\\":\\\\\"pyramid\\\\\",\\\\\"typename\\\\\":\\\\\"金字塔\\\\\",\\\\\"activity\\\\\":{\\\\\"name\\\\\":\\\\\"活动名称\\\\\",\\\\\"question\\\\\":\\\\\"\\\\\",\\\\\"floor\\\\\":{\\\\\"top\\\\\":\\\\\"\\\\\",\\\\\"middle\\\\\":\\\\\"\\\\\",\\\\\"bottom\\\\\":\\\\\"\\\\\"}},\\\\\"common\\\\\":{\\\\\"evidence\\\\\":\\\\\"\\\\\",\\\\\"material\\\\\":{\\\\\"text\\\\\":\\\\\"\\\\\",\\\\\"link\\\\\":\\\\\"\\\\\",\\\\\"file\\\\\":\\\\\"\\\\\"}}}\");\\n\\n//# sourceURL=webpack:///./src/datas/activity/pyramid.json?')},\"./src/datas/activity/roleplay.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"type\\\\\":\\\\\"roleplay\\\\\",\\\\\"typename\\\\\":\\\\\"角色扮演\\\\\",\\\\\"activity\\\\\":{\\\\\"name\\\\\":\\\\\"活动名称\\\\\",\\\\\"setting\\\\\":\\\\\"\\\\\",\\\\\"student\\\\\":{\\\\\"describe\\\\\":\\\\\"\\\\\",\\\\\"show\\\\\":\\\\\"\\\\\",\\\\\"evaluate\\\\\":\\\\\"\\\\\"},\\\\\"teacher\\\\\":{\\\\\"describe\\\\\":\\\\\"\\\\\",\\\\\"show\\\\\":\\\\\"\\\\\",\\\\\"evaluate\\\\\":\\\\\"\\\\\"}},\\\\\"common\\\\\":{\\\\\"evidence\\\\\":\\\\\"\\\\\",\\\\\"material\\\\\":{\\\\\"text\\\\\":\\\\\"\\\\\",\\\\\"link\\\\\":\\\\\"\\\\\",\\\\\"file\\\\\":\\\\\"\\\\\"}}}\");\\n\\n//# sourceURL=webpack:///./src/datas/activity/roleplay.json?')},\"./src/datas/data.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"theme\\\\\":\\\\\"\\\\\",\\\\\"question\\\\\":\\\\\"\\\\\",\\\\\"tasks\\\\\":\\\\\"\\\\\",\\\\\"activity\\\\\":\\\\\"\\\\\"}\");\\n\\n//# sourceURL=webpack:///./src/datas/data.json?')},\"./src/datas/design/dbl.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"tasktype\\\\\":\\\\\"DBL\\\\\",\\\\\"imagepath\\\\\":\\\\\"image/nodes/DBL/\\\\\",\\\\\"nodes\\\\\":[{\\\\\"nodename\\\\\":\\\\\"需求分析\\\\\",\\\\\"imgsrc\\\\\":\\\\\"DBL-1.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"设计方案\\\\\",\\\\\"imgsrc\\\\\":\\\\\"DBL-2.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"评价测试\\\\\",\\\\\"imgsrc\\\\\":\\\\\"DBL-3.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"改进设计\\\\\",\\\\\"imgsrc\\\\\":\\\\\"DBL-4.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"汇报与反思\\\\\",\\\\\"imgsrc\\\\\":\\\\\"DBL-5.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"}]}\");\\n\\n//# sourceURL=webpack:///./src/datas/design/dbl.json?')},\"./src/datas/design/ibl.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"tasktype\\\\\":\\\\\"IBL\\\\\",\\\\\"imagepath\\\\\":\\\\\"image/nodes/IBL/\\\\\",\\\\\"nodes\\\\\":[{\\\\\"nodename\\\\\":\\\\\"自主探究\\\\\",\\\\\"imgsrc\\\\\":\\\\\"IBL-1.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"分析解释\\\\\",\\\\\"imgsrc\\\\\":\\\\\"IBL-2.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"迁移\\\\\",\\\\\"imgsrc\\\\\":\\\\\"IBL-3.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"汇报与反思\\\\\",\\\\\"imgsrc\\\\\":\\\\\"IBL-4.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"}]}\");\\n\\n//# sourceURL=webpack:///./src/datas/design/ibl.json?')},\"./src/datas/design/kc.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"tasktype\\\\\":\\\\\"KC\\\\\",\\\\\"imagepath\\\\\":\\\\\"image/nodes/KC/\\\\\",\\\\\"nodes\\\\\":[{\\\\\"nodename\\\\\":\\\\\"个人准备\\\\\",\\\\\"imgsrc\\\\\":\\\\\"KC-1.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"分组讨论\\\\\",\\\\\"imgsrc\\\\\":\\\\\"KC-2.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"深入讨论\\\\\",\\\\\"imgsrc\\\\\":\\\\\"KC-3.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"总结反思\\\\\",\\\\\"imgsrc\\\\\":\\\\\"KC-4.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"}]}\");\\n\\n//# sourceURL=webpack:///./src/datas/design/kc.json?')},\"./src/datas/design/pbl.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"tasktype\\\\\":\\\\\"PBL\\\\\",\\\\\"imagepath\\\\\":\\\\\"image/nodes/PBL/\\\\\",\\\\\"nodes\\\\\":[{\\\\\"nodename\\\\\":\\\\\"分析问题\\\\\",\\\\\"imgsrc\\\\\":\\\\\"PBL-1.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"自主学习\\\\\",\\\\\"imgsrc\\\\\":\\\\\"PBL-2.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"},{\\\\\"nodename\\\\\":\\\\\"方案反思\\\\\",\\\\\"imgsrc\\\\\":\\\\\"PBL-3.png\\\\\",\\\\\"taskname\\\\\":\\\\\"\\\\\",\\\\\"taskcontent\\\\\":\\\\\"\\\\\",\\\\\"taskcorequestion\\\\\":[],\\\\\"taskevidence\\\\\":\\\\\"\\\\\",\\\\\"level\\\\\":1,\\\\\"next\\\\\":\\\\\"\\\\\"}]}\");\\n\\n//# sourceURL=webpack:///./src/datas/design/pbl.json?')},\"./src/datas/objectives/question.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"driverQuestion\\\\\":\\\\\"\\\\\",\\\\\"coreQuestion\\\\\":{\\\\\"science\\\\\":[],\\\\\"technology\\\\\":[],\\\\\"engineering\\\\\":[],\\\\\"mathematics\\\\\":[]}}\");\\n\\n//# sourceURL=webpack:///./src/datas/objectives/question.json?')},\"./src/datas/objectives/theme.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"themeName\\\\\":\\\\\"\\\\\",\\\\\"themeSituation\\\\\":\\\\\"\\\\\",\\\\\"people\\\\\":{\\\\\"science\\\\\":\\\\\"\\\\\",\\\\\"technology\\\\\":\\\\\"\\\\\",\\\\\"engineering\\\\\":\\\\\"\\\\\",\\\\\"mathematics\\\\\":\\\\\"\\\\\"},\\\\\"grade\\\\\":\\\\\"\\\\\"}\");\\n\\n//# sourceURL=webpack:///./src/datas/objectives/theme.json?')},\"./src/datas/standard/standard.json\":function(module){eval('module.exports = JSON.parse(\"{\\\\\"science\\\\\":[\\\\\"S1. 能够通过模型描述水循环系统；（模型举例：概念图、表格、流程图等）。\\\\\",\\\\\"S2. 能够测量并绘制数据图，以证明过滤材料的吸附能力和其表面积相关。\\\\\",\\\\\"S3. 能够设计控制变量的实验方案，以探究过滤材料与过滤效果的关系。\\\\\",\\\\\"S4. 能够获取关于溶液过滤效果物理检测方法的信息。（如：肉眼检测法、色标法、分光光度计等）。\\\\\"],\\\\\"technology\\\\\":[\\\\\"T1. 能使用数字工具绘制图表、探究数据的规律。\\\\\",\\\\\"T2. 能够创建数字作品清晰的传达自己的思想。\\\\\",\\\\\"T3. 能利用协作性数字工具与他建立联系去探索问题 。\\\\\"],\\\\\"engineering\\\\\":[\\\\\"E1. 定义一个简单的设计问题，用于反映某个需求，这个需求包括了在物料、时间和成本上的成功标准和约束条件。\\\\\",\\\\\"E2. 基于问题的约束条件和成功标准，提出并比较多个可能的问题解决方案。\\\\\",\\\\\"E3. 通过设计和实施控制变量的测试方案和故障测试方案，寻找模型或原型系统可改进的方面。\\\\\"],\\\\\"mathematics\\\\\":[\\\\\"M1. 在具体情境中了解简单的数量关系，并能解决简单的实际问题。（如：总价=单价*数量）。\\\\\",\\\\\"M2. 通过实例了解表面积的意义以及度量单位，能进行单位之间的换算，接受单位的实际意义。\\\\\",\\\\\"M3. 了解比例尺，在具体情境中，能将实际距离与图上距离换算。\\\\\"]}\");\\n\\n//# sourceURL=webpack:///./src/datas/standard/standard.json?')},\"./src/js/activity/activity.data.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activityDataMap\", function() { return activityDataMap; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACTIVITYTYPE\", function() { return ACTIVITYTYPE; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACTIVITYKEYS\", function() { return ACTIVITYKEYS_proxy; });\\n/* harmony import */ var _datas_activity_pair_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../datas/activity/pair.json */ \"./src/datas/activity/pair.json\");\\nvar _datas_activity_pair_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/activity/pair.json */ \"./src/datas/activity/pair.json\", 1);\\n/* harmony import */ var _datas_activity_pyramid_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../datas/activity/pyramid.json */ \"./src/datas/activity/pyramid.json\");\\nvar _datas_activity_pyramid_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/activity/pyramid.json */ \"./src/datas/activity/pyramid.json\", 1);\\n/* harmony import */ var _datas_activity_jigsaw_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../datas/activity/jigsaw.json */ \"./src/datas/activity/jigsaw.json\");\\nvar _datas_activity_jigsaw_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/activity/jigsaw.json */ \"./src/datas/activity/jigsaw.json\", 1);\\n/* harmony import */ var _datas_activity_roleplay_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../datas/activity/roleplay.json */ \"./src/datas/activity/roleplay.json\");\\nvar _datas_activity_roleplay_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/activity/roleplay.json */ \"./src/datas/activity/roleplay.json\", 1);\\n/* harmony import */ var _datas_activity_game_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../datas/activity/game.json */ \"./src/datas/activity/game.json\");\\nvar _datas_activity_game_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/activity/game.json */ \"./src/datas/activity/game.json\", 1);\\n/* harmony import */ var _datas_activity_exp_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../datas/activity/exp.json */ \"./src/datas/activity/exp.json\");\\nvar _datas_activity_exp_json__WEBPACK_IMPORTED_MODULE_5___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/activity/exp.json */ \"./src/datas/activity/exp.json\", 1);\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-21 03:58:02 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-22 04:44:41\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nconst activityDataMap = new Map()\\r\\n    .set(\"pair\", _datas_activity_pair_json__WEBPACK_IMPORTED_MODULE_0__)\\r\\n    .set(\"pyramid\", _datas_activity_pyramid_json__WEBPACK_IMPORTED_MODULE_1__)\\r\\n    .set(\"jigsaw\", _datas_activity_jigsaw_json__WEBPACK_IMPORTED_MODULE_2__)\\r\\n    .set(\"roleplay\", _datas_activity_roleplay_json__WEBPACK_IMPORTED_MODULE_3__)\\r\\n    .set(\"game\", _datas_activity_game_json__WEBPACK_IMPORTED_MODULE_4__)\\r\\n    .set(\"exp\", _datas_activity_exp_json__WEBPACK_IMPORTED_MODULE_5__);\\r\\n\\r\\nconst ACTIVITYTYPE = [\\r\\n    {type: \"pair\"   , typename: \"思考-配对-共享\"},\\r\\n    {type: \"pyramid\", typename: \"金字塔\"},\\r\\n    {type: \"jigsaw\",  typename: \"拼图策略\"},\\r\\n    {type: \"roleplay\",typename: \"角色扮演\"},\\r\\n    {type: \"game\",    typename: \"游戏教学\"},\\r\\n    {type: \"exp\",     typename: \"实验教学\"}\\r\\n];\\r\\n\\r\\n/**\\r\\n * @constant\\r\\n * 对应datas/activity/下的不同学习活动的json格式的键名\\r\\n */\\r\\nconst ACTIVITYKEYS = {\\r\\n    \"pair\": [\\r\\n        [\"name\"],\\r\\n        [\"student\", [\"think\", \"pair\", \"share\"]],\\r\\n        [\"teacher\", [\"think\", \"pair\", \"share\"]],\\r\\n    ],\\r\\n    \"pyramid\": [\\r\\n        [\"name\"], [\"question\"],\\r\\n        [\"floor\", [\"top\", \"middle\", \"bottom\"]],\\r\\n    ],\\r\\n    \"jigsaw\": [\\r\\n        [\"name\"],\\r\\n        [\"expert\", [\"task\", \"student\", \"teacher\"]],\\r\\n        [\"former\", [\"task\", \"student\", \"teacher\"]],\\r\\n    ],\\r\\n    \"roleplay\": [\\r\\n        [\"name\"], [\"setting\"], \\r\\n        [\"student\", [\"describe\", \"show\", \"evaluate\"]],\\r\\n        [\"teacher\", [\"describe\", \"show\", \"evaluate\"]],\\r\\n    ],\\r\\n    \"game\": [\\r\\n        [\"name\"], [\"rule\"], [\"place\"], \\r\\n        [\"student\"], [\"teacher\"], [\"reward\"],\\r\\n    ],\\r\\n    \"exp\": [\\r\\n        [\"name\"], [\"step\"], \\r\\n        [\"student\"], [\"teacher\"], [\"environment\"],\\r\\n    ],\\r\\n};\\r\\n\\r\\n/**\\r\\n * 将缩略的键名数组展开\\r\\n * \\r\\n * @example\\r\\n * input: pyramid\\r\\n * [\\r\\n *      [\"name\"], [\"question\"],\\r\\n *      [\"floor\", [\"top\", \"middle\", \"bottom\"]],\\r\\n * ]\\r\\n * output:\\r\\n * [\\r\\n *      [\"activity\", \"name\"],\\r\\n *      [\"activity\", \"question\"],\\r\\n *      [\"activity\", \"floor\", \"top\"],\\r\\n *      [\"activity\", \"floor\", \"middle\"],\\r\\n *      [\"activity\", \"floor\", \"bottom\"],\\r\\n * ]\\r\\n * @param {Array} keys \\r\\n */\\r\\nfunction expand(keys){\\r\\n    let arr = [];\\r\\n    for(let row of keys){\\r\\n        row = [\"activity\", ...row];\\r\\n        let last = row.length - 1,\\r\\n            lastElem = row[last];\\r\\n        if(!Array.isArray(lastElem)) arr.push(row);\\r\\n        else{\\r\\n            let _row = row.slice(0, last);\\r\\n            lastElem.forEach(elem => \\r\\n                arr.push([..._row, elem]));\\r\\n        }\\r\\n    }\\r\\n    return arr;\\r\\n}\\r\\n\\r\\nconst ACTIVITYKEYS_proxy = new Proxy(ACTIVITYKEYS, {\\r\\n    get(target, key){\\r\\n        return expand(target[key]);\\r\\n    }\\r\\n})\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/activity/activity.data.js?')},\"./src/js/activity/activity.handlers.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _handlers_activity_toggle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handlers/activity.toggle */ \"./src/js/activity/handlers/activity.toggle.js\");\\n/* harmony import */ var _handlers_activity_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./handlers/activity.select */ \"./src/js/activity/handlers/activity.select.js\");\\n/* harmony import */ var _handlers_activity_dynamic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handlers/activity.dynamic */ \"./src/js/activity/handlers/activity.dynamic.js\");\\n/* harmony import */ var _handlers_activity_edit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./handlers/activity.edit */ \"./src/js/activity/handlers/activity.edit.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:07:12 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:04:33\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nconst init = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].once(function(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].multistep([\\r\\n        _handlers_activity_toggle__WEBPACK_IMPORTED_MODULE_1__[\"togglePanelHandler\"],\\r\\n        _handlers_activity_select__WEBPACK_IMPORTED_MODULE_2__[\"selectActivityHandler\"],\\r\\n        _handlers_activity_dynamic__WEBPACK_IMPORTED_MODULE_3__[\"dynamicActivityHandler\"],\\r\\n        _handlers_activity_edit__WEBPACK_IMPORTED_MODULE_4__[\"editActivityHandler\"]\\r\\n    ]);\\r\\n});\\n\\n//# sourceURL=webpack:///./src/js/activity/activity.handlers.js?')},\"./src/js/activity/activity.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _class_activityzones__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class/activityzones */ \"./src/js/activity/class/activityzones.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _class_activityzones__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ACTIVITYZONE\", function() { return _class_activityzones__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVITYZONE\"]; });\\n\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 02:58:55 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-25 04:25:33\\r\\n */\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/activity/activity.js?')},\"./src/js/activity/class/activitynode.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ActivityNode; });\\n/* harmony import */ var _activity_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../activity.data */ \"./src/js/activity/activity.data.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 03:06:47 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 13:36:32\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\nlet activityNodeId = 0;//每个活动节点的唯一标识符\\r\\n\\r\\nclass ActivityNode{\\r\\n    constructor(type, $node, init = true){\\r\\n        this.nodedata = null;\\r\\n        this.type = type;\\r\\n        this.$node = $node;\\r\\n        this.zone = null;\\r\\n        this.evidences = [];\\r\\n        this.id = ++activityNodeId;\\r\\n        init && this.init();\\r\\n    }\\r\\n    init(){\\r\\n        this.nodedata = _activity_data__WEBPACK_IMPORTED_MODULE_0__[\"activityDataMap\"].get(this.type);\\r\\n        this.nodedata[\"activity\"][\"name\"] = this.$node.find(\".design-activity-name\").html();\\r\\n    }\\r\\n\\r\\n    set data(data){\\r\\n        this.nodedata = data;\\r\\n        this.evidences = data.common.evidence;\\r\\n    }\\r\\n    get activityname(){\\r\\n        return this.$node.find(\".design-activity-name\").html();\\r\\n    }\\r\\n\\r\\n    saveData(data){\\r\\n        this.nodedata = data;\\r\\n        this.$node.find(\".design-activity-name\").html(data[\"activity\"][\"name\"]);\\r\\n        this.evidences = data.common.evidence;\\r\\n    }\\r\\n}\\n\\n//# sourceURL=webpack:///./src/js/activity/class/activitynode.js?')},\"./src/js/activity/class/activityzone.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ActivityZone; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activitynode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activitynode */ \"./src/js/activity/class/activitynode.js\");\\n/* harmony import */ var _handlers_activity_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../handlers/activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/* harmony import */ var _activity_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../activity.data */ \"./src/js/activity/activity.data.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 03:04:32 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 14:37:47\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nclass ActivityZone{\\r\\n    constructor(tasknode, index, parentIndex = -1){\\r\\n        this.tasknode = tasknode;\\r\\n        this.index = index;\\r\\n        this.parentIndex = parentIndex;\\r\\n        this.nodelist = []; //该区域包含的学习活动的对象\\r\\n\\r\\n        let $target = $(\"#design-activities-zone\");\\r\\n        //对应的zone区域的jQuery引用\\r\\n        this.$div = (parentIndex == -1) ?\\r\\n            $target.find(\".design-act-zone\").eq(index):\\r\\n            $target.find(\".design-act-zone\").eq(parentIndex)\\r\\n                .next(\".subZones\")\\r\\n                .find(\".design-act-subZone\").eq(index);\\r\\n        this.$number = this.$div.find(\".activity-number\");\\r\\n        this.$init = this.$div.find(\".init-act\");\\r\\n        this.$content = this.$div.find(\".design-act-zone-content\");\\r\\n    }\\r\\n    /**\\r\\n     * 添加学习活动节点，包括新建与插入\\r\\n     * \\r\\n     * @param {Object} activityInfo type/activityname \\r\\n     * @param {String} action init/load/before/after \\r\\n     * @param {Number} index = -1\\r\\n     */\\r\\n    addActivity(activityInfo, action = \"load\", index = -1){\\r\\n        let \\r\\n        type = activityInfo.type,\\r\\n        typename = this.activityTypeMap(type),\\r\\n        $target = ~index && this.$content.find(\".design-act-node-wrapper\").eq(index),\\r\\n        str = `\\r\\n        <div class=\"design-act-node-wrapper\" \\r\\n            data-index=\"${this.index}\" data-parent=\"${this.parentIndex}\">\\r\\n            <span class=\"glyphicon glyphicon-triangle-top insert-node\"\\r\\n                title=\"向前添加新活动节点\" data-type=\"before\"></span>\\r\\n            <div class=\"panel panel-default design-act-node\" data-typename=\"${typename}\">\\r\\n                <div class=\"panel-heading\">\\r\\n                    <img src=\"image/activities/${type}-icon.png\" \\r\\n                        class=\"pull-left design-act-node-icon\" title=\"${typename}\">\\r\\n                    <h3 class=\"panel-title\">\\r\\n                        <b>${typename}</b></h3>\\r\\n                    <span class=\"glyphicon glyphicon-remove pull-right remove-node\" \\r\\n                        title=\"删除活动节点\"></span>\\r\\n                </div>\\r\\n                <div class=\"panel-body design-act-node-content\">\\r\\n                    <div class=\"col-sm-12 panel-content\">\\r\\n                        <label class=\"design-activity-name\">${activityInfo.activityname}</label>\\r\\n                        <button class=\"btn btn-danger edit-activity-btn pull-right\">\\r\\n                            编辑\\r\\n                            <span class=\"glyphicon glyphicon-edit\"></span>\\r\\n                        </button>\\r\\n                    </div>\\r\\n                    <br />\\r\\n                    <div class=\"menu-box\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <span class=\"glyphicon glyphicon-triangle-bottom insert-node\"\\r\\n                title=\"向后添加新活动节点\" data-type=\"after\"></span>\\r\\n        </div>\\r\\n        `.trim();\\r\\n\\r\\n        let $node = $(str),\\r\\n            node = new _activitynode__WEBPACK_IMPORTED_MODULE_1__[\"default\"](type, $node, action !== \"load\");\\r\\n        switch(action){\\r\\n            case \"init\"://新建学习活动\\r\\n                this.$content.append($node);\\r\\n                this.nodelist.push(node);\\r\\n                break;\\r\\n            case \"load\"://load时候加载学习活动\\r\\n                this.$content.append($node);\\r\\n                this.nodelist.push(node);\\r\\n                break;\\r\\n            case \"before\"://在index之前插入\\r\\n                $target.before($node);\\r\\n                this.nodelist.splice(index, 0, node);\\r\\n                break;\\r\\n            case \"after\"://在index之后插入\\r\\n                $target.after($node);\\r\\n                this.nodelist.splice(index + 1, 0, node);\\r\\n                break;\\r\\n        }\\r\\n        node.zone = this;\\r\\n        this.changeActivityNum(1);\\r\\n    }\\r\\n    /**\\r\\n     * 删除某个活动节点\\r\\n     * \\r\\n     * @param {Number} index\\r\\n     */\\r\\n    deleteActivity(index){\\r\\n        this.$content.find(\".design-act-node-wrapper\").eq(index).remove();\\r\\n        this.nodelist.splice(index, 1);\\r\\n        this.changeActivityNum(-1);\\r\\n    }\\r\\n    /**\\r\\n     * 修改右上角区域显示的节点数，将已有值与传入的参数值相加\\r\\n     * \\r\\n     * @param {Number} delta 节点数的修改量\\r\\n     */\\r\\n    changeActivityNum(delta){\\r\\n        let number = +this.$number.html() + delta;\\r\\n        if(number == 0){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show(this.$init);\\r\\n        }else if(number == 1){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide(this.$init);\\r\\n        }\\r\\n        this.$number.html(number);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * 返回所辖的活动数据\\r\\n     */\\r\\n    get data(){\\r\\n        let data = {\\r\\n            nodename: this.tasknode.nodename,\\r\\n            activities: []\\r\\n        };\\r\\n\\r\\n        this.nodelist.forEach(node => {\\r\\n            data[\"activities\"].push(node.nodedata);\\r\\n        });\\r\\n\\r\\n        return data;\\r\\n    }\\r\\n    /**\\r\\n     * 区域所辖学习证据内容\\r\\n     * \\r\\n     * @returns {Array} [evidences_nowInfo, evidences, evidences_selected]\\r\\n     */\\r\\n    get evidences(){\\r\\n        let index = this.index, \\r\\n            parent = this.parentIndex,\\r\\n            evidences = (!~parent)?\\r\\n                (_saveload_saveload__WEBPACK_IMPORTED_MODULE_4__[\"DATA\"].nodes)[index].taskevidence :\\r\\n                ((_saveload_saveload__WEBPACK_IMPORTED_MODULE_4__[\"DATA\"].nodes)[parent]).next\\r\\n                    .nodes[index].taskevidence;\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(evidences) || evidences === \"\") evidences = [];\\r\\n\\r\\n        let evidences_selected = [],\\r\\n            evidences_nowInfo = {\\r\\n                activityname: _handlers_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nownode.activityname,\\r\\n                evidences: []\\r\\n            },\\r\\n            evidences_selectedInfo = [];\\r\\n        for(let node of this.nodelist){\\r\\n            let nodeEvidence = node.evidences;\\r\\n            if(!nodeEvidence.length) continue;\\r\\n\\r\\n            evidences_selected = evidences_selected.concat(nodeEvidence);\\r\\n            if(node.activityname === _handlers_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nownode.activityname){\\r\\n                evidences_nowInfo.evidences = nodeEvidence;\\r\\n            }else{\\r\\n                evidences_selectedInfo.push({\\r\\n                    id: node.id,\\r\\n                    activityname: node.activityname,\\r\\n                    evidences: nodeEvidence \\r\\n                });\\r\\n            }\\r\\n        }\\r\\n        evidences = evidences.filter(evidence => {\\r\\n            let flag = false;\\r\\n            for(let evi of evidences_selected){\\r\\n                if(evi.content === evidence.content && \\r\\n                    evi.evaluate === evidence.evaluate){\\r\\n                    flag = true;\\r\\n                    break;\\r\\n                }\\r\\n            }\\r\\n            return !flag;\\r\\n        });\\r\\n\\r\\n        return [\\r\\n            //当前学习证据\\r\\n            evidences_nowInfo,\\r\\n            //可选学习证据\\r\\n            evidences,\\r\\n            //已选学习证据\\r\\n            evidences_selectedInfo\\r\\n        ];\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * 保存修改后的学习证据\\r\\n     * \\r\\n     * @param {Array} 修改后该区域下的学习证据\\r\\n     */\\r\\n    set evidences(evidences_after){\\r\\n        for(let {id, evidences} of evidences_after){\\r\\n            for(let node of this.nodelist){\\r\\n                if(node.id !== id) continue;\\r\\n                node.evidences = evidences;\\r\\n                node.nodedata.common.evidence = evidences;\\r\\n                break;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n\\r\\n}\\r\\n\\r\\nObject.assign(ActivityZone.prototype, {\\r\\n    /**\\r\\n     * type(pyramid)与typename(金字塔)的双向映射\\r\\n     * \\r\\n     * @param {String} key \\r\\n     */\\r\\n    activityTypeMap(key){\\r\\n        if(typeof this.activityTypeMap.map != \"object\"){\\r\\n            let map = new Map();\\r\\n            for(let activity of _activity_data__WEBPACK_IMPORTED_MODULE_3__[\"ACTIVITYTYPE\"]){\\r\\n                map.set(activity.type, activity.typename);\\r\\n                map.set(activity.typename, activity.type);\\r\\n            }\\r\\n            this.activityTypeMap.map = map;\\r\\n        }\\r\\n        return this.activityTypeMap.map.get(key);\\r\\n    }\\r\\n})\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/class/activityzone.js?')},\"./src/js/activity/class/activityzones.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ACTIVITYZONE\", function() { return ACTIVITYZONE; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ActivityZones; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activityzone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activityzone */ \"./src/js/activity/class/activityzone.js\");\\n/* harmony import */ var _activity_handlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../activity.handlers */ \"./src/js/activity/activity.handlers.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 02:59:13 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:03:25\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nlet ACTIVITYZONE = null;\\r\\n\\r\\nclass ActivityZones{\\r\\n    constructor(tasks){\\r\\n        this.zones = [];//ActivityZone对象的数组\\r\\n        this.len   = 0;//zones中的ActivityZone的个数，subZone保存在zones[len][]处\\r\\n        this.$div  = $(\"#design-activities-zone\");\\r\\n\\r\\n        Object(_activity_handlers__WEBPACK_IMPORTED_MODULE_2__[\"init\"])();\\r\\n        //初始化学习活动区域的各个zone\\r\\n        this.initZones(tasks.tasktype, tasks.nodes);\\r\\n        ACTIVITYZONE = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].proxy(this);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * 根据tasknodes初始化区域\\r\\n     * \\r\\n     * @param {String} tasktype\\r\\n     * @param {Array<Object>} nodes\\r\\n     */\\r\\n    initZones(tasktype, nodes){\\r\\n        this.addZones(tasktype, nodes);\\r\\n        nodes.forEach((tasknode, index) => {\\r\\n            let newzone = new _activityzone__WEBPACK_IMPORTED_MODULE_1__[\"default\"](tasknode, index);\\r\\n            this.zones.push(newzone);\\r\\n        });\\r\\n        \\r\\n        //zones的最后一个元素是一个空数组，预留来存储每个zone对应的subZone\\r\\n        this.len = this.zones.length;\\r\\n        this.zones.push([]);\\r\\n        for(let i = 0; i < this.len; i++){\\r\\n            this.zones[this.len].push([]);\\r\\n        }\\r\\n    }\\r\\n    /**\\r\\n     * 初始化subZones区域\\r\\n     * \\r\\n     * @param {String} tasktype \\r\\n     * @param {Array<Object>} subnodes \\r\\n     * @param {Number} parentIndex \\r\\n     */\\r\\n    initSubZones(tasktype, subnodes, parentIndex){\\r\\n        this.addZones(tasktype, subnodes, parentIndex);\\r\\n        subnodes.forEach((tasknode, index) => {\\r\\n            let newzone = new _activityzone__WEBPACK_IMPORTED_MODULE_1__[\"default\"](tasknode, index, parentIndex);\\r\\n            this.zones[this.len][parentIndex].push(newzone);\\r\\n        });\\r\\n    }\\r\\n    /**\\r\\n     * 根据parentIndex 选择是普通zone还是subzone\\\\\\r\\n     * 对于subzone还要sub化以及对父zone添加mark\\r\\n     * \\r\\n     * @param {String} tasktype\\r\\n     * @param {Array<Object>} nodes\\r\\n     * @param {Number} parentIndex = -1\\r\\n     */\\r\\n    addZones(tasktype, nodes, parentIndex = -1){\\r\\n        let str = \"\";\\r\\n        nodes.forEach((tasknode, index) => {\\r\\n            str += (!~parentIndex) ?\\r\\n                `<div class=\"panel panel-info design-act-zone\" \\r\\n                    data-index=\"${index}\" data-parent=\"-1\">` :\\r\\n                `<div class=\"panel panel-warning design-act-subZone\" \\r\\n                    data-index=\"${index}\" data-parent=\"${parentIndex}\">`;\\r\\n            str += `\\r\\n            <div class=\"panel-heading\">\\r\\n                <h3 class=\"panel-title design-act-zone-title\">\\r\\n                    <img src=\"image/nodes/${tasktype}/${tasknode.imgsrc}\" \\r\\n                        class=\"pull-left design-act-zone-icon\" />\\r\\n                    <span>${tasknode.nodename}</span> - 学习活动\\r\\n                    <span class=\"badge pull-right activity-number\">0</span>\\r\\n                </h3>\\r\\n            </div>\\r\\n            <div class=\"panel-body design-act-zone-content\">\\r\\n                <div class=\"init-act\">\\r\\n                    <button class=\"btn btn-default\">新建活动</button>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\"design-act-zone-hassub hidden\">\\r\\n                <span class=\"glyphicon glyphicon-chevron-down\"></span>\\r\\n            </div>\\r\\n            <div class=\"menu-box\"></div>\\r\\n            </div>\\r\\n            `.trim();\\r\\n        });\\r\\n        if(!~parentIndex){\\r\\n            this.$div.append(str);\\r\\n        }else{\\r\\n            let $target = this.$div.children(\".design-act-zone\").eq(parentIndex);\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show($target.find(\".design-act-zone-hassub\"));\\r\\n            $target.after(\\'<div class=\"subZones\"></div>\\');\\r\\n            $target.next().append(str);\\r\\n        }\\r\\n    }   \\r\\n    /**\\r\\n     * 目前只可能一次删除多个zone块(且是subzones)\\\\\\r\\n     * 参数为parentIndex 值-1 清空(重置)\\r\\n     * \\r\\n     * @param {Number} parentIndex = -1\\r\\n     */\\r\\n    deleteZones(parentIndex = -1){\\r\\n        if(!~parentIndex){\\r\\n            this.$div.html(\"\");\\r\\n            return;\\r\\n        }\\r\\n        let $target = this.$div.children(\".design-act-zone\").eq(parentIndex);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($target.find(\".design-act-zone-hassub\"));\\r\\n        $target.next(\".subZones\").remove();\\r\\n        //从zones中删除对应ActivityZone节点\\r\\n        this.zones[this.len][parentIndex] = [];\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * 返回activity区域整理好的所有数据\\r\\n     */\\r\\n    get data(){\\r\\n        let activityData = [];\\r\\n        for(let i = 0; i < this.len; i++){\\r\\n            activityData.push(this.zones[i].data);\\r\\n        }\\r\\n\\r\\n        let subActivityData = [],\\r\\n            subzones = this.zones[this.len];\\r\\n        for(let i = 0; i < this.len; i++){\\r\\n            subActivityData.push({\\r\\n                index: i,\\r\\n                nodes: []\\r\\n            });\\r\\n            if(subzones[i].length){\\r\\n                subzones[i].forEach(subzone => {\\r\\n                    subActivityData[i].nodes.push(subzone.data)\\r\\n                });\\r\\n            }\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            prime   : activityData,\\r\\n            sub     : subActivityData\\r\\n        };\\r\\n    }\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/class/activityzones.js?')},\"./src/js/activity/handlers/activity.common.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$activityZone\", function() { return $activityZone; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$activityEditZone\", function() { return $activityEditZone; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editInfo\", function() { return editInfo; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getZone\", function() { return getZone; });\\n/* harmony import */ var _class_activityzones__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../class/activityzones */ \"./src/js/activity/class/activityzones.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 03:25:49 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-25 04:08:23\\r\\n */\\r\\n\\r\\n// import { ZONE } from \"../../design\";\\r\\n\\r\\n\\r\\nlet $activityZone     = $(\"#design-activities-zone\"),\\r\\n    $activityEditZone = $(\"#design-editActivityZone\");\\r\\n\\r\\n\\r\\n\\r\\nconst editInfo = {\\r\\n    nownode: null,\\r\\n    nowtype: null,\\r\\n    editzone: null\\r\\n};\\r\\n\\r\\n/**\\r\\n * 根据index与parentIndex从ZONE中获取对应zone对象返回\\r\\n * \\r\\n * @param {Number} index \\r\\n * @param {Number} parentIndex = -1\\r\\n */\\r\\nfunction getZone(index, parentIndex = -1){\\r\\n    return (!~parentIndex) ?\\r\\n        _class_activityzones__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVITYZONE\"].zones[index] :\\r\\n        _class_activityzones__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVITYZONE\"].zones[_class_activityzones__WEBPACK_IMPORTED_MODULE_0__[\"ACTIVITYZONE\"].len][parentIndex][index];\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/activity.common.js?')},\"./src/js/activity/handlers/activity.dynamic.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dynamicActivityHandler\", function() { return dynamicActivityHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/* harmony import */ var _activity_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./activity.select */ \"./src/js/activity/handlers/activity.select.js\");\\n/* harmony import */ var _activity_saveload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./activity.saveload */ \"./src/js/activity/handlers/activity.saveload.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:24:35 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-13 23:25:44\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\nlet getZoneIndex = ($that) => {\\r\\n    let $node = $that.closest(\".design-act-node-wrapper\");\\r\\n    return [\\r\\n        Object(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"getZone\"])(+$node.data(\"index\"), +$node.data(\"parent\")), \\r\\n        $node.index() - 1 //init-act\\r\\n    ]; \\r\\n}; \\r\\n\\r\\n\\r\\nlet insertNode = function(){\\r\\n    let $menuBox = $(this).parent().find(\".menu-box\"); \\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityZone\"].find(\".menu-box\").html(\"\");\\r\\n    $menuBox.append(Object(_activity_select__WEBPACK_IMPORTED_MODULE_2__[\"initSelectActivityPanel\"])($(this).data(\"type\")));\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet confirmInsert = function(pos, event){\\r\\n    let $this = $(event.target),\\r\\n        //获取对应zone以及自身相对位置index\\r\\n        [zone, index] = getZoneIndex($this),\\r\\n        //验证选择情况\\r\\n        info = Object(_activity_select__WEBPACK_IMPORTED_MODULE_2__[\"validateSelectActivity\"])($this);\\r\\n    \\r\\n    if(info){\\r\\n        zone.addActivity(info, pos, index);\\r\\n        $this.next().click();\\r\\n    }\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet removeNode = function(){\\r\\n    let $this = $(this),\\r\\n        //获取对应zone以及自身相对位置index\\r\\n        [zone, index] = getZoneIndex($this);\\r\\n    \\r\\n    zone.deleteActivity(index);\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet editActivity = function(){\\r\\n    let $this = $(this),\\r\\n        //获取对应zone以及自身相对位置index\\r\\n        [zone, index] = getZoneIndex($this),\\r\\n        node = zone.nodelist[index];\\r\\n    \\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityZone\"].find(\\'.design-act-node\\').removeClass(\\'edit\\');\\r\\n    $this.closest(\\'.design-act-node\\').addClass(\\'edit\\');\\r\\n\\r\\n    let type = node.type,\\r\\n        $editZone   = $(`#design-editActivityZone-${type}`),\\r\\n        activityname = $this.prev().html();\\r\\n    \\r\\n    let flag = _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].nownode !== node; \\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].nownode = node;\\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].editzone = $editZone;\\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].nowtype = type;\\r\\n    Object(_activity_saveload__WEBPACK_IMPORTED_MODULE_3__[\"loadActivityData\"])();\\r\\n    \\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityEditZone\"].children()).show($editZone);\\r\\n    flag && _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].scroll($editZone.find(\".panel-body\"), \"top\");\\r\\n    $editZone.find(\".activity-name\").val(activityname);\\r\\n};\\r\\n\\r\\n\\r\\n/**\\r\\n * 点击插入新节点/删除节点/编辑节点的动态事件处理函数\\r\\n */\\r\\nfunction dynamicActivityHandler(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityZone\"], [\\r\\n        //点击插入节点的箭头 组装选择框\\r\\n        {\\r\\n            target: \".insert-node\",\\r\\n            event: \"click\",\\r\\n            handler: insertNode\\r\\n        }, \\r\\n        //确认向前插入节点\\r\\n        {\\r\\n            target: \".confirm-before\",\\r\\n            event: \"click\",\\r\\n            handler: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].curry(confirmInsert, \"before\")\\r\\n        }, \\r\\n        //确认向后插入节点\\r\\n        {\\r\\n            target: \".confirm-after\",\\r\\n            event: \"click\",\\r\\n            handler: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].curry(confirmInsert, \"after\")\\r\\n        }, \\r\\n        //点击删除学习活动节点\\r\\n        {\\r\\n            target: \".remove-node\",\\r\\n            event: \"click\",\\r\\n            handler: removeNode\\r\\n        }, \\r\\n        //点击编辑打开编辑框\\r\\n        {\\r\\n            target: \".edit-activity-btn\",\\r\\n            event: \"click\",\\r\\n            handler: editActivity\\r\\n        }\\r\\n    ]);\\r\\n};\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/activity.dynamic.js?')},\"./src/js/activity/handlers/activity.edit.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editActivityHandler\", function() { return editActivityHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/* harmony import */ var _activity_saveload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./activity.saveload */ \"./src/js/activity/handlers/activity.saveload.js\");\\n/* harmony import */ var _editactivity_activity_edit_evidence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editactivity/activity.edit.evidence */ \"./src/js/activity/handlers/editactivity/activity.edit.evidence.js\");\\n/* harmony import */ var _editactivity_activity_edit_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editactivity/activity.edit.link */ \"./src/js/activity/handlers/editactivity/activity.edit.link.js\");\\n/* harmony import */ var _editactivity_activity_edit_file__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./editactivity/activity.edit.file */ \"./src/js/activity/handlers/editactivity/activity.edit.file.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:48:04 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-13 23:25:02\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 编辑学习活动有关的事件处理函数\\r\\n */\\r\\nfunction editActivityHandler(){\\r\\n    let hideActivity = function(){\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityEditZone\"].children());\\r\\n        _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityZone\"].find(\\'.design-act-node\\').removeClass(\\'edit\\');\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n    let saveActivity = function(){\\r\\n        Object(_activity_saveload__WEBPACK_IMPORTED_MODULE_2__[\"saveActivityData\"])();//保存数据\\r\\n        $(this).next().click();//关闭\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityEditZone\"], [\\r\\n        {\\r\\n            target: [\".design-editActivity-cancel\", \".activity-remove\"],\\r\\n            event: \"click\",\\r\\n            handler: hideActivity\\r\\n        },\\r\\n        {\\r\\n            target: \".design-editActivity-confirm\",\\r\\n            event: \"click\",\\r\\n            handler: saveActivity\\r\\n        }\\r\\n    ]);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].multistep([\\r\\n        _editactivity_activity_edit_evidence__WEBPACK_IMPORTED_MODULE_3__[\"editActivityEvidenceHandler\"],\\r\\n        _editactivity_activity_edit_link__WEBPACK_IMPORTED_MODULE_4__[\"editActivityLinkHandler\"],\\r\\n        _editactivity_activity_edit_file__WEBPACK_IMPORTED_MODULE_5__[\"editActivityFileHandler\"]\\r\\n    ]);\\r\\n};\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/activity.edit.js?')},\"./src/js/activity/handlers/activity.saveload.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadActivityData\", function() { return loadActivityData; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveActivityData\", function() { return saveActivityData; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../activity.data */ \"./src/js/activity/activity.data.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/*\\r\\n* @Author: Shepherd.Lee \\r\\n* @Date: 2020-02-20 02:37:44 \\r\\n * @Last Modified by: Shepherd.Leee\\r\\n * @Last Modified time: 2020-03-06 15:29:355\\r\\n*/\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * @constant\\r\\n * 存储类型名与展开后的键名数组的映射字典\\r\\n */\\r\\nconst typemap = new Map();\\r\\n\\r\\n/**\\r\\n * 加载学习活动中的基本数据\\r\\n * \\r\\n * @param {Object} target 对应的node数据\\r\\n * @param {String} type 学习活动类型\\r\\n */\\r\\nfunction loadData(target, type){\\r\\n    let keys = typemap.get(type);\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(keys)){\\r\\n        keys = _activity_data__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVITYKEYS\"][type];\\r\\n        typemap.set(type, keys);\\r\\n    }\\r\\n    keys.forEach(key => _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n        target, key, _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'.\\' + key.join(\\'-\\'))\\r\\n    ));\\r\\n}\\r\\n\\r\\n/**\\r\\n * 保存学习活动中的基本数据\\r\\n * \\r\\n * @param {Object} target 对应的node数据\\r\\n * @param {String} type 学习活动类型\\r\\n */\\r\\nfunction saveData(target, type){\\r\\n    let keys = typemap.get(type);\\r\\n    keys.forEach(key => _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].store(\\r\\n        target, key, _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'.\\' + key.join(\\'-\\')).val()\\r\\n    ));\\r\\n}\\r\\n\\r\\n/**\\r\\n * 加载学习活动中的学习证据\\r\\n * \\r\\n * @param {Object} evidences 对应的evidences数据\\r\\n */\\r\\nfunction loadEvidence(evidences){\\r\\n    evidences = (evidences !== \"\") ? evidences : [];\\r\\n    let $evidences_body = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activityEvidenceBody\"),\\r\\n        str = \"\";\\r\\n    for(let evidence of evidences){\\r\\n        str += `\\r\\n        <tr>\\r\\n            <td class=\"content-td\">${evidence.content}</td>\\r\\n            <td class=\"evaluate-td\">${evidence.evaluate}</td>\\r\\n        </tr>`.trim();\\r\\n    }\\r\\n    $evidences_body.html(str);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 保存学习活动中的学习证据\\r\\n * \\r\\n * @param {Object} storeplace 对应的evidences数据保存处\\r\\n */\\r\\nfunction saveEvidence(storeplace){\\r\\n    let evidences = [..._common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activityEvidenceBody\").children()],\\r\\n        arr = evidences.map(evidence => { return {   \\r\\n            content: $(evidence).find(\".content-td\").html(),\\r\\n            evaluate: $(evidence).find(\".evaluate-td\").html() \\r\\n        }});\\r\\n    storeplace.evidence = (evidences.length == 0) ? \"\" : arr;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 加载材料与工具区域的数据\\r\\n * \\r\\n * @param {Object} target 对应的node的数据 \\r\\n */\\r\\nfunction loadMaterial({link, file, text}){\\r\\n    // 1. 装填链接资源\\r\\n    link = (link !== \"\") ? link : [];\\r\\n    let $linkBody = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".link-body\"),\\r\\n        str = \"\";\\r\\n    for(let a of link){\\r\\n        str += `\\r\\n        <tr><td class=\"link-tr-describe\">${a.describe}</td>\\r\\n            <td class=\"link-tr-url\">\\r\\n                <a href=\"${a.url}\" target=\"_blank\">${a.url}</a></td>\\r\\n        </tr>`.trim();\\r\\n    }\\r\\n    $linkBody.html(str);\\r\\n\\r\\n    // 2. 装填上传文件资源\\r\\n    file = (file !== \"\") ? file : [];\\r\\n    let $fileUl = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".file-ul\");\\r\\n    str = \"\";\\r\\n    for(let f of file){\\r\\n        str += `\\r\\n        <li class=\"list-group-item file-li\"\\r\\n            data-fullpath=${f.path}\\r\\n            title=\"点击下载< ${f.filename.trim()} >\">\\r\\n            ${f.filename.trim()}</li>\\r\\n        `.trim();\\r\\n    }\\r\\n    $fileUl.html(str);\\r\\n\\r\\n    // 3. 装填材料与工具\\r\\n    let $text = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".material-text\");\\r\\n    $text.val(text);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 保存材料与工具区域的数据\\r\\n * \\r\\n * @param {Object} storeplace material保存位置\\r\\n */\\r\\nfunction saveMaterial(storeplace){\\r\\n    // 1. 保存链接资源\\r\\n    let links = [..._common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".link-body\").children()],\\r\\n        arr_links = links.map(link => { return {\\r\\n            describe: $(link).find(\".link-tr-describe\").html(),\\r\\n            url: $(link).find(\".link-tr-url a\").html()\\r\\n        }});\\r\\n    storeplace.link = (links.length == 0) ? \"\" : arr_links; \\r\\n\\r\\n    // 2. 保存上传文件\\r\\n    let files = [..._common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".file-ul\").children()],\\r\\n        arr_files = files.map(file => { return {\\r\\n            path: $(file).attr(\"data-fullpath\"),\\r\\n            filename: $(file).html()\\r\\n        }});\\r\\n    storeplace.file = (files.length == 0) ? \"\" : arr_files;\\r\\n\\r\\n    // 3. 保存材料工具\\r\\n    storeplace.text = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".material-text\").val();\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 专门负责在editActivity菜单中的数据的加载\\\\\\r\\n * 1. 活动类型在: edit_type_now\\r\\n * 2. 目标区域在: $edit_zone_now\\r\\n * 3. 目标数据: NODE.nodedata\\r\\n */\\r\\nconst loadActivityData = function(){\\r\\n    let target = _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nownode.nodedata;\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject(_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].editzone);\\r\\n    loadData(target, _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nowtype);\\r\\n    loadEvidence(target.common.evidence);\\r\\n    loadMaterial(target.common.material);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n};\\r\\n\\r\\n/**\\r\\n * 专门负责在editActivity菜单中点击确认后的数据的保存\\\\\\r\\n * 1. 活动类型在: edit_type_now\\r\\n * 2. 目标区域在: $edit_zone_now\\r\\n * 3. 目标数据: NODE.nodedata\\r\\n * \\r\\n * 保存最后NODE.saveData();\\r\\n */\\r\\nconst saveActivityData = function(){\\r\\n    let target = _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nownode.nodedata;\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject(_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].editzone);\\r\\n    saveData(target, _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nowtype);\\r\\n    saveEvidence(target.common);\\r\\n    saveMaterial(target.common.material);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].nownode.saveData(target);\\r\\n};\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/activity.saveload.js?')},\"./src/js/activity/handlers/activity.select.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initSelectActivityPanel\", function() { return initSelectActivityPanel; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateSelectActivity\", function() { return validateSelectActivity; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectActivityHandler\", function() { return selectActivityHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../activity.data */ \"./src/js/activity/activity.data.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:09:47 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:04:11\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 组装选择学习活动的选择面板并返回\\r\\n * \\r\\n * @param {String} type \"init\", \"before\"/\"after\" \\r\\n * @returns {String}\\r\\n */\\r\\nfunction initSelectActivityPanel(type){\\r\\n    if(typeof initSelectActivityPanel.map != \"object\"){\\r\\n        let map = new Map()\\r\\n            .set(\"init\", \"选择活动类型\")\\r\\n            .set(\"before\", \"<b>向前添加新学习活动</b>\")\\r\\n            .set(\"after\", \"<b>向后添加新学习活动</b>\");\\r\\n        initSelectActivityPanel.map = map;\\r\\n\\r\\n        let str = \"<div class=\\'activitiy-radio-zone\\'>\";\\r\\n        str += `\\r\\n        <div class=\"form-group\">\\r\\n            <label for=\"\" class=\"control-label\">活动名称:</label>\\r\\n            <div><input type=\"text\" class=\"form-control\" name=\"activity-name\"\\r\\n                placeholder=\"学习活动的活动名\"></div>\\r\\n        </div><hr />\\r\\n        <label class=\"control-label\">活动类型:</label>\\r\\n        `.trim();\\r\\n        _activity_data__WEBPACK_IMPORTED_MODULE_1__[\"ACTIVITYTYPE\"].forEach(activity => {\\r\\n            str += `\\r\\n            <div class=\\'radio\\'><label>\\r\\n                <input type=\\'radio\\' name=\\'activity-type-select\\' value=\"${activity.type}\">\\r\\n                ${_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].space(2)}${activity.typename}\\r\\n            </label></div>`.trim();\\r\\n        });\\r\\n        str += `\\r\\n        <div class=\"alert alert-warning\" style=\"display:none\">\\r\\n            <p>请选择活动类型并完善活动名称！</p>\\r\\n        </div></div>\\r\\n        `.trim();\\r\\n        initSelectActivityPanel.panelBody = str;\\r\\n    }\\r\\n    let \\r\\n    str =  `\\r\\n    <div class=\"design-initActivityZone\">\\r\\n    <div class=\"panel panel-success\">\\r\\n        <div class=\"panel-heading\"><h3 class=\"panel-title\">\\r\\n            ${initSelectActivityPanel.map.get(type)}\\r\\n        </h3></div>\\r\\n        <div class=\"panel-body\">\\r\\n            ${initSelectActivityPanel.panelBody}\\r\\n            <div class=\\'btn-group pull-right\\'>\\r\\n                <button class=\\'btn btn-success confirm-${type}\\'\">确定</button>\\r\\n                <button class=\\'btn btn-default cancel-select\\'>取消</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    </div>`.trim();\\r\\n    return str;\\r\\n};\\r\\n\\r\\n/**\\r\\n * 验证活动选择\\r\\n * \\r\\n * @param {Object} $this confirm按钮对应的$(this)\\r\\n * @returns - false 未通过 - {activityname, type} 通过\\r\\n */\\r\\nfunction validateSelectActivity($this){\\r\\n    let $panelBody = $this.parent().prev(),\\r\\n        $input = $panelBody.find(\"input[type=\\'text\\']\"),\\r\\n        $radios = $panelBody.find(\"input[type=\\'radio\\']\"),\\r\\n        $warn = $panelBody.find(\".alert\"),\\r\\n        //获取表单内容\\r\\n        activityname = $input.val(),\\r\\n        radio = [...$radios].filter(radio => radio.checked),\\r\\n        type = (!!radio.length) ? radio[0].value : \"\";\\r\\n\\r\\n    if(activityname === \"\" || type === \"\"){\\r\\n        $warn.fadeIn(\"slow\").delay(2000).fadeOut(\"slow\");\\r\\n        return false;\\r\\n    }else{\\r\\n        return {\\r\\n            activityname: activityname, \\r\\n            type: type\\r\\n        };\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 选择活动的事件处理函数\\r\\n */\\r\\nfunction selectActivityHandler(){\\r\\n    let initPanel = function(){\\r\\n        let $menuBox = $(this).closest(\".panel\")\\r\\n            .find(\".menu-box\");\\r\\n\\r\\n        _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"$activityZone\"].find(\".menu-box\").html(\"\");\\r\\n        $menuBox.append(initSelectActivityPanel(\"init\"));\\r\\n    };\\r\\n\\r\\n    let cancelActivitySelect = function(){\\r\\n        console.log(\"cancel\");\\r\\n        $(this).closest(\".menu-box\").html(\"\");\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n    let confirmActivitySelect = function(){\\r\\n        console.log(\"confirm\");\\r\\n        let $this = $(this),\\r\\n            $zone = $this.closest(\".menu-box\").parent(),\\r\\n            //获取对应zone\\r\\n            zone = Object(_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"getZone\"])(+$zone.data(\"index\"), +$zone.data(\"parent\")),\\r\\n            //验证选择情况\\r\\n            info = validateSelectActivity($this);\\r\\n\\r\\n        if(info){\\r\\n            zone.addActivity(info, \"init\");\\r\\n            $this.next().click();\\r\\n        }\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"$activityZone\"], [\\r\\n        {\\r\\n            target: \".init-act\",\\r\\n            event: \"click\",\\r\\n            handler: initPanel\\r\\n        }, \\r\\n        {\\r\\n            target: \".cancel-select\",\\r\\n            event: \"click\",\\r\\n            handler: cancelActivitySelect\\r\\n        }, \\r\\n        {\\r\\n            target: \".confirm-init\",\\r\\n            event: \"click\",\\r\\n            handler: confirmActivitySelect\\r\\n        }\\r\\n    ]);\\r\\n};\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/activity.select.js?')},\"./src/js/activity/handlers/activity.toggle.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"togglePanelHandler\", function() { return togglePanelHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 03:51:12 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:04:15\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 关于面板收缩的事件处理函数\\r\\n */\\r\\nfunction togglePanelHandler(){\\r\\n    const SPEED = 400;//slide-speed\\r\\n\\r\\n    let toggleActivityZone = function(){\\r\\n        $(this).next().slideToggle(SPEED);\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n    let toggleActivityNode = function(){\\r\\n        let $heading = $(this),\\r\\n            $content = $heading.next(),\\r\\n            $panel   = $heading.parent();\\r\\n        \\r\\n        $content.toggleClass(\"hidden\");\\r\\n        $panel.toggleClass(\"panel-default\").toggleClass(\"panel-toggle\");\\r\\n        $heading.find(\".panel-title b\").html(\\r\\n            $content.hasClass(\"hidden\") ? \\r\\n                $content.find(\".design-activity-name\").html() :\\r\\n                $panel.data(\"typename\")\\r\\n        );\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n    let toggleHasSubActivityZone = function(){\\r\\n        $(this).parent().next(\".subZones\").slideToggle(SPEED);\\r\\n        return false;\\r\\n    };\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityZone\"], [\\r\\n        //toggle - design-act-zone-content\\r\\n        {\\r\\n            target: [\\r\\n                \".design-act-zone > .panel-heading\", \\r\\n                \".design-act-subZone > .panel-heading\"\\r\\n            ],\\r\\n            event: \"click\",\\r\\n            handler: toggleActivityZone\\r\\n        }, \\r\\n        //toggle - design-act-node-content\\r\\n        {\\r\\n            target: \".design-act-node > .panel-heading\",\\r\\n            event: \"click\",\\r\\n            handler: toggleActivityNode\\r\\n        }, \\r\\n        //toggle - subZones\\r\\n        {\\r\\n            target: \".design-act-zone-hassub\",\\r\\n            event: \"click\",\\r\\n            handler: toggleHasSubActivityZone\\r\\n        }\\r\\n    ]);\\r\\n};\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/activity.toggle.js?')},\"./src/js/activity/handlers/editactivity/activity.edit.evidence.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editActivityEvidenceHandler\", function() { return editActivityEvidenceHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:52:12 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:03:36\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n//模态框相关的引用对象\\r\\nlet $modal      = $(\"#activityEvidenceModal\");\\r\\n$modal.appendTo(document.body);\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modal);\\r\\nlet $select     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#activityEvidenceSelectZone\"),\\r\\n    $selected   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#activityEvidenceSelectedZone\"),\\r\\n    $show       = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#activityEvidenceShowZone\");\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n\\r\\n/**\\r\\n * 组装学习证据的tr\\r\\n * \\r\\n * @param {Object} $tbody tr填装的目的tbody \\r\\n * @param {Array} evidences 学习证据对象的数组 \\r\\n * @param {Boolean} selected = false 是否默认选中 \\r\\n */\\r\\nfunction initEvidenceRow($tbody, evidences, selected = false){\\r\\n    let str = \"\";\\r\\n    evidences.forEach(evidence => {\\r\\n        str += `\\r\\n        <tr>\\r\\n            <td class=\"content-td\">${evidence.content}</td>\\r\\n            <td class=\"evaluate-td\">${evidence.evaluate}</td>\\r\\n            <td class=\"checkbox-td\"><input type=\"checkbox\" \\r\\n                ${selected?\"checked\":\"\"}></td>\\r\\n        </tr>`.trim();\\r\\n    });\\r\\n    $tbody.html(str);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 提取学习证据\\r\\n * \\r\\n * @param {Object} $tbody\\r\\n * @return {Array} \\r\\n */\\r\\nfunction extractEvidence($tbody){\\r\\n    let evidences = [];\\r\\n    [...$tbody.children()].forEach(tr => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(tr));\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"input\")[0].checked){\\r\\n            evidences.push({\\r\\n                content: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".content-td\").html(),\\r\\n                evaluate: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evaluate-td\").html()\\r\\n            });\\r\\n        }\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    });\\r\\n    return evidences;\\r\\n}\\r\\n\\r\\n\\r\\nlet initEvidenceModal = function(){\\r\\n    $modal.modal(\"show\");\\r\\n    $(this).next().click();\\r\\n    \\r\\n    let [nowInfo, evidences, selectedInfo] = _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].nownode.zone.evidences;\\r\\n    //当前学习证据\\r\\n    $show.parent().find(\"caption b\").html(nowInfo.activityname);\\r\\n    initEvidenceRow($show, nowInfo.evidences, true);\\r\\n    //可选学习证据\\r\\n    initEvidenceRow($select, evidences);\\r\\n    //已选学习证据\\r\\n    if(selectedInfo.length){\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show([$selected, $selected.prev()]);\\r\\n    }else{\\r\\n        return false;\\r\\n    }\\r\\n    selectedInfo.forEach(info => {\\r\\n        let $table = $selected.find(\"table\").eq(0).clone(true);\\r\\n        $table.find(\"caption b\").html(info.activityname);\\r\\n        $table.attr(\"data-id\", info.id);\\r\\n        initEvidenceRow(\\r\\n            $table.find(\".selectedZone\"), \\r\\n            info.evidences, true\\r\\n        );\\r\\n        $table.removeClass(\"hidden\").appendTo($selected);\\r\\n    });\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet resetEvidence = function(){\\r\\n    $select.html(\"\");\\r\\n    $show.html(\"\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide([$selected, $selected.prev()]);\\r\\n    $selected.find(\"table:not(:first)\").remove();\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet appendTo = function($zone, event){\\r\\n    $(event.target).closest(\"tr\").appendTo($zone);\\r\\n    return false;\\r\\n}\\r\\n\\r\\nlet selectedChange = function(){\\r\\n    let $tr = $(this).closest(\"tr\"),\\r\\n        $table = $tr.closest(\"table\"),\\r\\n        id = $table.data(\"id\") + \\'-\\' + $tr.index();\\r\\n    $tr.attr(\"data-id\", id);\\r\\n    if($(this).prop(\"checked\")){\\r\\n        let $target = $select.find(`tr[data-id=\"${id}\"]`);\\r\\n        if($target.length){\\r\\n            $target.remove();\\r\\n            $tr.removeClass(\"cancel\");\\r\\n        }else{\\r\\n            $(this).prop(\"checked\", false);\\r\\n        }\\r\\n    }else{\\r\\n        $tr.clone().appendTo($select);\\r\\n        $tr.addClass(\"cancel\");\\r\\n    }\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet confirmEvidence = function(){\\r\\n    let $trs = $show.clone();\\r\\n    $trs.find(\".checkbox-td\").remove();\\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].editzone.find(\".activityEvidenceBody\").html($trs.html());\\r\\n\\r\\n    let evidences_after = [{\\r\\n        id: _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].nownode.id,\\r\\n        evidences: extractEvidence($show)\\r\\n    }];\\r\\n    [...$selected.find(\"table:not(:first)\")].forEach(table => {\\r\\n        evidences_after.push({\\r\\n            id: $(table).data(\"id\"),\\r\\n            evidences: extractEvidence($(table).find(\".selectedZone\"))\\r\\n        });\\r\\n    });\\r\\n    _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].nownode.zone.evidences = evidences_after;\\r\\n    $(this).next().click();//cancel\\r\\n    return false;\\r\\n};\\r\\n\\r\\n/**\\r\\n * 编辑学习活动中的学习证据部分的事件处理\\r\\n */\\r\\nfunction editActivityEvidenceHandler(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityEditZone\"], [\\r\\n        //点击打开选择学习证据模态框\\r\\n        {\\r\\n            target: \".select-activityEvidence\",\\r\\n            event: \"click\",\\r\\n            handler: initEvidenceModal\\r\\n        }, \\r\\n        //重置学习证据区域\\r\\n        {\\r\\n            target: \".reset-activityEvidence\",\\r\\n            event: \"click\",\\r\\n            handler: resetEvidence\\r\\n        }\\r\\n    ]);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate($modal, [\\r\\n        //当前学习证据 - 取消 -> 可选学习证据\\r\\n        {\\r\\n            target: \"#activityEvidenceShowZone input\",\\r\\n            event: \"change\",\\r\\n            handler: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].curry(appendTo, $select)\\r\\n        }, \\r\\n        //可选学习证据 - 确认 -> 当前学习证据\\r\\n        {\\r\\n            target: \"#activityEvidenceSelectZone input\",\\r\\n            event: \"change\",\\r\\n            handler: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].curry(appendTo, $show)\\r\\n        },\\r\\n        //已选学习证据 - 取消/确认 -> 可选学习证据 \\r\\n        {\\r\\n            target: \".selectedZone input\",\\r\\n            event: \"change\",\\r\\n            handler: selectedChange\\r\\n        },\\r\\n        //确认 修改学习证据数据(显示警告信息) 修改$body \\r\\n        {\\r\\n            target: \"#confirmActivityEvidence\",\\r\\n            event: \"click\",\\r\\n            handler: confirmEvidence\\r\\n        }\\r\\n    ]);\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/editactivity/activity.edit.evidence.js?')},\"./src/js/activity/handlers/editactivity/activity.edit.file.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editActivityFileHandler\", function() { return editActivityFileHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:52:53 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 20:51:00\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nlet $modal = $(\"#fileModal\");\\r\\n$modal.appendTo(document.body);\\r\\n\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modal.find(\"#fileModal-show\"));\\r\\nlet $showBody = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#fileModal-show-body\"),\\r\\n    $showTemp = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#fileModal-show-template\");\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\nlet $modalAdd = $modal.find(\"#fileModal-add\");\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modalAdd);\\r\\nlet $location   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-location\"),\\r\\n    $check      = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-check\"),\\r\\n    $file       = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-file\"),\\r\\n    $name       = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-name\"),\\r\\n    $submit     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-submit\"),\\r\\n    $upload     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-upload\"),\\r\\n    $reset      = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addFile-reset\");\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\nvar upload_path = \"/\";\\r\\n\\r\\n/**\\r\\n * 组装文件信息的tr\\r\\n * \\r\\n * @param {String} filename \\r\\n * @param {String} fullpath \\r\\n */\\r\\nfunction initFileRow(filename, fullpath){\\r\\n    let $newRow = $showTemp.clone()\\r\\n        .removeClass(\"hidden\").removeAttr(\"id\");\\r\\n    initFileRow.pattern = initFileRow.pattern || /\\\\.[^\\\\.]+$/;\\r\\n    let type = initFileRow.pattern.exec(fullpath)\\r\\n        .toString().substring(1);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($newRow);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".fileModal-show-filename\").html(filename);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".fileModal-show-filename\").attr(\"data-fullpath\", fullpath);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".fileModal-show-type\").html(type);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    return $newRow;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 提取tr中的文件信息\\r\\n * \\r\\n * @param {Object} $tbody \\r\\n */\\r\\nfunction extractFile($tbody){\\r\\n    let str = \"\",\\r\\n        $filename, filename;\\r\\n    [...$tbody.find(\"tr:not(:first)\")].forEach(tr => {\\r\\n        $filename = $(tr).find(\".fileModal-show-filename\");\\r\\n        filename = $filename.html().trim();\\r\\n        str +=  `\\r\\n            <li class=\"list-group-item file-li\"\\r\\n                data-fullpath=${$filename.attr(\"data-fullpath\")}\\r\\n                title=\"点击下载< ${filename} >\">\\r\\n                ${filename}</li>\\r\\n        `.trim();\\r\\n    });\\r\\n    return str;\\r\\n}\\r\\n\\r\\n\\r\\nlet initFileModal = function(){\\r\\n    let $fileUl = _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].editzone.find(\".file-ul\");\\r\\n    $showBody.find(\"tr:not(:first)\").remove();\\r\\n    for(let file of [...$fileUl.children()]){\\r\\n        initFileRow(\\r\\n            $(file).html(),\\r\\n            $(file).data(\"fullpath\")\\r\\n        ).appendTo($showBody);\\r\\n    }\\r\\n    $modal.modal(\"show\");\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet downloadFile = function(){\\r\\n    let $a = $(`<a href=\"${$(this).data(\"fullpath\")}\" download></a>`)\\r\\n    $a.addClass(\"hidden\").appendTo(document.body);\\r\\n    $a[0].click();\\r\\n    $a.remove();\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet uploadFile = function(){\\r\\n    let formData = new FormData($(\"#fileUpload-form\")[0]);\\r\\n    formData.append(\"userid\", _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].userid);\\r\\n    formData.append(\"username\", _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].username);\\r\\n\\r\\n    $.ajax({\\r\\n        type: \"POST\",\\r\\n        url: \"./php/upload/upload_file.php\",\\r\\n        data: formData,\\r\\n        dataType: \"json\",\\r\\n        cache: false,\\r\\n        contentType: false,\\r\\n        processData: false,\\r\\n        success(res){\\r\\n            console.log(res);\\r\\n            initFileRow(\\r\\n                res.filename,\\r\\n                upload_path + res.fullname\\r\\n            ).appendTo($showBody);\\r\\n        },\\r\\n        error(res){\\r\\n            console.error(upload_path);\\r\\n            console.error(res);\\r\\n            alert(\"File Upload Occured ERROR!\");\\r\\n        }\\r\\n    });\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet deleteFile = function(){\\r\\n    let $tr = $(this).closest(\"tr\"),\\r\\n        fullpath = $tr.find(\".fileModal-show-filename\").data(\"fullpath\");\\r\\n    fullpath = fullpath.replace(upload_path, \\'../.\\' + upload_path);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].beacon(\"./php/upload/delete_file.php\", {filepath: fullpath});\\r\\n    $tr.remove();\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet addFile = function(){\\r\\n    let $fileUl = _activity_common__WEBPACK_IMPORTED_MODULE_2__[\"editInfo\"].editzone.find(\".file-ul\");\\r\\n    $fileUl.html(extractFile($showBody));\\r\\n    $modal.modal(\"hide\");\\r\\n    return false;\\r\\n};\\r\\n\\r\\n\\r\\n/**\\r\\n * 编辑学习活动中的文件上传部分的事件处理\\r\\n */\\r\\nfunction editActivityFileHandler(){\\r\\n    //path 异步确定\\r\\n    //上传文件的文件夹 - 注意末尾必须有/\\r\\n    upload_path = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].session ?\\r\\n        `./userdata/${_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].userid}_${_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].username}/upload/` :\\r\\n        \"./upload/\";\\r\\n\\r\\n    //上传控件相关的一些handler\\r\\n    $file.change(() => $location.val($file.val()));\\r\\n    $check.click(() => $file.click());\\r\\n    $upload.click(() => {\\r\\n        $submit.click();\\r\\n        return false;\\r\\n    });\\r\\n    $reset.click(() => {\\r\\n        $name.val(\"\");\\r\\n        $location.val(\"\");\\r\\n        $file.val(\"\");\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_2__[\"$activityEditZone\"], [\\r\\n        {\\r\\n            target: \".change-file\",\\r\\n            event: \"click\",\\r\\n            handler: initFileModal\\r\\n        }, \\r\\n        {\\r\\n            target: \".file-li\",\\r\\n            event: \"click\",\\r\\n            handler: downloadFile\\r\\n        }\\r\\n    ])\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate($modal, [\\r\\n        {\\r\\n            target: \"#fileUpload-form\",\\r\\n            event: \"submit\",\\r\\n            handler: uploadFile\\r\\n        }, \\r\\n        {\\r\\n            target: \".delete-file\",\\r\\n            event: \"click\",\\r\\n            handler: deleteFile\\r\\n        }, \\r\\n        {\\r\\n            target: \"#confirmFile\",\\r\\n            event: \"click\",\\r\\n            handler: addFile\\r\\n        }\\r\\n    ]);\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/editactivity/activity.edit.file.js?')},\"./src/js/activity/handlers/editactivity/activity.edit.link.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editActivityLinkHandler\", function() { return editActivityLinkHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _activity_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../activity.common */ \"./src/js/activity/handlers/activity.common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-20 04:52:32 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:03:43\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nlet $modal = $(\"#linkModal\");\\r\\n$modal.appendTo(document.body);\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modal);\\r\\nlet $showBody = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#linkModal-show-body\"),\\r\\n    $showTemp = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#linkModal-show-template\"),\\r\\n\\r\\n    $url = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#linkModal-add-url\"),\\r\\n    $describe = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#linkModal-add-describe\");\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n/**\\r\\n * 组装链接的tr 返回jquery对象\\r\\n * \\r\\n * @param {String} describe \\r\\n * @param {String} url \\r\\n */\\r\\nfunction initLinkRow(describe, url){\\r\\n    let $newRow = $showTemp.clone().removeClass(\"hidden\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($newRow);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".linkModal-show-describe\").val(describe);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".linkModal-show-url\").val(url);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    return $newRow;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 从tr(jquery)对象中提取link数据\\r\\n * \\r\\n * @param {Object} $tr \\r\\n */\\r\\nfunction extractLink($tr){\\r\\n    return {\\r\\n        describe: $tr.find(\".linkModal-show-describe\").val(),\\r\\n        url: $tr.find(\".linkModal-show-url\").val()\\r\\n    };\\r\\n}\\r\\n\\r\\n\\r\\nlet initLinkModal = function(){\\r\\n    $modal.modal(\"show\");\\r\\n    let $body = _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].editzone.find(\".link-body\");\\r\\n\\r\\n    //重置showBody\\r\\n    $showBody.find(\"tr:not(:first)\").remove();\\r\\n    [...$body.children()].forEach(tr => {\\r\\n        let $tr = $(tr);\\r\\n        initLinkRow(\\r\\n            $tr.find(\".link-tr-describe\").html(),\\r\\n            $tr.find(\".link-tr-url a\").html()\\r\\n        ).appendTo($showBody);                \\r\\n    });\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet deleteLink = function(){\\r\\n    $(this).closest(\"tr\").remove();\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet createLink = function(){\\r\\n    let url = $url.val(),\\r\\n        describe = $describe.val();\\r\\n    if(url !== \"\"){\\r\\n        initLinkRow(describe, url).appendTo($showBody);\\r\\n        $url.val(\"\");\\r\\n        $describe.val(\"\");\\r\\n    }\\r\\n    return false;\\r\\n};\\r\\n\\r\\nlet addLink = function(){\\r\\n    //step.1 从$showBody 中获取数据\\r\\n    let links = [];\\r\\n    [...$showBody.find(\"tr:not(:first)\")].forEach(tr => {\\r\\n        links.push(extractLink($(tr)));\\r\\n    });\\r\\n    //step.2 装入link-body中\\r\\n    let $body = _activity_common__WEBPACK_IMPORTED_MODULE_1__[\"editInfo\"].editzone.find(\".link-body\"),\\r\\n        str = \"\";\\r\\n    for(let link of links){\\r\\n        str += `\\r\\n        <tr>\\r\\n            <td class=\"link-tr-describe\">${link.describe}</td>\\r\\n            <td class=\"link-tr-url\">\\r\\n                <a href=\"${link.url}\" target=\"_blank\">${link.url}</a>\\r\\n            </td>\\r\\n        </tr>`.trim();\\r\\n    }\\r\\n    $body.html(str);\\r\\n    $modal.modal(\"hide\");\\r\\n    return false;\\r\\n};\\r\\n\\r\\n/**\\r\\n * 编辑学习活动中的链接部分的事件处理\\r\\n */\\r\\nfunction editActivityLinkHandler(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_activity_common__WEBPACK_IMPORTED_MODULE_1__[\"$activityEditZone\"], {\\r\\n        target: \".change-link\",\\r\\n        event: \"click\",\\r\\n        handler: initLinkModal\\r\\n    });\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate($modal, [\\r\\n        {\\r\\n            target: \".delete-link\",\\r\\n            event: \"click\",\\r\\n            handler: deleteLink\\r\\n        }, \\r\\n        {\\r\\n            target: \"#linkModal-add-btn\",\\r\\n            event: \"click\",\\r\\n            handler: createLink\\r\\n        }, \\r\\n        {\\r\\n            target: \"#confirmLink\",\\r\\n            event: \"click\",\\r\\n            handler: addLink\\r\\n        }\\r\\n    ]);\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/activity/handlers/editactivity/activity.edit.link.js?')},\"./src/js/common/common.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _funcs_console__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./funcs/console */ \"./src/js/common/funcs/console.js\");\\n/* harmony import */ var _funcs_function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./funcs/function */ \"./src/js/common/funcs/function.js\");\\n/* harmony import */ var _funcs_stringnum__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./funcs/stringnum */ \"./src/js/common/funcs/stringnum.js\");\\n/* harmony import */ var _funcs_ajax__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./funcs/ajax */ \"./src/js/common/funcs/ajax.js\");\\n/* harmony import */ var _funcs_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./funcs/event */ \"./src/js/common/funcs/event.js\");\\n/* harmony import */ var _funcs_object__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./funcs/object */ \"./src/js/common/funcs/object.js\");\\n/* harmony import */ var _funcs_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./funcs/style */ \"./src/js/common/funcs/style.js\");\\n/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./commonObj */ \"./src/js/common/commonObj.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"common\", function() { return _commonObj__WEBPACK_IMPORTED_MODULE_7__[\"common\"]; });\\n\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:28:59 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:54:10\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/common/common.js?')},\"./src/js/common/commonObj.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"common\", function() { return common; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Add\", function() { return Add; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Target\", function() { return Target; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Config\", function() { return Config; });\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:12:30 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 03:24:10\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/commonObj.js\\r\\n *\\r\\n * 封装工具函数的common对象的原始定义\\r\\n * 以及在common对象上添加工具函数等的方法的定义\\r\\n */\\r\\n\\r\\n/**\\r\\n * 导出的，用以封装所有工具函数的命名空间对象\\r\\n */\\r\\nconst common = {};\\r\\n\\r\\n/*\\r\\n * common的功能属性名 - 使用Symbol保证私有\\r\\n * 只在该文件夹内导入使用\\r\\n */\\r\\nconst Add = Symbol(\\'add function\\');\\r\\nconst Target = Symbol(\\'store target\\');\\r\\nconst Config = Symbol(\\'config\\');\\r\\n\\r\\n\\r\\n/**\\r\\n * 为common添加工具函数\\r\\n * \\r\\n * @param  {...any} funcs 添加的工具函数，函数参数逐个列出\\r\\n */\\r\\nfunction addFunction(...funcs) {\\r\\n    for (let func of funcs) {\\r\\n        if ( !Array.isArray(func) ) {\\r\\n            common[func.name] = func;\\r\\n        } else {\\r\\n            // [func, \"alias\"]格式，为工具函数设置别名\\r\\n            common[func[1]] = func[0];\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 与控制台相关的输出函数的配置(控制输出与否)\\\\\\r\\n * 属性对应console.js下的控制台输出函数\\r\\n */\\r\\nconst commonConfig = {\\r\\n    ok      : true,\\r\\n    hello   : false,\\r\\n    abandon : true\\r\\n};\\r\\n\\r\\n\\r\\n/*\\r\\n * 为common对象添加仅在该文件夹内部使用的辅助用的属性与方法\\r\\n */\\r\\nObject.assign(common, {\\r\\n    /**\\r\\n     * 为common添加工具函数\\r\\n     * \\r\\n     * @property {Function}\\r\\n     */\\r\\n    [Add]: addFunction,\\r\\n    /**\\r\\n     * inject, _等函数操作的对象存放处\\r\\n     * \\r\\n     * @property {Object} \\r\\n     */\\r\\n    [Target]: null,\\r\\n    /**\\r\\n     * 相关控制台输出控制的配置\\r\\n     * \\r\\n     * @property {Object}\\r\\n     */\\r\\n    [Config]: commonConfig\\r\\n});\\n\\n//# sourceURL=webpack:///./src/js/common/commonObj.js?')},\"./src/js/common/funcs/ajax.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \"./src/js/common/commonObj.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:19:04 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 04:33:32\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/ajax.js\\r\\n * \\r\\n * 与ajax为主的post/get调用以及相关的参数设置的辅助函数\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将ajax的同步/异步模式切换\\\\\\r\\n * 需要成对使用，先关闭异步再开启\\r\\n */\\r\\nfunction exasync(){\\r\\n    _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._abandon(\"async\");\\r\\n    $.ajaxSettings.async = !$.ajaxSettings.async;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 将ajax的缓存功能开启/关闭\\r\\n * \\r\\n * @param {String} type \"on\" or \"off\"\\r\\n */\\r\\nfunction excache(type = \\'on\\') {\\r\\n    if (type == \\'on\\') {\\r\\n        $.ajaxSetup( {cache: true} );\\r\\n    } else if (type == \\'off\\') {\\r\\n        $.ajaxSetup( {cache: false} );\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 封装的简化get操作，返回调用的结果\\\\\\r\\n * 默认采用同步方式\\r\\n * \\r\\n * @param {String} path $.get的目标路径\\r\\n * @param {Boolean} async = true 默认异步\\r\\n * @param {Boolean} cache = false 默认不加载缓存\\r\\n * @returns {*} 返回get调用返回的数据 \\r\\n */\\r\\nfunction get(path, async = true, cache = false) {\\r\\n    _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._abandon(\"get\"); \\r\\n    if(async) exasync();\\r\\n    if(!cache) excache(\"off\");\\r\\n\\r\\n    let data;\\r\\n    $.get(path, (res) => {\\r\\n        data = res;\\r\\n    });\\r\\n\\r\\n    if(!cache) excache(\"on\");\\r\\n    if(async) exasync();\\r\\n    return data;\\r\\n}\\r\\n\\r\\n/**\\r\\n * Promise包装的$.ajax\\r\\n * \\r\\n * @param {String} obj ajax 参数对象\\\\\\r\\n *      默认：type = GET, data = {}, dataType = \"JSON\"\\r\\n * @param {Boolean} nocache = true 默认使用添加随机数不加载缓存 \\r\\n * @returns {Object} 返回Promise对象\\r\\n */\\r\\nfunction request({type = \\'GET\\', data = {}, dataType = \\'JSON\\', url}\\r\\n    , nocache = true) {\\r\\n    return new Promise(function(resolve, reject) {\\r\\n        nocache && (url = `${url}?random=${_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"].random()}`);\\r\\n        $.ajax({\\r\\n            url: url,\\r\\n            data: data,\\r\\n            type: type,\\r\\n            dataType: dataType,\\r\\n            \\r\\n            success: (res) => {\\r\\n                resolve(res);\\r\\n            },\\r\\n            error: (err) => {\\r\\n                reject(err);\\r\\n            }\\r\\n        });\\r\\n    });\\r\\n}\\r\\n\\r\\n/**\\r\\n * 利用信标进行数据传输\\r\\n * \\r\\n * @param {String} path get的路径 \\r\\n * @param {Object} params 组装querystring的对象\\r\\n */\\r\\nfunction beacon(path, params) {\\r\\n    let url = path + \\'?\\' + $.param(params),\\r\\n        beacon = new Image();\\r\\n    \\r\\n    beacon.src = url;\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Add\"]](\\r\\n    [exasync, \"async\"], [excache, \"cache\"], \\r\\n    get, request, beacon\\r\\n);\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/ajax.js?')},\"./src/js/common/funcs/console.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \"./src/js/common/commonObj.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:17:22 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 04:14:15\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/console.jigsaw-row\\r\\n * \\r\\n * 与控制台相关的辅助函数，主要为测试时使用\\r\\n * 对应的不同控制台输出内容在commonConfig中可以配置输出是否允许\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 调试中用，打印在控制台\\r\\n */\\r\\nfunction ok() {\\r\\n    if ( !_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Config\"]].ok ) return;\\r\\n    console.log(\\'OK!!!!!!!!!\\');\\r\\n}\\r\\n\\r\\n/**\\r\\n * 在js文件开头调用，测试文件是否正确加载\\r\\n * \\r\\n * @param {String} filename 文件名\\r\\n */\\r\\nfunction hello(filename) {\\r\\n    if ( !_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Config\"]].hello ) return;\\r\\n    console.log(`Hello! - ${filename}.js`);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 标记废弃的函数，仅在该文件夹内使用\\r\\n * \\r\\n * @param {String} funcname 函数名\\r\\n * @param {Boolean} absolute = false 为true时无视commonConfig\\r\\n */\\r\\nfunction _abandon(funcname, absolute = false) {\\r\\n    if ( !absolute && !_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Config\"]].abandon ) return;\\r\\n    console.warn(`${funcname} has abandoned!`);\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Add\"]](\\r\\n    ok, hello,\\r\\n    _abandon\\r\\n);\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/console.js?')},\"./src/js/common/funcs/event.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \"./src/js/common/commonObj.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:20:04 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 04:39:38\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/event.js\\r\\n * \\r\\n * 与事件相关的辅助函数，包括部分简单的效果(例如滚轮控制等)\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 在document上监听事件\\r\\n * \\r\\n * @param {String} eventType 监听的事件类型\\r\\n * @param {Function} fn 事件函数\\r\\n * @param {Array} args = [] 事件函数的参数\\r\\n */\\r\\nfunction listen(eventType, fn, args = []) {\\r\\n    $(document).bind(eventType, function() {\\r\\n        fn.apply(null, args);\\r\\n    });\\r\\n}\\r\\n\\r\\n/**\\r\\n * 在document上触发事件\\r\\n * \\r\\n * @param {String} eventType 触发的事件类型\\r\\n * @param {Boolean} hold = false 默认不保持，即触发后就取消绑定\\r\\n */\\r\\nfunction trigger(eventType, hold = false) {\\r\\n    $(document).trigger(eventType);\\r\\n    if ( !hold ) $(document).unbind(eventType);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 在指定对象上委托多个事件的简写\\r\\n * \\r\\n * @example\\r\\n * delegate($(target), {\\r\\n *      target: \".classname\",\\r\\n *      event: \"click\",\\r\\n *      handler: handler\\r\\n * });\\r\\n * @param {Object} $target \\r\\n * @param {Object} handlerObjs - target/event/handler\\r\\n */\\r\\nfunction delegate($target, handlerObjs) {\\r\\n    handlerObjs = ( !Array.isArray(handlerObjs) ) ? \\r\\n        [handlerObjs] : handlerObjs;\\r\\n    \\r\\n    handlerObjs.forEach(obj => { \\r\\n        if( !Array.isArray(obj.target) ) {\\r\\n           $target.delegate(\\r\\n                obj.target, obj.event, obj.handler\\r\\n            ); \\r\\n        } else {\\r\\n            obj.target.forEach(target => {\\r\\n                $target.delegate(\\r\\n                    target, obj.event, obj.handler\\r\\n                );\\r\\n            });\\r\\n        }\\r\\n    })\\r\\n}\\r\\n\\r\\n/**\\r\\n * 滚轮控制\\r\\n * \\r\\n * @param {Object} $target  \\r\\n * @param {String} type = \"top\" / \"bottom\" \\r\\n * @param {Number|String} speed = 400\\r\\n */\\r\\nfunction scroll($target, type, speed = 400) {\\r\\n    if (type === \\'top\\') {\\r\\n        $target.animate({ scrollTop: 0 }, speed);\\r\\n    } else if (type === \\'bottom\\') {\\r\\n        let scrollHeight = $target.prop(\\'scrollHeight\\');\\r\\n        $target.animate({ scrollTop: scrollHeight }, speed);\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Add\"]](\\r\\n    listen, trigger, delegate,\\r\\n    scroll\\r\\n);\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/event.js?')},\"./src/js/common/funcs/function.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \\\"./src/js/common/commonObj.js\\\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:18:38 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 04:08:53\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/function.js\\r\\n * \\r\\n * 函数操作相关的辅助函数，例如柯里化，记忆化等操作\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 函数的柯里化\\r\\n * \\r\\n * @example\\r\\n * function add(a, b) { return (a + b); }\\r\\n * const add1 = curry(add, 1);\\r\\n * add1(3); // 4\\r\\n * @param {Function} func \\r\\n * @param  {...any} oldargs 传入原函数的部分参数\\r\\n * @returns {Function} 柯里化后的新函数\\r\\n */\\r\\nfunction curry(func, ...oldargs) {\\r\\n    return (...newargs) => func(...oldargs, ...newargs);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 偏函数生成工具\\r\\n * \\r\\n * @example\\r\\n * function greeting(a, b, c){\\r\\n *     return [a, b, c].join(' );\\r\\n * }\\r\\n * const meetu = partial(greeting, 'Hi', undefined, 'Nice to meet you!');\\r\\n * meetu('Jack'); // Hi Jack Nice to meet you!\\r\\n * @param {Function} func \\r\\n * @param  {...any} partialArgs \\r\\n * @returns {Function} 处理生成的偏函数\\r\\n */\\r\\nfunction partial(func, ...partialArgs) {\\r\\n\\tlet backupArgs = partialArgs;\\r\\n\\r\\n\\treturn (...rest) => {\\r\\n\\t\\tlet args = backupArgs.slice(),\\r\\n\\t\\t\\tcount = 0;\\r\\n\\t\\tfor (let i = 0; i < args.length && count < rest.length; i++) {\\r\\n\\t\\t\\tif (args[i] === void 0) {\\r\\n\\t\\t\\t\\targs[i] = rest[count++];\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t\\treturn func.apply(null, args);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n/**\\r\\n * 循环参数数组调用指定函数\\r\\n * \\r\\n * @example\\r\\n * map(console.log, 1, 2, 3); // 1 2 3\\r\\n * map( (k, v) => { console.log(k + v); }, [1, 2], [3, 4]); // 3 7\\r\\n * @param {Function} func \\r\\n * @param  {...any} args 每次调用使用的参数数组\\r\\n */\\r\\nfunction map(func, ...args) {\\r\\n\\targs.forEach(arg => {\\r\\n\\t\\tif ( !Array.isArray(arg) ) arg = [arg];\\r\\n\\t\\tfunc.apply(null, arg);\\r\\n\\t});\\r\\n}\\r\\n\\r\\n/**\\r\\n * 分割任务异步调用的公用方法\\r\\n * \\r\\n * @param {Array<Function>} steps 调用的函数数组\\r\\n * @param {Array<Array<*>>} argsArray 每个函数对应的参数列表的数组\\r\\n */\\r\\nfunction multistep(steps, argsArray = []) {\\r\\n    for (let i = 0, len = steps.length; i < len; i++) {\\r\\n        setTimeout(function(){\\r\\n            steps[i].apply(null, argsArray[i] || []);\\r\\n        }, 25);\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 异步运行生成器函数的运行工具\\r\\n * \\r\\n * @example\\r\\n * run(function *() {\\r\\n *     console.log('resolve');\\r\\n * }).then( () => {\\r\\n *     console.log('then');\\r\\n * }); // resolve then\\r\\n * @param {Function} gen 一个生成器\\r\\n * @param  {...any} rest 生成器函数的参数列表\\r\\n * @returns {Object} 返回Promise对象\\r\\n */\\r\\nfunction run(gen, ...rest) {\\r\\n\\tlet args = [].slice.call(rest, 1),\\r\\n\\t\\tit = gen.apply(this, args);\\r\\n\\r\\n\\treturn Promise.resolve()\\r\\n    .then(function handleNext(value) {\\r\\n        let next = it.next(value);\\r\\n\\r\\n        return (function handleResult(next) {\\r\\n            if (next.done) return next.value;\\r\\n\\r\\n            return Promise.resolve(next.value)\\r\\n            .then( \\r\\n                handleNext,\\r\\n                (err) => Promise.resolve(\\r\\n                    it.throw(err)\\r\\n                ).then(handleResult)\\r\\n            );\\r\\n        })(next);\\r\\n    });\\r\\n}\\r\\n\\r\\n/**\\r\\n * 函数可记忆化\\r\\n * \\r\\n * @param {Function} func \\r\\n * @returns {Function} 返回可记忆的新函数\\r\\n */\\r\\nfunction memorized(func) {\\r\\n\\tconst lookUpTable = {};\\r\\n\\r\\n\\treturn (arg) => lookUpTable[arg] ||\\r\\n\\t\\t( lookUpTable[arg] = func(arg) );\\r\\n}\\r\\n\\r\\n/**\\r\\n * 保证函数只执行一次\\r\\n * \\r\\n * @param {Function} func \\r\\n * @returns {Function} 返回仅执行一次(单例)的新函数\\r\\n */\\r\\nfunction once(func) {\\r\\n\\tlet done = false;\\r\\n\\r\\n\\treturn (...args) => {\\r\\n\\t\\treturn done ? void 0 :\\r\\n\\t\\t\\t( (done = true), func.apply(this, args) );\\r\\n\\t}\\r\\n}\\r\\n\\r\\n/**\\r\\n * 在函数前注入新函数内容\\r\\n * \\r\\n * @param {Function} func \\r\\n * @param {Function} beforeContent \\r\\n * @returns {Function} 返回修改后的新函数\\r\\n */\\r\\nfunction before(func, beforeContent) {\\r\\n\\treturn (...args) => {\\r\\n\\t\\tbeforeContent.apply(null, args);\\r\\n\\t\\tfunc.apply(null, args);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n/**\\r\\n * 在函数后注入新函数内容\\r\\n * \\r\\n * @param {Function} func \\r\\n * @param {Function} afterContent \\r\\n * @returns {Function} 返回修改后的新函数\\r\\n */\\r\\nfunction after(func, afterContent) {\\r\\n\\treturn (...args) => {\\r\\n\\t\\tfunc.apply(null, args);\\r\\n\\t\\tafterContent.apply(null, args);\\r\\n\\t}\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\\\"Add\\\"]](\\r\\n    curry, partial,\\r\\n\\tmap, multistep, run,\\r\\n\\tmemorized, once,\\r\\n    before, after\\r\\n);\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/function.js?\")},\"./src/js/common/funcs/object.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \"./src/js/common/commonObj.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:19:40 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 16:03:15\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/object.js\\r\\n * \\r\\n * 与对象操作相关的辅助函数\\r\\n * 需要用到common中的[Target]来存储临时的操作对象\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 判断某个js对象是否为undefined的简写\\r\\n * \\r\\n * @param {Object} target 检查对象\\r\\n * @returns {Boolean} true-是undefined\\r\\n */\\r\\nfunction isundef(target) {\\r\\n    return target === void 0;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 判断某个js对象的键值存在且非空\\r\\n * \\r\\n * @param {Object} target\\r\\n * @param {String} key\\r\\n */\\r\\nfunction exist(target, key) {\\r\\n    _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._abandon(\\'exist\\');\\r\\n    if ( !isundef(target) && \\r\\n       !isundef(target[key]) &&\\r\\n       target[key] !== \"\" && \\r\\n       target[key] !== [] )\\r\\n        return true;\\r\\n    else\\r\\n        return false;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 保存对象对应键的值的方法：\\r\\n * \\r\\n *  @example\\r\\n *  store(\\r\\n *      THEME, [\"people\", \"science\"],\\r\\n *      $(#courseTheme-people-science).val()\\r\\n *  );\\r\\n * \\r\\n * @param {Object} global_var \\r\\n * @param {String} key - 或者是一个String数组 \\r\\n * @param {Object} value \\r\\n */\\r\\nfunction store(global_var, key, value) {\\r\\n    if ( !Array.isArray(key) ) {\\r\\n        if ( !Array.isArray(global_var[key]) )\\r\\n            global_var[key] = value;\\r\\n        else\\r\\n            global_var[key].push(value);\\r\\n    } else {\\r\\n        let place, pre_place;\\r\\n        place = global_var;\\r\\n        key.forEach(k => {\\r\\n            pre_place = place;\\r\\n            place = pre_place[k];\\r\\n        });\\r\\n        if ( !Array.isArray(pre_place[ key[key.length-1] ]) )\\r\\n            pre_place[ key[key.length-1] ] = value;\\r\\n        else\\r\\n            pre_place[ key[key.length-1] ].push(value);\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 提取对象对应键的值的方法：\\r\\n * \\r\\n *  @example\\r\\n *  withdraw(\\r\\n *      THEME, [\"people\", key],\\r\\n *      $(#${prefix}-people-${key})\\r\\n *  );\\r\\n * @param {Object} global_var \\r\\n * @param {String} key - 或者是一个String数组 \\r\\n * @param {Object} value - 默认为null时将取出的值返回 或存于value对应位置(val())\\r\\n */\\r\\nfunction withdraw(global_var, key, value = null) {\\r\\n    let place;\\r\\n    if ( !Array.isArray(key) ) {\\r\\n        if (value == null) return global_var[key];\\r\\n        if ( !Array.isArray(global_var[key]) ) {\\r\\n            value.val(global_var[key]);\\r\\n        } else {\\r\\n            console.log(global_var[key]);\\r\\n        }\\r\\n    } else {\\r\\n        let pre_place;\\r\\n        place = global_var;\\r\\n        key.forEach(k => {\\r\\n            pre_place = place;\\r\\n            place = pre_place[k];\\r\\n        });\\r\\n        if (value == null) return pre_place[ key[key.length-1] ];\\r\\n        if ( !Array.isArray(pre_place[ key[key.length-1] ]) ) {\\r\\n            value.val(pre_place[ key[key.length-1] ]);\\r\\n        } else {\\r\\n            console.log(pre_place[ key[key.length-1] ]);\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 将对象中指定位置的值存于html中(调用html())\\r\\n * \\r\\n *  @example\\r\\n *  html(\\r\\n *      THEME, [\"people\", key],\\r\\n *      $(#${prefix}-people-${key})\\r\\n *  );\\r\\n * @param {Object} global_var \\r\\n * @param {String} key - 或者是一个String数组 \\r\\n * @param {Object} value - 存于value对应位置(val())\\r\\n */\\r\\nfunction html(global_var, key, value) {\\r\\n    let place;\\r\\n    if ( !Array.isArray(key) ) {\\r\\n        if ( !Array.isArray(global_var[key]) ) {\\r\\n            value.html(global_var[key]);\\r\\n        } else {\\r\\n            console.log(global_var[key]);\\r\\n        }\\r\\n    } else {\\r\\n        let pre_place;\\r\\n        place = global_var;\\r\\n        key.forEach(k => {\\r\\n            pre_place = place;\\r\\n            place = pre_place[k];\\r\\n        });\\r\\n        if ( !Array.isArray(pre_place[ key[key.length-1] ]) ) {\\r\\n            value.html(pre_place[ key[key.length-1] ]);\\r\\n        } else {\\r\\n            console.log(pre_place[ key[key.length-1] ]);\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 注入节点 存于[Target](存为jQuery对象)\\r\\n * \\r\\n * @example\\r\\n * inject(XXX);//注入\\r\\n * _(XX);//查询\\r\\n * reject();//取出\\r\\n * @param {Object} target 存入的对象\\r\\n */\\r\\nfunction inject(target) {\\r\\n    _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Target\"]] = $(target);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 将全局的_TARGET清空 - 取出\\r\\n */\\r\\nfunction reject() {\\r\\n    _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Target\"]] = null;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 相对于_TRAGET中的对象进行find操作，返回结果\\r\\n * \\r\\n * @param {String} target find()中的字符串，即查询目标\\r\\n * @returns {Object} find的结果 \\r\\n *      - 保证只返回一个对象(非数组)\\r\\n *      - 默认会返回_TARGET自身\\r\\n */\\r\\nfunction _(target = null) {\\r\\n    if ( !target ) return _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Target\"]];\\r\\n    return _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Target\"]].find(target).eq(0);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 求当前对象的第n个祖先(parent的parent...)\\r\\n * @param {Number} 第几代\\r\\n * @param {String} 验证祖先的选择器\\r\\n */\\r\\nfunction ancestor(n, selector = null){\\r\\n    _commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._abandon(\"ancestor\");\\r\\n    let $goal = $(this);\\r\\n    for(let i = 1; i <= n; i++){\\r\\n        $goal = $goal.parent();\\r\\n    }\\r\\n    if(selector) return ($goal.is(selector))?$goal:null;\\r\\n    else return $goal;\\r\\n}\\r\\n$.fn.extend({\\r\\n    ancestor:ancestor\\r\\n});\\r\\n\\r\\n/**\\r\\n * 通用的代理，为暴露出的全局对象的接口增加通过[self]赋值的功能\\r\\n * \\r\\n * @param {Object} obj \\r\\n */\\r\\nfunction proxy(obj) {\\r\\n    return new Proxy(obj, {\\r\\n        set(target, key, value) {\\r\\n            if (key === \\'self\\') {\\r\\n                for (let [k, v] of Object.entries(value)) {\\r\\n                    target[k] = v;\\r\\n                }\\r\\n                return true;\\r\\n            }\\r\\n            return false;\\r\\n        }\\r\\n    });\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Add\"]](\\r\\n    isundef, exist,\\r\\n    store, withdraw, html,\\r\\n    inject, reject, _,\\r\\n    proxy\\r\\n);\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/object.js?')},\"./src/js/common/funcs/stringnum.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \\\"./src/js/common/commonObj.js\\\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:18:01 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 04:25:55\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/stringnum.ji\\r\\n * \\r\\n * 与字符串、数字有关的辅助函数\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 返回用于填充在html中的空格(&nbsp;)\\r\\n * \\r\\n * @param {Number} num = 8 空格数\\r\\n * @returns {String} 指定数量的空格(用于html)\\r\\n */\\r\\nfunction space(num = 8) {\\r\\n    return '&nbsp;'.repeat(num);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 返回用于填充用的随机字符(默认12位)\\r\\n * \\r\\n * @param {Number} len = 12 随机字符长度\\r\\n * @returns {string} 返回该随机字符串\\r\\n */\\r\\nfunction random(len = 12) {\\r\\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\\r\\n    const num = chars.length;\\r\\n    let str = '';\\r\\n    \\r\\n    for (let i = 0; i < len; i++) {\\r\\n        str += chars.charAt( ~~(Math.random()*num) );\\r\\n    }\\r\\n    return str;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 以n位字符串格式返回数字\\r\\n * \\r\\n * @example\\r\\n * //returns 0012\\r\\n * num(12, 4)\\r\\n * @param {Number} number 原数字\\r\\n * @param {Number} precision = 3 返回的位数\\r\\n * @returns {String} n位格式的\\r\\n */\\r\\nfunction num(number, precision = 3) {\\r\\n    let i = 0, str = '';\\r\\n\\r\\n    while (i < precision) {\\r\\n        str += number % 10;\\r\\n        number = ~~(number/10);\\r\\n        i++;\\r\\n    }\\r\\n    return [...str].reverse().join('');\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\\\"Add\\\"]](\\r\\n    space, random, num\\r\\n);\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/stringnum.js?\")},\"./src/js/common/funcs/style.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _commonObj__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../commonObj */ \"./src/js/common/commonObj.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 17:20:20 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 04:45:53\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/common/funcs/style.js\\r\\n * \\r\\n * 样式相关(尤其是类控制)的辅助函数\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 交换两个对象的某个类 结果只有其中一个对象有目标类\\r\\n * \\r\\n * @param {Object} $nodeA jQuery对象 \\r\\n * @param {Object} $nodeB jQuery对象 \\r\\n * @param {String} classname \\r\\n */\\r\\nfunction exClass($nodeA, $nodeB, classname) {\\r\\n    if ( $nodeA.hasClass(classname) ){\\r\\n        $nodeA.removeClass(classname);\\r\\n        $nodeB.addClass(classname);\\r\\n    } else if ( $nodeB.hasClass(classname) ) {\\r\\n        $nodeB.removeClass(classname);\\r\\n        $nodeA.addClass(classname);\\r\\n    }\\r\\n}\\r\\n\\r\\n/**\\r\\n * 目标对象删去A类 换上B类\\r\\n * \\r\\n * @param {Object} $node jQuery对象\\r\\n * @param {String} classA\\r\\n * @param {String} classB\\r\\n */\\r\\nfunction replaceClass($node, classA, classB) {\\r\\n    $node.removeClass(classA).addClass(classB);\\r\\n}\\r\\n\\r\\n/**\\r\\n * addClass(\"hidden\") 的简写\\\\\\r\\n * 可适用于节点数组 - 默认传入jQuery对象\\r\\n * \\r\\n * @param {Object} $node \\r\\n */\\r\\nfunction hide($node) {\\r\\n    if ( !Array.isArray($node) ) {\\r\\n        $node.addClass(\\'hidden\\');\\r\\n    } else {\\r\\n        $node.forEach( $target => {\\r\\n            $target.addClass(\\'hidden\\');\\r\\n        });\\r\\n    }\\r\\n    return { show: show };\\r\\n}\\r\\n\\r\\n/**\\r\\n * removeClass(\"hidden\") 的简写\\\\\\r\\n * 可适用于节点数组 - 默认传入jQuery对象\\r\\n * \\r\\n * @param {Object} $node \\r\\n */\\r\\nfunction show($node) {\\r\\n    if ( !Array.isArray($node) ) {\\r\\n        $node.removeClass(\\'hidden\\');\\r\\n    } else {\\r\\n        $node.forEach( $target => {\\r\\n            $target.removeClass(\\'hidden\\');\\r\\n        });\\r\\n    }\\r\\n    return { hide: hide };\\r\\n}\\r\\n\\r\\n\\r\\n// 加入common空间\\r\\n_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"common\"][_commonObj__WEBPACK_IMPORTED_MODULE_0__[\"Add\"]](\\r\\n    exClass, replaceClass,\\r\\n    hide, show\\r\\n);\\n\\n//# sourceURL=webpack:///./src/js/common/funcs/style.js?')},\"./src/js/index.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var expose_loader_$_jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! expose-loader?$!jquery */ \"./node_modules/expose-loader/index.js?$!./node_modules/jquery/dist/jquery.js-exposed\");\\n/* harmony import */ var expose_loader_$_jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(expose_loader_$_jquery__WEBPACK_IMPORTED_MODULE_0__);\\n/* harmony import */ var bootstrap_dist_js_bootstrap_min_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap/dist/js/bootstrap.min.js */ \"./node_modules/bootstrap/dist/js/bootstrap.min.js\");\\n/* harmony import */ var bootstrap_dist_js_bootstrap_min_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_js_bootstrap_min_js__WEBPACK_IMPORTED_MODULE_1__);\\n/* harmony import */ var _test_test__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./test/test */ \"./src/js/test/test.js\");\\n/* harmony import */ var _test_test__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_test_test__WEBPACK_IMPORTED_MODULE_2__);\\n/* harmony import */ var _navbar_navbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./navbar/navbar */ \"./src/js/navbar/navbar.js\");\\n/* harmony import */ var _resize_resize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resize/resize */ \"./src/js/resize/resize.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _preview_preview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./preview/preview */ \"./src/js/preview/preview.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-07 03:20:55 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 17:49:31\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/index.js?')},\"./src/js/navbar/navbar.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _navigator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./navigator */ \"./src/js/navbar/navigator.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 01:10:08 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-13 20:58:29\\r\\n */\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/navbar/navbar.js?')},\"./src/js/navbar/navigator.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _preview_preview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../preview/preview */ \"./src/js/preview/preview.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-26 23:29:33 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 18:43:37\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nlet $saveData = $(\"#saveData\"),\\r\\n    $savePDF = $(\"#savePDF\"),\\r\\n    $downloadPDF = $(\"#downloadPDF\");\\r\\n\\r\\n/**\\r\\n * 1. 用户名\\r\\n */\\r\\n$(\"#username\").html(\\r\\n    Object(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"getSession\"])() ? _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].username : \"本地模式\"\\r\\n);\\r\\n\\r\\nconsole.log(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"]);\\r\\n\\r\\n/**\\r\\n * 2. 切换子页面 - design/preview\\r\\n */\\r\\nlet links = [\"design\", \"preview\"];\\r\\nlinks.forEach(link => {\\r\\n    $(`#${link}-link`).click(function(){\\r\\n        $(\"#top-navbar > li\").removeClass(\"active\");\\r\\n        $(this).parent().addClass(\"active\");        \\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($(\"#containers-wrapper > div\")).show($(`#${link}-container`));\\r\\n        return false;\\r\\n    });\\r\\n});\\r\\n\\r\\n$(\"#design-link\").click(() => {\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show($saveData).hide([$savePDF, $downloadPDF]);\\r\\n});\\r\\n\\r\\n$(\"#preview-link\").click(() => {\\r\\n    Object(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"saveData\"])();//先保存数据\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($saveData).show([$savePDF, $downloadPDF]);\\r\\n    Object(_preview_preview__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();//注入preview内容\\r\\n});\\r\\n\\r\\n/**\\r\\n * 3. navbar栏的若干按钮\\r\\n */\\r\\n$saveData.click(() => {\\r\\n    Object(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"saveData\"])();\\r\\n    alert(\"保存成功！\");\\r\\n});\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/navbar/navigator.js?')},\"./src/js/objectives/objectives.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./theme */ \"./src/js/objectives/theme.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"THEME\", function() { return _theme__WEBPACK_IMPORTED_MODULE_0__[\"THEME\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"saveTheme\", function() { return _theme__WEBPACK_IMPORTED_MODULE_0__[\"saveTheme\"]; });\\n\\n/* harmony import */ var _standard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./standard */ \"./src/js/objectives/standard.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"STD\", function() { return _standard__WEBPACK_IMPORTED_MODULE_1__[\"STD\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"STDDATA\", function() { return _standard__WEBPACK_IMPORTED_MODULE_1__[\"STDDATA\"]; });\\n\\n/* harmony import */ var _question__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./question */ \"./src/js/objectives/question.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"QUESTION\", function() { return _question__WEBPACK_IMPORTED_MODULE_2__[\"QUESTION\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"questionTypeMap\", function() { return _question__WEBPACK_IMPORTED_MODULE_2__[\"questionTypeMap\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getCoreQuestions\", function() { return _question__WEBPACK_IMPORTED_MODULE_2__[\"getCoreQuestions\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"saveQuestion\", function() { return _question__WEBPACK_IMPORTED_MODULE_2__[\"saveQuestion\"]; });\\n\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-17 03:27:25 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 01:43:02\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/objectives/objectives.js?')},\"./src/js/objectives/question-handlers.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \\\"./src/js/common/common.js\\\");\\n/* harmony import */ var _standard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./standard */ \\\"./src/js/objectives/standard.js\\\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-28 16:13:40 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 01:42:15\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/objectives/question-handlers.js\\r\\n * \\r\\n * 学习目标 - 问题设计区域的相关事件处理\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/*\\r\\n * 核心问题的事件处理过程中所需的辅助函数 \\r\\n */\\r\\n/**\\r\\n * 调整核心问题区域的核心问题的：\\\\\\r\\n *      1.前部的编号 eg.S-Q2\\\\\\r\\n *      2.核心问题列表的收缩/展开 \\r\\n * \\r\\n * @param {String} std 学科类型 eg.science \\r\\n */\\r\\nfunction questionAdjust(std) {\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].inject( $(`#questionDesign-coreQuestion-${std}`) );\\r\\n    const $list   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"]._('.coreQuestionList');\\r\\n    const $toggle = _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"]._('.toggleCoreQuestion');\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].reject();\\r\\n\\r\\n    // 根据核心问题的数量，控制list的展开/收缩\\r\\n    // glyphicon-chevron-down:收缩 glyphicon-chevron-up:展开\\r\\n    const len = $list.children().length;\\r\\n    const isShow = ( $target ) => $target.hasClass('glyphicon-chevron-up');\\r\\n    const isHide = ( $target ) => $target.hasClass('glyphicon-chevron-down');\\r\\n    const toggle = () => { $toggle.parent().click() };\\r\\n\\r\\n    if (len == 0) { // 不存在核心问题\\r\\n        if (isShow( $toggle )) toggle();\\r\\n        return; // 直接返回 不需要下面的编号调节\\r\\n    } else {\\r\\n        if (isHide( $toggle )) toggle();\\r\\n    }\\r\\n\\r\\n    // 调整前部显示的核心问题编号 eg.S-Q2\\r\\n    $list.find('li').each( (index, li) => {\\r\\n        const $target = $(li).find('.coreQuestionNumber');\\r\\n        //prefix: eg.S-Q\\r\\n        const prefix = $target.data('originNumber');\\r\\n        $target.html(prefix + (index + 1));\\r\\n    });\\r\\n}\\r\\n\\r\\n/**\\r\\n * 将传进来的参数组装出一个coreQuestionListItem\\\\\\r\\n * 并返回该listitem(<li>)的引用\\r\\n * \\r\\n * @param {String} coreType - 核心问题学科类型 eg.science\\r\\n * @param {String} val = '' - input value\\r\\n * @returns {Object} jQuery对象，用append加入list\\r\\n */\\r\\nfunction questionLiGenerator(coreType, val = ''){\\r\\n    // 仅第一次调用时候组装每个类型的listitem并记忆在函数本地的对象中\\r\\n    if (typeof questionLiGenerator.lis !== 'object') {\\r\\n        const $lis = {};\\r\\n    \\r\\n        _standard__WEBPACK_IMPORTED_MODULE_1__[\\\"STD\\\"].forEach(type => {\\r\\n            $lis[type] = $(`\\r\\n            <li class=\\\"list-group-item col-sm-12 coreQuestionListItem\\\">\\r\\n            <div class=\\\"input-group\\\">\\r\\n            \\r\\n                <span class=\\\"input-group-addon data-badge-${type} coreQuestionNumber\\\"\\r\\n                    data-origin-number = \\\"${type[0].toUpperCase()}-Q\\\">\\r\\n                </span>\\r\\n\\r\\n                <input type=\\\"text\\\" class=\\\"form-control showCoreQuestion\\\" \\r\\n                    data-coretype=\\\"${type}\\\" value=\\\"\\\" placeholder=\\\"\\\">\\r\\n\\r\\n                <span class=\\\"input-group-btn\\\">\\r\\n                    <button class=\\\"btn btn-danger deleteCoreQuestion-btn\\\" data-type=\\\"${type}\\\">\\r\\n                        <span class=\\\"glyphicon glyphicon-minus deleteCoreQuestion\\\"></span>\\r\\n                    </button>\\r\\n                </span>\\r\\n                \\r\\n            </div>\\r\\n            </li>`.trim());\\r\\n        });\\r\\n        questionLiGenerator.lis = $lis;\\r\\n    }\\r\\n    \\r\\n    // 除第一次组装外，每次调用直接从该函数存储的对象中返回\\r\\n    return questionLiGenerator.lis[coreType].clone()\\r\\n            .find('input').val(val) // 当前$li.find(\\\"input\\\")\\r\\n            .end(); // .end(), 返回$li\\r\\n}\\r\\n\\r\\n\\r\\n/*\\r\\n * 核心问题事件处理部分的处理函数\\r\\n */\\r\\n/**\\r\\n * 点击添加核心问题的事件处理函数\\r\\n */\\r\\nfunction addQuestion() {\\r\\n    const $div = $(this).closest('.questionDesign-coreQuestion-eachQuestion');\\r\\n    const $list = $div.find('.coreQuestionList');\\r\\n    const $edit = $div.find('.editCoreQuestion');\\r\\n\\r\\n    const val = $edit.val(); // 该val在loadQuestion时才有\\r\\n    const std_name = $(this).data('type'); // 当前add所对应的学科类型\\r\\n    \\r\\n    // 添加新核心问题项\\r\\n    $list.append(questionLiGenerator(std_name, val));\\r\\n    $edit.val('');\\r\\n\\r\\n    // 调整对应学科的核心问题区域\\r\\n    questionAdjust(std_name);\\r\\n\\r\\n    // 增加完项后，将滚轮移动到最末端\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].scroll($list, 'bottom');\\r\\n\\r\\n    return false;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 点击删除核心问题的事件处理函数\\r\\n */\\r\\nfunction deleteQuestion(){\\r\\n    const $this = $(this);\\r\\n    const coreType = $this.data('type');\\r\\n    const $li = $this.closest('.coreQuestionListItem');\\r\\n    \\r\\n    $li.remove();\\r\\n    questionAdjust(coreType); // 删除后调整核心问题区\\r\\n    \\r\\n    return false;\\r\\n}\\r\\n\\r\\n/**\\r\\n * 点击收缩/展开核心问题列表的事件处理函数\\r\\n */\\r\\nfunction toggleQuestion(){\\r\\n    const $toggleBtn = $(this);\\r\\n    const $toggle = $toggleBtn.find('.toggleCoreQuestion');\\r\\n    const $list = $toggleBtn.closest('.questionDesign-coreQuestion-eachQuestion')\\r\\n        .find('.coreQuestionList');\\r\\n\\r\\n    if ( $toggle.hasClass('glyphicon-chevron-down') ) {\\r\\n        $toggle.removeClass('glyphicon-chevron-down')\\r\\n            .addClass('glyphicon-chevron-up');\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].show( $list );\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].replaceClass( $toggleBtn, 'btn-primary', 'btn-info' );\\r\\n    } else {\\r\\n        $toggle.removeClass('glyphicon-chevron-up')\\r\\n            .addClass('glyphicon-chevron-down');\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].hide( $list );\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].replaceClass( $toggleBtn, 'btn-info', 'btn-primary' );\\r\\n    }\\r\\n    \\r\\n    return false;\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 问题设计区域的事件处理函数\\\\\\r\\n * IIFE\\r\\n */\\r\\n;(function questionHandlers() {\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\\\"common\\\"].delegate( $('#questionDesign-coreQuestion'), [\\r\\n        // .addCoreQuestion-btn - 点击添加新核心问题项\\r\\n        {\\r\\n            target: '.addCoreQuestion-btn',\\r\\n            event: 'click',\\r\\n            handler: addQuestion\\r\\n        },\\r\\n        // .deleteCoreQuestion-btn - 删除核心问题项\\r\\n        {\\r\\n            target: '.deleteCoreQuestion-btn',\\r\\n            event: 'click',\\r\\n            handler: deleteQuestion\\r\\n        },\\r\\n        // .toggleCoreQuestion-btn - 收回/展开coreQuestionList\\r\\n        {\\r\\n            target: '.toggleCoreQuestion-btn',\\r\\n            event: 'click',\\r\\n            handler: toggleQuestion\\r\\n        }\\r\\n    ]);\\r\\n})();\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \\\"./node_modules/jquery/dist/jquery.js\\\")))\\n\\n//# sourceURL=webpack:///./src/js/objectives/question-handlers.js?\")},\"./src/js/objectives/question.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QUESTION\", function() { return questionProxy; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"questionTypeMap\", function() { return questionTypeMap; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCoreQuestions\", function() { return getCoreQuestions; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveQuestion\", function() { return saveQuestion; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _standard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./standard */ \"./src/js/objectives/standard.js\");\\n/* harmony import */ var _question_handlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./question-handlers */ \"./src/js/objectives/question-handlers.js\");\\n/* harmony import */ var _datas_objectives_question_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../datas/objectives/question.json */ \"./src/datas/objectives/question.json\");\\nvar _datas_objectives_question_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/objectives/question.json */ \"./src/datas/objectives/question.json\", 1);\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-17 03:26:34 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 01:50:29\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/objectives/question.js\\r\\n * \\r\\n * 学习目标 - 问题设计区域的内容控制\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hello(\\'objectives/question\\');\\r\\n\\r\\n/**\\r\\n * 对应问题设计区域的存储\\r\\n * \\r\\n * @example\\r\\n * {\\r\\n *   \"driverQuestion\": \"\", // 学习驱动问题\\r\\n *   \"coreQuestion\": { // 学科核心问题\\r\\n *       \"science\": [],\\r\\n *       \"technology\": [],\\r\\n *       \"engineering\": [],\\r\\n *       \"mathematics\": []\\r\\n *   }\\r\\n * }\\r\\n * @global\\r\\n */\\r\\nlet QUESTION = _datas_objectives_question_json__WEBPACK_IMPORTED_MODULE_3__;\\r\\nlet questionProxy = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].proxy(QUESTION); // 使用.self在外部修改QUESTION\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 学科类型的中英文的映射的辅助函数\\r\\n * \\r\\n * @example\\r\\n * science <=> 科学\\r\\n * @param {String} key \\r\\n */\\r\\nfunction questionTypeMap(key) {\\r\\n    key = key.trim();\\r\\n    // 仅第一次调用时, 在函数本地存储转换用的字典\\r\\n    if (typeof questionTypeMap.map !== \\'object\\') {\\r\\n        const map = new Map();\\r\\n        const std_ch = [\\'科学\\', \\'技术\\', \\'工程\\', \\'数学\\'];\\r\\n        \\r\\n        for (let i = 0; i < 4; i++) {\\r\\n            map\\r\\n                .set(_standard__WEBPACK_IMPORTED_MODULE_1__[\"STD\"][i], std_ch[i])\\r\\n                .set(std_ch[i], _standard__WEBPACK_IMPORTED_MODULE_1__[\"STD\"][i]);\\r\\n        }\\r\\n        questionTypeMap.map = map;\\r\\n    }\\r\\n\\r\\n    // 从函数本地存储的字典中直接获取对应的映射\\r\\n    return questionTypeMap.map.get(key);\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 获取问题设计的学科核心问题的数据\\\\\\r\\n * 在task的节点编辑中添加核心问题时调用\\r\\n * \\r\\n * @example\\r\\n * [{\\r\\n *      value:\"S-Q1 XXXX\",\\r\\n *      type:\"science\",\\r\\n *      typename:\"科学\"\\r\\n *  }, ...]\\r\\n * @returns {Array}\\r\\n */\\r\\nfunction getCoreQuestions() {\\r\\n    const $inputs = $(\\'#questionDesign-coreQuestion .showCoreQuestion\\');\\r\\n    const questions = [];\\r\\n    let value, number, dataType;\\r\\n\\r\\n    [...$inputs].forEach(input => {\\r\\n        let $input = $(input);\\r\\n        value = input.value;\\r\\n        if (value === \\'\\') return;\\r\\n        number = $input.prev().text(); // eg. number = S-Q1\\r\\n        dataType = $input.data(\\'coretype\\');\\r\\n\\r\\n        questions.push({\\r\\n            value   : number + \\' \\' + value, \\r\\n            type    : dataType,\\r\\n            typename: questionTypeMap(dataType)\\r\\n        });\\r\\n    });\\r\\n\\r\\n    return questions;\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 保存问题设计区域的数据\\r\\n * \\r\\n * @example\\r\\n * {\\r\\n *   \"driverQuestion\":\"\",//学习驱动问题\\r\\n *   \"coreQuestion\":{//学科核心问题\\r\\n *       \"science\":[],\\r\\n *       \"technology\":[],\\r\\n *       \"engineering\":[],\\r\\n *       \"mathematics\":[]\\r\\n *   }\\r\\n * }\\r\\n */\\r\\nfunction saveQuestion() {\\r\\n    if ( _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(QUESTION) ) {\\r\\n        console.error(\\'Please Init QUESTION\\');\\r\\n        return;\\r\\n    }\\r\\n\\r\\n    const prefix = \\'questionDesign\\';\\r\\n    // 学科驱动问题数据保存\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].store(\\r\\n        QUESTION, \\'driverQuestion\\',\\r\\n        $(`#${prefix}-driverQuestion`).val()\\r\\n    );\\r\\n\\r\\n    // 学科核心问题数据保存\\r\\n    _standard__WEBPACK_IMPORTED_MODULE_1__[\"STD\"].forEach(key => {\\r\\n        let $zone = $(`#${prefix}-coreQuestion-${key}`);\\r\\n        (QUESTION.coreQuestion)[key] = [];\\r\\n\\r\\n        [...$zone.find(\\'input.showCoreQuestion\\')].forEach(input => {\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].store(\\r\\n                QUESTION, [\\'coreQuestion\\', key],\\r\\n                $(input).val()\\r\\n            );\\r\\n        });\\r\\n    });\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/objectives/question.js?')},\"./src/js/objectives/standard.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STDDATA\", function() { return STDDATA; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STD\", function() { return STD; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _datas_standard_standard_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../datas/standard/standard.json */ \"./src/datas/standard/standard.json\");\\nvar _datas_standard_standard_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/standard/standard.json */ \"./src/datas/standard/standard.json\", 1);\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-17 03:26:34 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 02:40:11\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/objectives/standard.js\\r\\n * \\r\\n * 学习目标 - 问题设计中的课程标准的相关内容\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hello(\\'objectives/standard\\');\\r\\n\\r\\n/**\\r\\n * 课程标准数据的全局存储\\r\\n * \\r\\n * @example\\r\\n * {\\r\\n *   \"science\": [],\\r\\n *   \"technology\": [],\\r\\n *   \"engineering\": [],\\r\\n *   \"mathematics\": []\\r\\n * }\\r\\n * @global\\r\\n * @default null\\r\\n */\\r\\nlet STDDATA = _datas_standard_standard_json__WEBPACK_IMPORTED_MODULE_1__;\\r\\n/**\\r\\n * @constant 课程名数组\\r\\n * @default\\r\\n * [\\'science\\', \\'technology\\', \\'engineering\\', \\'mathematics\\']\\r\\n */\\r\\nconst STD = [\\r\\n    \\'science\\', \\'technology\\', \\'engineering\\', \\'mathematics\\'\\r\\n];\\r\\n\\r\\n\\r\\n/**\\r\\n * 初始化课程标准区域的显示内容\\\\\\r\\n * IIFE\\r\\n */\\r\\n;(function initStandards(){\\r\\n    /**\\r\\n     * @example\\r\\n     * {\\r\\n     *  \"science\": [],\\r\\n     *  \"technology\": [],\\r\\n     *  \"engineering\": [],\\r\\n     *  \"mathematics\": []\\r\\n     * } \\r\\n     */\\r\\n    const $targets = $(\\'#questionDesign-standards-tbody\\').children();\\r\\n    \\r\\n    for (let i = 0; i < 4; i++) {\\r\\n        let standards = STDDATA[ STD[i] ], // 某学科的标准数组\\r\\n            $td = $targets.eq(i).find(\\'td:last\\'),\\r\\n            str = standards[0];\\r\\n\\r\\n        for (let j = 1, len = standards.length; j < len; j++) {\\r\\n            str += \\'<br />\\';\\r\\n            str += standards[j];\\r\\n        }\\r\\n        $td.html(str);\\r\\n    }\\r\\n})();\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/objectives/standard.js?')},\"./src/js/objectives/theme.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"THEME\", function() { return themeProxy; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveTheme\", function() { return saveTheme; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _standard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./standard */ \"./src/js/objectives/standard.js\");\\n/* harmony import */ var _datas_objectives_theme_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../datas/objectives/theme.json */ \"./src/datas/objectives/theme.json\");\\nvar _datas_objectives_theme_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/objectives/theme.json */ \"./src/datas/objectives/theme.json\", 1);\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-17 03:25:38 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-28 15:51:27\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/objectives/theme.js\\r\\n * \\r\\n * 学习目标 - 课程主题区域的相关内容\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hello(\\'objectives/theme\\');\\r\\n\\r\\n/**\\r\\n * 对应课程主题区域的存储\\r\\n * \\r\\n * @example\\r\\n * {\\r\\n *   \"themeName\": \"\", // 主题名称\\r\\n *   \"themeSituation\": \"\", // 学习情境\\r\\n *   \"people\": {\\r\\n *       \"science\": \"\",\\r\\n *       \"technology\": \"\",\\r\\n *       \"engineering\": \"\",\\r\\n *       \"mathematics\": \"\"\\r\\n *   },\\r\\n *   \"grade\": \"\" // eg. 3\\r\\n *}\\r\\n * @global\\r\\n */\\r\\nlet THEME = _datas_objectives_theme_json__WEBPACK_IMPORTED_MODULE_2__;\\r\\nlet themeProxy = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].proxy(THEME); // 使用.self在外部修改THEME\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 保存课程主题区域的数据\\r\\n * \\r\\n * @example\\r\\n * {\\r\\n *   \"themeName\": \"\", // 主题名称\\r\\n *   \"themeSituation\": \"\", // 学习情境\\r\\n *   \"people\": {\\r\\n *       \"science\": \"\",\\r\\n *       \"technology\": \"\",\\r\\n *       \"engineering\": \"\",\\r\\n *       \"mathematics\": \"\"\\r\\n *   },\\r\\n *   \"grade\": \"\" // eg. 3\\r\\n *}\\r\\n */\\r\\nfunction saveTheme(){\\r\\n    if ( _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(THEME) ) {\\r\\n        console.error(\\'Please Init THEME\\');\\r\\n        return;\\r\\n    }\\r\\n\\r\\n    const prefix = \\'courseTheme\\';\\r\\n    [\\'themeName\\', \\'themeSituation\\'].forEach(key => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].store(\\r\\n            THEME, key,\\r\\n            $(`#${prefix}-${key}`).val()\\r\\n        );\\r\\n    });\\r\\n    _standard__WEBPACK_IMPORTED_MODULE_1__[\"STD\"].forEach(key => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].store(\\r\\n            THEME, [\\'people\\', key],\\r\\n            $(`#${prefix}-people-${key}`).val()\\r\\n        );\\r\\n    });\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].store(\\r\\n        THEME, \\'grade\\',\\r\\n        $(`#${prefix}-grade option:selected`).val()\\r\\n    );\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/objectives/theme.js?')},\"./src/js/preview/inject.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreview; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _inject_cover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inject/cover */ \"./src/js/preview/inject/cover.js\");\\n/* harmony import */ var _inject_theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inject/theme */ \"./src/js/preview/inject/theme.js\");\\n/* harmony import */ var _inject_coreQuestion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inject/coreQuestion */ \"./src/js/preview/inject/coreQuestion.js\");\\n/* harmony import */ var _inject_taskzone__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./inject/taskzone */ \"./src/js/preview/inject/taskzone.js\");\\n/* harmony import */ var _inject_course__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./inject/course */ \"./src/js/preview/inject/course.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 03:37:04 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:50\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n$(function(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hello(\"inject\");\\r\\n});\\r\\n\\r\\n/**\\r\\n * 调用inject/下的各个函数，将数据注入preview中\\r\\n */\\r\\nfunction injectPreview(){\\r\\n    Object(_inject_cover__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\\r\\n    Object(_inject_theme__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\\r\\n    Object(_inject_coreQuestion__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"]) || _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].tasktype)) return;\\r\\n    Object(_inject_taskzone__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\\r\\n    Object(_inject_course__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject.js?')},\"./src/js/preview/inject/coreQuestion.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewCoreQuestion; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objectives/objectives */ \"./src/js/objectives/objectives.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 03:57:31 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:20\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将数据从QUESTION中取出 注入preview中的#coreQuestionZone\\r\\n */\\r\\nfunction injectPreviewCoreQuestion(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#coreQuestionZone\"));\\r\\n\\r\\n    //STD见desing-objectives.js\\r\\n    _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"STD\"].forEach((std) => {\\r\\n        let str = \"\";\\r\\n        _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"STDDATA\"][std].forEach(standard => {\\r\\n            str += `<li>${standard}</li>`\\r\\n        });\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(`.coreQuestion-standard-${std}`).html(str);\\r\\n\\r\\n        str = \"\";\\r\\n        let std_suffix = std.substring(0,1).toUpperCase() + \"-Q\";\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"QUESTION\"]) || _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"QUESTION\"][\"coreQuestion\"])) return;\\r\\n        _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"QUESTION\"][\"coreQuestion\"][std].forEach((question, index) => {\\r\\n            str += `\\r\\n            <li><span class=\"coreQuestion-number\">${std_suffix + (index+1)}</span>\\r\\n                    <span class=\"coreQuestion-content\">${question}</span></li>\\r\\n            `.trim();\\r\\n        });\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(`.coreQuestion-question-${std}`).html(str);\\r\\n    });\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/coreQuestion.js?')},\"./src/js/preview/inject/course-activity.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewCourseActivity; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 04:13:55 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:23\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将数据从DB.activity中取出 注入preview中的activity-wrapper，\\r\\n * 生成一个<section class=\"activity\"></section>\\r\\n * @param {String} type activity类型\\r\\n * @param {Object} target 对象的activity节点\\r\\n * @param {Number} numebr activity自身的活动序号\\r\\n *  \\r\\n */\\r\\nfunction injectPreviewCourseActivity(type, target, number){\\r\\n    let $node,\\r\\n        path = \"image/activities/\",\\r\\n        $inject = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._();\\r\\n\\r\\n    if(type === \"pair\"){\\r\\n        $node = $(\"#preview-activity-pair\").clone().removeAttr(\"id\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($node);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-logo\").attr(\"src\", `${path}pair-icon.png`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-number\").html(`活动${number}：`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\",\"name\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-name\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\", \"think\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-student-think\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\", \"pair\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-student-pair\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\", \"share\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-student-share\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\", \"think\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-teacher-think\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\", \"pair\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-teacher-pair\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\", \"share\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-teacher-share\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"common\", \"material\", \"text\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-tool\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-link\").html(transformLink(target.common.material.link));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pair-file\").html(transformFile(target.common.material.file));\\r\\n        hideEmptyMaterial();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n        return $node;\\r\\n\\r\\n    }else if(type === \"game\"){\\r\\n        $node = $(\"#preview-activity-game\").clone().removeAttr(\"id\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($node);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-logo\").attr(\"src\", `${path}game-icon.png`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-number\").html(`活动${number}：`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"name\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-name\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"rule\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-rule\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"place\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-place\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-student\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-teacher\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"reward\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-reward\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"common\", \"material\", \"text\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-tool\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-link\").html(transformLink(target.common.material.link));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".game-file\").html(transformFile(target.common.material.file));\\r\\n        hideEmptyMaterial();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n        return $node;\\r\\n\\r\\n    }else if(type === \"exp\"){\\r\\n        $node = $(\"#preview-activity-exp\").clone().removeAttr(\"id\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($node);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-logo\").attr(\"src\", `${path}exp-icon.png`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-number\").html(`活动${number}：`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"name\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-name\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"step\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-step\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"environment\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-place\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-student\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-teacher\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"common\", \"material\", \"text\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-tool\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-link\").html(transformLink(target.common.material.link));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".exp-file\").html(transformFile(target.common.material.file));\\r\\n        hideEmptyMaterial();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n        return $node;\\r\\n\\r\\n    }else if(type === \"roleplay\"){\\r\\n        $node = $(\"#preview-activity-roleplay\").clone().removeAttr(\"id\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($node);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-logo\").attr(\"src\", `${path}roleplay-icon.png`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-number\").html(`活动${number}：`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"name\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-name\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"setting\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-setting\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\", \"describe\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-student-describe\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\", \"show\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-student-show\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"student\", \"evaluate\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-student-evaluate\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\", \"describe\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-teacher-describe\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\", \"show\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-teacher-show\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"teacher\", \"evaluate\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-teacher-evaluate\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"common\", \"material\", \"text\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-tool\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-link\").html(transformLink(target.common.material.link));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".roleplay-file\").html(transformFile(target.common.material.file));\\r\\n        hideEmptyMaterial();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n        return $node;\\r\\n\\r\\n    }else if(type === \"jigsaw\"){\\r\\n        $node = $(\"#preview-activity-jigsaw\").clone().removeAttr(\"id\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($node);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-logo\").attr(\"src\", `${path}jigsaw-icon.png`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-number\").html(`活动${number}：`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"name\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-name\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"expert\", \"task\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-expert-task\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"expert\", \"student\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-expert-student\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"expert\", \"teacher\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-expert-teacher\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"former\", \"task\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-former-task\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"former\", \"student\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-former-student\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"former\", \"teacher\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-former-teacher\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"common\", \"material\", \"text\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-tool\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-link\").html(transformLink(target.common.material.link));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".jigsaw-file\").html(transformFile(target.common.material.file));\\r\\n        hideEmptyMaterial();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n        return $node;\\r\\n\\r\\n    }else if(type === \"pyramid\"){\\r\\n        $node = $(\"#preview-activity-pyramid\").clone().removeAttr(\"id\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($node);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-logo\").attr(\"src\", `${path}pyramid-icon.png`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-number\").html(`活动${number}：`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"name\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-name\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"question\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-question\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"floor\", \"top\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-floor-top\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"floor\", \"middle\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-floor-middle\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"activity\", \"floor\", \"bottom\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-floor-bottom\"));\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(target, [\"common\", \"material\", \"text\"], _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-tool\"));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-link\").html(transformLink(target.common.material.link));\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".pyramid-file\").html(transformFile(target.common.material.file));\\r\\n        hideEmptyMaterial();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n        return $node;\\r\\n\\r\\n    }else{\\r\\n        return null;\\r\\n    }\\r\\n\\r\\n    function hideEmptyMaterial(){\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".tool-tr\").find(\"td:last-child\").html() === \"\"){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".tool-tr\").addClass(\"hidden\");\\r\\n        }\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".link-tr\").find(\"td:last-child\").html() === \"\"){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".link-tr\").addClass(\"hidden\");\\r\\n        }\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".file-tr\").find(\"td:last-child\").html() === \"\"){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".file-tr\").addClass(\"hidden\");\\r\\n        }\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 处理material-link的数组 将之转为可填入表格中的数据格式\\r\\n * @param {Array<Object>} links\\r\\n */\\r\\nfunction transformLink(links){\\r\\n    if(links == \"\") return \"\";\\r\\n\\r\\n    let str = \"\";\\r\\n    links.forEach(link => {\\r\\n        str += `\\r\\n            ${link.describe} - ${link.url}<br />\\r\\n        `\\r\\n    });\\r\\n    return str;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 处理material-file的数组，将之转为可填入表格中的数据格式\\r\\n * @param {Array<Object>} files \\r\\n */\\r\\nfunction transformFile(files){\\r\\n    if(files === \"\") return \"\";\\r\\n    let userid = sessionStorage.getItem(\"userid\"),\\r\\n        username = sessionStorage.getItem(\"username\"),\\r\\n        path = `./userdata/${userid}_${username}/upload/`;\\r\\n\\r\\n    let str = \"\", \\r\\n        $appendix = $(\"#appendixZone\");\\r\\n    files.forEach((file, index) => {\\r\\n        if(index != 0){\\r\\n            str += \", \";\\r\\n        }\\r\\n        str += file.filename;\\r\\n        $appendix.append(`\\r\\n            <p data-path=\"${(file.path).replace(path, \"\")}\">${file.filename}</p>\\r\\n        `);\\r\\n    });\\r\\n    return str;\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/course-activity.js?')},\"./src/js/preview/inject/course.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewCourse; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _activity_activity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../activity/activity */ \"./src/js/activity/activity.js\");\\n/* harmony import */ var _course_activity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./course-activity */ \"./src/js/preview/inject/course-activity.js\");\\n/* harmony import */ var _subtaskzone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./subtaskzone */ \"./src/js/preview/inject/subtaskzone.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 04:10:28 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:26\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将数据从DATA中取出 注入preview中的#courseZone\\r\\n */\\r\\nfunction injectPreviewCourse(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#courseZone\"));\\r\\n    let $template = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#course-task-template\"),\\r\\n        $courseZone = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._();//#courseZone\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n    $courseZone.find(\".task\").remove();\\r\\n    $courseZone.append($template);\\r\\n\\r\\n    let number_map = [\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"七\",\"八\",\"九\"];\\r\\n    _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].nodes.forEach((node, index) => {\\r\\n        let $task = $template.clone().removeAttr(\"id\").removeClass(\"hidden\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($task);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-nodename\").html(`任务${number_map[index]}:${node.nodename}————`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-taskname\").html(node.taskname);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-content\").html(node.taskcontent);\\r\\n        \\r\\n        //学科核心问题组装\\r\\n        let str = \"\";\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].exist(node, \"taskcorequestion\")){\\r\\n            node.taskcorequestion.forEach(coreQuestion => {\\r\\n                str += `\\r\\n                <li>${coreQuestion.content}</li>`.trim();\\r\\n            });\\r\\n        }\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-coreQuestion\").html(str);\\r\\n        \\r\\n        //学习证据组装\\r\\n        str = \"\";\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].exist(node, \"taskevidence\")){\\r\\n            [...node.taskevidence].forEach(evidence => {\\r\\n                str += `\\r\\n                <tr>\\r\\n                    <td class=\"task-evidence-content\">${evidence.content}</td>\\r\\n                    <td class=\"task-evidence-coreQuestion\">${evidence.corequestion}</td>\\r\\n                    <td class=\"task-evidence-evaluate\">${evidence.evaluate}</td>\\r\\n                </tr>`.trim();\\r\\n            });\\r\\n        }\\r\\n        //如果是空的，将学习证据区域显示一个\"无\"\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-evidence\").html(str);\\r\\n        if(str === \"\"){\\r\\n            let $evidenceWrapper = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-evidence\").ancestor(2);\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-evidence\").parent().remove();\\r\\n            $evidenceWrapper.append(\"<p>无</p>\");\\r\\n        }\\r\\n\\r\\n        //活动设计组装\\r\\n        str = \"\";\\r\\n        let activities = _activity_activity__WEBPACK_IMPORTED_MODULE_2__[\"ACTIVITYZONE\"].data.prime[index].activities;\\r\\n        if(activities !== \"\" && !_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(activities)){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-info-hasActivity\").removeClass(\"hidden\");\\r\\n            let activitiesLen = activities.length;\\r\\n            activities.forEach((activity, number) => {\\r\\n                str += `\\r\\n                <li>\\r\\n                    <img class=\"img-responsive taskActivity-image\" \\r\\n                        src=\"image/activities/${activity.type}-icon.png\"\\r\\n                        title=\"${activity.typename}\">\\r\\n                    <p>\\r\\n                    <label class=\"taskActivity-nodenumber\">活动${number+1}</label>\\r\\n                    <label class=\"taskActivity-nodename\">${activity.activity.name}</label></p>\\r\\n                </li>`.trim();\\r\\n                if(number < activitiesLen - 1){\\r\\n                    str += `\\r\\n                    <li class=\"arrow-li\">\\r\\n                        <img class=\"img-responsive arrow-image\"\\r\\n                            src=\"image/else/arrow.png\">\\r\\n                    </li>`.trim();\\r\\n                }\\r\\n                let $activity_content = Object(_course_activity__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(activity.type, activity, number+1);\\r\\n                if($activity_content !== null){\\r\\n                    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-wrapper\").append($activity_content);\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-activity\").html(str);\\r\\n\\r\\n        //处理子节点\\r\\n        let subNodes =  _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].nodes[index].next;\\r\\n        if(subNodes !== \"\"){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-info-hasSubNode\").removeClass(\"hidden\");\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".subnode-wrapper\").append(Object(_subtaskzone__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(subNodes.tasktype, subNodes.nodes));\\r\\n            injectPreviewSubCourse(subNodes.nodes, _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".subnode-wrapper\"), index);\\r\\n        }\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        $courseZone.append($task);\\r\\n    });\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将子节点数据 注入preview中的node的.subnode-wrapper 即$zone\\r\\n * @param {Array<Object>} nodes\\r\\n * @param {Object} $zone\\r\\n * @param {Number} parentIndex\\r\\n */\\r\\nfunction injectPreviewSubCourse(nodes, $zone, parentIndex){\\r\\n    let $inject = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._();\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#courseZone\"));\\r\\n    let $template = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#course-task-template\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n    let number_map = [\"一\",\"二\",\"三\",\"四\",\"五\",\"六\",\"七\",\"八\",\"九\"];\\r\\n    nodes.forEach((node, index) => {\\r\\n        let $task = $template.clone().removeAttr(\"id\").removeClass(\"hidden\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($task);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-nodename\").html(`任务${number_map[index]}:${node.nodename}————`);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-taskname\").html(node.taskname);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-content\").html(node.taskcontent);\\r\\n        \\r\\n        //学科核心问题组装\\r\\n        let str = \"\";\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].exist(node, \"taskcorequestion\")){\\r\\n            node.taskcorequestion.forEach(coreQuestion => {\\r\\n                str += `\\r\\n                <li>${coreQuestion.content}</li>`.trim();\\r\\n            });\\r\\n        }\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-coreQuestion\").html(str);\\r\\n        \\r\\n        //学习证据组装\\r\\n        str = \"\";\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].exist(node, \"taskevidence\")){\\r\\n            [...node.taskevidence].forEach(evidence => {\\r\\n                str += `\\r\\n                <tr>\\r\\n                    <td class=\"task-evidence-content\">${evidence.content}</td>\\r\\n                    <td class=\"task-evidence-coreQuestion\">${evidence.corequestion}</td>\\r\\n                    <td class=\"task-evidence-evaluate\">${evidence.evaluate}</td>\\r\\n                </tr>`.trim();\\r\\n            });\\r\\n        }\\r\\n        //如果是空的，将学习证据区域显示一个\"无\"\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-evidence\").html(str);\\r\\n        if(str === \"\"){\\r\\n            let $evidenceWrapper = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-evidence\").ancestor(2);\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-evidence\").parent().remove();\\r\\n            $evidenceWrapper.append(\"<p>无</p>\");\\r\\n        }\\r\\n\\r\\n        //活动设计组装\\r\\n        str = \"\";\\r\\n        let activities = _activity_activity__WEBPACK_IMPORTED_MODULE_2__[\"ACTIVITYZONE\"].data.sub[parentIndex].nodes[index].activities;\\r\\n        if(activities !== \"\" && !_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(activities)){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-info-hasActivity\").removeClass(\"hidden\");\\r\\n            let activitiesLen = activities.length;\\r\\n            activities.forEach((activity, number) => {\\r\\n                str += `\\r\\n                <li>\\r\\n                    <img class=\"img-responsive taskActivity-image\" \\r\\n                        src=\"image/activities/${activity.type}-icon.png\"\\r\\n                        title=\"${activity.typename}\">\\r\\n                    <p>\\r\\n                    <label class=\"taskActivity-nodenumber\">活动${number+1}</label>\\r\\n                    <label class=\"taskActivity-nodename\">${activity.activity.name}</label></p>\\r\\n                </li>`.trim();\\r\\n                if(number < activitiesLen - 1){\\r\\n                    str += `\\r\\n                    <li class=\"arrow-li\">\\r\\n                        <img class=\"img-responsive arrow-image\"\\r\\n                            src=\"image/else/arrow.png\">\\r\\n                    </li>`.trim();\\r\\n                }\\r\\n                let $activity_content = Object(_course_activity__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(activity.type, activity, number+1);\\r\\n                if($activity_content !== null){\\r\\n                    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".activity-wrapper\").append($activity_content);\\r\\n                }\\r\\n            });\\r\\n        }\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".task-activity\").html(str);\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        $zone.append($task);\\r\\n    });\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($inject);\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/course.js?')},\"./src/js/preview/inject/cover.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewCover; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objectives/objectives */ \"./src/js/objectives/objectives.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 03:37:24 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:30\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将数据从THEME中取出 注入preview中的#coverZone\\r\\n */\\r\\nfunction injectPreviewCover(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#coverZone\"));\\r\\n    //STD中是四个学科，见design-objectives.js\\r\\n    _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"STD\"].forEach(std => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html(\\r\\n            _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"THEME\"],\\r\\n            [\"people\", std],\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(`#cover-people-${std}`)\\r\\n        );\\r\\n    });\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/cover.js?')},\"./src/js/preview/inject/subtaskzone.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewSubTaskzone; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_taskzone__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../taskzone/taskzone */ \"./src/js/taskzone/taskzone.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 04:03:38 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:34\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 返回节点，用于加入子节点区域的模式类型\\r\\n * @param {String} type \\r\\n * @param {Array<Object>} nodes\\r\\n */\\r\\nfunction injectPreviewSubTaskzone(type, nodes){\\r\\n    let $subTaskModal = $(\"#subTaskModalZone\").clone()\\r\\n        .removeAttr(\"id\").removeClass(\"hidden\"),\\r\\n        $backup_inject = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._();\\r\\n    \\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($subTaskModal);\\r\\n    \\r\\n    let typename;\\r\\n    //TASKTYPE在design.js中\\r\\n    for(let tasktype of _taskzone_taskzone__WEBPACK_IMPORTED_MODULE_1__[\"TASKTYPE\"]){\\r\\n        if(tasktype.task === type.toLowerCase()){\\r\\n            typename = tasktype.name;\\r\\n            break;\\r\\n        }\\r\\n    }\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".subTaskModal-name\").html(typename);\\r\\n\\r\\n    let str = \"\"\\r\\n    for(let node of nodes){\\r\\n        str += `\\r\\n        <li>\\r\\n            <img class=\"img-responsive subTaskModal-image\" src=\"image/nodes/${type}/${node.imgsrc}\">\\r\\n            <label class=\"subTaskModal-nodename\">${node.nodename}</label>\\r\\n        </li>`.trim();\\r\\n    }\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".subTaskModal-gallery\").html(str);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($backup_inject);\\r\\n    return $subTaskModal;\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/subtaskzone.js?')},\"./src/js/preview/inject/taskzone.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewTaskzone; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _taskzone_taskzone__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../taskzone/taskzone */ \"./src/js/taskzone/taskzone.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 04:03:38 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:36\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将数据从DATA中取出 注入preview中的#taskModalZone\\r\\n */\\r\\nfunction injectPreviewTaskzone(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#taskModalZone\"));\\r\\n    \\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"]) || _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].tasktype)) return;\\r\\n    let type = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].tasktype, typename;\\r\\n    //TASKTYPE在design.js中\\r\\n    for(let tasktype of _taskzone_taskzone__WEBPACK_IMPORTED_MODULE_2__[\"TASKTYPE\"]){\\r\\n        if(tasktype.task === type.toLowerCase()){\\r\\n            typename = tasktype.name;\\r\\n            break;\\r\\n        }\\r\\n    }\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskModal-name\").html(typename);\\r\\n\\r\\n    let str = \"\"\\r\\n    for(let node of _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].nodes){\\r\\n        str += `\\r\\n        <li>\\r\\n            <img class=\"img-responsive taskModal-image\" src=\"image/nodes/${type}/${node.imgsrc}\">\\r\\n            <label class=\"taskModal-nodename\">${node.nodename}</label>\\r\\n        </li>`.trim();\\r\\n    }\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskModal-gallery\").html(str);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/taskzone.js?')},\"./src/js/preview/inject/theme.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return injectPreviewTheme; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../objectives/objectives */ \"./src/js/objectives/objectives.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 03:40:33 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:05:41\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 将数据从THEME/QUESTION中取出\\\\\\r\\n * 注入preview中的#themeZone\\r\\n */\\r\\nfunction injectPreviewTheme(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#themeZone\"));\\r\\n\\r\\n    let grades = [\"\", \"小学一年级\", \"小学二年级\", \"小学三年级\",\\r\\n        \"小学四年级\", \"小学五年级\", \"小学六年级\"];\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#theme-grade\").html(grades[+_objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"THEME\"].grade]);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].map(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].html, \\r\\n        [\\r\\n            _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"THEME\"],\\r\\n            \"themeName\",\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#theme-name\")\\r\\n        ],\\r\\n        [\\r\\n            _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"THEME\"],\\r\\n            \"themeSituation\",\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#theme-situation\")\\r\\n        ],\\r\\n        [\\r\\n            _objectives_objectives__WEBPACK_IMPORTED_MODULE_1__[\"QUESTION\"],\\r\\n            \"driverQuestion\",\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#theme-question\")\\r\\n        ]\\r\\n    );\\r\\n    \\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/inject/theme.js?')},\"./src/js/preview/preview.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _inject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./inject */ \"./src/js/preview/inject.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _inject__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\\n\\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./render */ \"./src/js/preview/render.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 03:31:02 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 21:27:35\\r\\n */\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/preview/preview.js?')},\"./src/js/preview/render.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-23 03:28:41 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 21:29:28\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n// import html2canvas from \"html2canvas\";\\r\\n// import jsPDF from \"jspdf\";\\r\\n\\r\\n\\r\\nlet $modal = $(\"#savePdfModal\");\\r\\n$modal.appendTo($(\"body\").eq(0));\\r\\n\\r\\nvar RENDER_MODAL; // 全局的控制生成pdf的模态框的对象\\r\\n\\r\\nRENDER_MODAL = new renderModal(); // 初始化save_pdf_modal的相关事件处理\\r\\n\\r\\ninitRenderPDF(); // 初始化渲染pdf\\r\\ninitRenderBtnHandler(); // 初始化提交报告按钮的点击事件\\r\\n\\r\\n\\r\\n/**\\r\\n * 初始化save_pdf_modal的相关事件处理\\r\\n * modal_id: savePdfModal\\r\\n */\\r\\nfunction renderModal(){\\r\\n    let $modal = $(\"#savePdfModal\"),\\r\\n        that = this;\\r\\n\\r\\n    this.hideBody = () => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modal);\\r\\n        let $uploading = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#savePdf-uploading\");\\r\\n        let $uploaded = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#savePdf-uploaded\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide([$uploading, $uploaded]);\\r\\n    };\\r\\n    this.exist = () => {\\r\\n        let userid = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].userid;\\r\\n        let username = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].username; \\r\\n        let result;\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].async();\\r\\n        $.post(\"./php/pdf/pdf_check.php\", \\r\\n            {userid: userid, username: username},\\r\\n            (res) => {\\r\\n            result = res;\\r\\n        });\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].async();\\r\\n        return result;\\r\\n    };\\r\\n    this.open = () => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modal);\\r\\n        let $uploading = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#savePdf-uploading\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n        that.hideBody();\\r\\n        $uploading.removeClass(\"hidden\");\\r\\n        $modal.modal(\"show\");\\r\\n    };\\r\\n    this.uploaded = () => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($modal);\\r\\n        let $uploaded = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#savePdf-uploaded\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        that.hideBody();\\r\\n        $uploaded.removeClass(\"hidden\");\\r\\n    };\\r\\n    this.close = () => {\\r\\n        $modal.modal(\"hide\");\\r\\n    };\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 渲染pdf的主要操作\\r\\n */\\r\\nfunction initRenderPDF(){\\r\\n    let downPdf = $(\"#renderPDF\");\\r\\n    console.log(\"pdf\");\\r\\n    downPdf.click(() => {\\r\\n    html2canvas(document.querySelector(\"#preview-container\"), {\\r\\n        allowTaint: true, \\r\\n        taintTest: false,\\r\\n        scale: \\'2\\',\\r\\n        background: \\'#fff\\',\\r\\n\\r\\n        onrendered: canvas => {\\r\\n            let contentWidth    = canvas.width,\\r\\n                contentHeight   = canvas.height,\\r\\n\\r\\n                //一页pdf显示html页面生成的canvas高度;\\r\\n                pageHeight = contentWidth / 592.28 * 841.89,\\r\\n                //未生成pdf的html页面高度\\r\\n                leftHeight = contentHeight,\\r\\n                //pdf页面偏移\\r\\n                position = 0;\\r\\n\\r\\n\\r\\n            //a4纸的尺寸[595.28,841.89]，html页面生成的canvas在pdf中图片的宽高\\r\\n            let imgWidth    = 555.28,  //左右边距20\\r\\n                imgHeight   = 555.28/contentWidth * contentHeight;  //左右边距20\\r\\n\\r\\n            let pageData = canvas.toDataURL(\\'image/jpeg\\', 1.0),\\r\\n                pdf = new jsPDF(\\'\\', \\'pt\\', \\'a4\\');\\r\\n\\r\\n            //当内容未超过pdf一页显示的范围，无需分页\\r\\n            if(leftHeight < pageHeight) {\\r\\n                pdf.addImage(pageData, \\'JPEG\\', 20, 0, imgWidth, imgHeight);\\r\\n            }else{\\r\\n                while(leftHeight > 0) {\\r\\n                    pdf.addImage(pageData, \\'JPEG\\', 20, position, imgWidth, imgHeight)\\r\\n                    leftHeight -= pageHeight;\\r\\n                    position -= 841.89;\\r\\n\\r\\n                    //避免添加空白页\\r\\n                    if(leftHeight > 0){\\r\\n                        pdf.addPage();\\r\\n                    }\\r\\n                }\\r\\n            }\\r\\n\\r\\n            // pdf.save(\\'content.pdf\\');\\r\\n            let datauri = pdf.output(\\'dataurlstring\\');\\r\\n            //去掉前面的字符串后，就是文件的加密字符串\\r\\n            let base64 = datauri.substring(28);\\r\\n\\r\\n            // let userid = sessionStorage.getItem(\"userid\"),\\r\\n            //     username = sessionStorage.getItem(\"username\");\\r\\n            let userid = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].userid;\\r\\n            let username = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].username;\\r\\n\\r\\n            $.post(\"./php/pdf/pdf_save.php\", \\r\\n                {\\r\\n                    data: base64, \\r\\n                    paths: getAppendixes(),\\r\\n                    userid: userid,\\r\\n                    username: username\\r\\n                }, (res) => {\\r\\n                console.log(\\'reaction\\');\\r\\n                if(res){\\r\\n                    console.log(res);\\r\\n                    RENDER_MODAL.uploaded();\\r\\n                }\\r\\n            });\\r\\n        }//onrendered\\r\\n    })//html2canvas\\r\\n    });//downPdf.click\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 从appendixZone中获取附件的path封装成数组返回\\r\\n * 该paths返回数组需要以参数形式post用于形成报告的附件\\r\\n */\\r\\nfunction getAppendixes(){\\r\\n    let paths = [];\\r\\n    [...$(\"#appendixZone\").children()].forEach(appendix => {\\r\\n        paths.push($(appendix).attr(\"data-path\"));\\r\\n    });\\r\\n    return paths;\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 初始化提交报告按钮的点击事件\\r\\n */\\r\\nfunction initRenderBtnHandler(){\\r\\n    $(\"#savePDF\").click(() => {\\r\\n        console.log(\"生成中......\");\\r\\n        $(\"#renderPDF\").click();\\r\\n        // RENDER_MODAL.open();\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    $(\"#downloadPDF\").click(() => {\\r\\n        if(RENDER_MODAL.exist() == 0){\\r\\n            alert(\"您尚未提交过报告\");\\r\\n            return false;\\r\\n        }else{\\r\\n            let userid = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].userid;\\r\\n            let username = _saveload_saveload__WEBPACK_IMPORTED_MODULE_1__[\"SESSION_INFO\"].username;\\r\\n            let $a = $(`<a href=\"./userdata/${userid}_${username}/report.zip\" download></a>`);\\r\\n            $(\"body\").eq(0).append($a);\\r\\n            $a[0].click();\\r\\n            $a.remove();\\r\\n            return false;\\r\\n        }\\r\\n    });\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/preview/render.js?')},\"./src/js/resize/fullscreen.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _zones__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./zones */ \\\"./src/js/resize/zones.js\\\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-04-13 21:01:24 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-14 03:13:52\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\nconst Fullscreen = 'glyphicon-fullscreen';\\r\\nconst Smallscreen = 'glyphicon-resize-small';\\r\\n\\r\\nconst $span_temp = $(`\\r\\n    <span class='glyphicon glyphicon-fullscreen fullscreen-btn'\\r\\n        title='点击全屏化当前区域'></span>\\r\\n`);\\r\\n\\r\\n_zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"].forEach( (zone, index) => {\\r\\n    if (index == 0) return;\\r\\n    const $span = $span_temp.clone();\\r\\n    $span.data('index', index);\\r\\n    $span.appendTo( $(zone).find('> div:first-child'));\\r\\n});\\r\\n\\r\\n\\r\\nlet class_backup;\\r\\n$('.fullscreen-btn').click(function() {\\r\\n    const $this = $(this);\\r\\n    const index = $this.data('index');\\r\\n\\r\\n    if ( $this.hasClass(Fullscreen) ) {\\r\\n        _zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"].apply(index, $zone => {\\r\\n            class_backup = $zone.attr('class');\\r\\n            $zone.removeClass(class_backup).addClass('fullscreen');\\r\\n        }, $zone => {\\r\\n            $zone.addClass('hidden');\\r\\n        });\\r\\n        $this.removeClass(Fullscreen).addClass(Smallscreen);\\r\\n    } else {\\r\\n        _zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"].apply(index, $zone => {\\r\\n            $zone.addClass(class_backup).removeClass('fullscreen');\\r\\n        }, $zone => {\\r\\n            $zone.removeClass('hidden');\\r\\n        });\\r\\n        $this.removeClass(Smallscreen).addClass(Fullscreen);\\r\\n    }\\r\\n});\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \\\"./node_modules/jquery/dist/jquery.js\\\")))\\n\\n//# sourceURL=webpack:///./src/js/resize/fullscreen.js?\")},\"./src/js/resize/resize.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _fullscreen__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fullscreen */ \"./src/js/resize/fullscreen.js\");\\n/* harmony import */ var _toggle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toggle */ \"./src/js/resize/toggle.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"toggleTrigger\", function() { return _toggle__WEBPACK_IMPORTED_MODULE_1__[\"toggleTrigger\"]; });\\n\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-04-13 20:56:26 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-13 21:09:35\\r\\n */\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/resize/resize.js?')},\"./src/js/resize/toggle.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"toggleTrigger\\\", function() { return toggleTrigger; });\\n/* harmony import */ var _zones__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./zones */ \\\"./src/js/resize/zones.js\\\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 00:16:14 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-13 21:56:43\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\nconst $toggleBtn = $('#togglebtn');\\r\\n\\r\\nfunction addAnimations(type) {\\r\\n    _zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"][0].addClass(`${type}-objectives`);\\r\\n    _zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"][1].addClass(`${type}-tasks`);\\r\\n    _zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"][2].addClass(`${type}-activities`);\\r\\n}\\r\\n\\r\\nfunction removeAnimations() {\\r\\n    _zones__WEBPACK_IMPORTED_MODULE_0__[\\\"zones\\\"].forEach(zone => {\\r\\n        let zone_class = $(zone).attr('class');\\r\\n        zone_class = (zone_class.split(' '))[0];\\r\\n        $(zone).attr('class', zone_class);\\r\\n    });\\r\\n}\\r\\n\\r\\n$toggleBtn.click(function() {\\r\\n    const right = '&gt;&gt;', left = '&lt;&lt;';\\r\\n    removeAnimations();\\r\\n\\r\\n    switch( $(this).attr('data-direction') ) {\\r\\n        case 'left':\\r\\n            $(this).html(right);\\r\\n            $(this).attr('data-direction', 'right');\\r\\n            addAnimations('toggleRight');\\r\\n            break;\\r\\n        case 'right':\\r\\n            $(this).html(left);\\r\\n            $(this).attr('data-direction', 'left');\\r\\n            addAnimations('toggleLeft');\\r\\n            break;\\r\\n    }\\r\\n});\\r\\n\\r\\n\\r\\nfunction toggleTrigger(type) {\\r\\n    return new Promise(function(resolve) {\\r\\n        let direction = $toggleBtn.attr('data-direction');\\r\\n\\r\\n        switch(type) {\\r\\n            case 'on':\\r\\n                if(direction === 'left') resolve();\\r\\n                break;\\r\\n            case 'off':\\r\\n                if(direction === 'right') resolve();\\r\\n                break;\\r\\n        }\\r\\n    }).then( () => {\\r\\n        $toggleBtn.click();\\r\\n    });\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \\\"./node_modules/jquery/dist/jquery.js\\\")))\\n\\n//# sourceURL=webpack:///./src/js/resize/toggle.js?\")},\"./src/js/resize/zones.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval(\"__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \\\"zones\\\", function() { return zones; });\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-04-13 21:15:46 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-13 21:55:34\\r\\n */\\r\\n\\r\\nconst objectivesZone = $('#design-objectives'); // 学习目标\\r\\nconst tasksZone = $('#design-tasks'); // 学习评价\\r\\nconst activitiesZone = $('#design-activities'); // 学习活动\\r\\n\\r\\nconst zones = [objectivesZone, tasksZone, activitiesZone];\\r\\n\\r\\n/**\\r\\n * 对zones元素应用函数的封装\\\\\\r\\n * anotherFunc将对index以外位置的元素调用\\r\\n * \\r\\n * @param {Number} index \\r\\n * @param {Function} func \\r\\n * @param {Function} anotherFunc = null \\r\\n */\\r\\nfunction apply(index, func, anotherFunc = null) {\\r\\n\\tfunc(this[index]);\\r\\n\\tif (anotherFunc !== null) {\\r\\n\\t\\tfor (let i = 0; i < this.length; i++) {\\r\\n\\t\\t\\tif (i != index) anotherFunc(this[i]);\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\nzones['apply'] = apply;\\r\\n\\r\\n\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \\\"./node_modules/jquery/dist/jquery.js\\\")))\\n\\n//# sourceURL=webpack:///./src/js/resize/zones.js?\")},\"./src/js/saveload/data.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DATA\", function() { return dataProxy; });\\n/* harmony import */ var _datas_data_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../datas/data.json */ \"./src/datas/data.json\");\\nvar _datas_data_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/data.json */ \"./src/datas/data.json\", 1);\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 00:23:03 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 04:45:31\\r\\n */\\r\\n\\r\\n\\r\\nlet DATA = _datas_data_json__WEBPACK_IMPORTED_MODULE_0__;\\r\\n\\r\\nlet dataProxy = new Proxy(DATA, {\\r\\n\\tset(target, key, value){\\r\\n\\t\\tif(key === \"self\"){\\r\\n\\t\\t\\tDATA = {};\\r\\n\\t\\t\\tfor(let [k, v] of Object.entries(value)){\\r\\n\\t\\t\\t\\ttarget[k] = v;\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\treturn true;\\r\\n\\t\\t}\\r\\n\\t\\treturn false;\\r\\n\\t},\\r\\n\\tget(target, key){\\r\\n\\t\\tif(key == \"reset\"){\\r\\n\\t\\t\\treturn () => {\\r\\n\\t\\t\\t\\tDATA = _datas_data_json__WEBPACK_IMPORTED_MODULE_0__;\\r\\n\\t\\t\\t};\\r\\n\\t\\t}else{\\r\\n\\t\\t\\treturn target[key];\\r\\n\\t\\t}\\r\\n\\t}\\r\\n});\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/saveload/data.js?')},\"./src/js/saveload/loaddata.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data */ \"./src/js/saveload/data.js\");\\n/* harmony import */ var _activity_activity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../activity/activity */ \"./src/js/activity/activity.js\");\\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session */ \"./src/js/saveload/session.js\");\\n/* harmony import */ var _taskzone_taskzone__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../taskzone/taskzone */ \"./src/js/taskzone/taskzone.js\");\\n/* harmony import */ var _objectives_objectives__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../objectives/objectives */ \"./src/js/objectives/objectives.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-25 04:26:40 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:06:12\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 从localdata中读入的数据的全局保存\\r\\n * @global\\r\\n */\\r\\nvar DB = null;\\r\\nvar DB_PATH = \"./db/localdata/data.json\";\\r\\n\\r\\n\\r\\n$(function(){\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hello(\"design-load\");\\r\\n\\r\\n    //立即读入数据初始化，该js文件应在最后的位置被引入(html中)\\r\\n    loadDB();\\r\\n});\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 读入DB的数据\\r\\n * 并调用loadTheme等加载数据\\r\\n */\\r\\nfunction loadDB(){\\r\\n    //获取session中的userid 与 username\\r\\n    // let userid = sessionStorage.getItem(\"userid\"),\\r\\n    //     username = sessionStorage.getItem(\"username\");\\r\\n    \\r\\n    // while(true && !DB_local){\\r\\n    //     if(userid != null && username != null){\\r\\n    //         DB_PATH = `./userdata/${userid}_${username}/data.json`;\\r\\n    //         $(\"#loading-aside\").hide();\\r\\n    //         LOAD_LOCK = true;\\r\\n    //         break;\\r\\n    //     }else{\\r\\n    //         // alert(\"您的网络状态不佳！请尝试刷新！\");\\r\\n    //         setInterval(() => {\\r\\n    //             let $span_dot = $(\"#loading-aside\").find(\"span\").eq(0),\\r\\n    //                 length = $span_dot.html().length;\\r\\n    //             $span_dot.html(\".\".repeat(length > 9?3:++length));\\r\\n    //         }, 180);\\r\\n    //         return;\\r\\n    //     }\\r\\n    // }\\r\\n    if(Object(_session__WEBPACK_IMPORTED_MODULE_3__[\"getSession\"])()){\\r\\n        DB_PATH = `./userdata/${_session__WEBPACK_IMPORTED_MODULE_3__[\"SESSION_INFO\"].userid}_${_session__WEBPACK_IMPORTED_MODULE_3__[\"SESSION_INFO\"].username}/data.json`;\\r\\n    }\\r\\n\\r\\n    $(\"#loadingcover\").hide();\\r\\n    $.ajaxSetup ({ cache: false }); \\r\\n    DB = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].get(DB_PATH);\\r\\n    // log(DB);\\r\\n    $.ajaxSetup ({ cache: true }); \\r\\n    loadTheme();\\r\\n    loadQuestion();\\r\\n    loadTasks();\\r\\n    // loadActivity();\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 从DB中加载THEME数据\\r\\n * 并更新对应区域的显示内容\\r\\n * \\r\\n * DB.theme:\\r\\n * \"theme\":{\\r\\n        \"themeName\":\"主题名称\",\\r\\n        \"themeSituation\":\"学习情境\",\\r\\n        \"people\":{\\r\\n            \"science\":\"科学-人员 \",\\r\\n            \"technology\":\"技术-人员\",\\r\\n            \"engineering\":\"工程-人员\",\\r\\n            \"mathematics\":\"数学-人员\"\\r\\n        },\\r\\n        \"grade\":\"5\"\\r\\n    }\\r\\n */\\r\\nfunction loadTheme(){\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB) || _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB.theme) || DB.theme == \"\"){\\r\\n        return;\\r\\n    }\\r\\n    let themeData = DB.theme;\\r\\n    _objectives_objectives__WEBPACK_IMPORTED_MODULE_5__[\"THEME\"].self = themeData;\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#courseTheme\"));\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n        themeData, [\"themeName\"],\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#courseTheme-themeName\") \\r\\n    );\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n        themeData, [\"themeSituation\"],\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#courseTheme-themeSituation\")\\r\\n    );\\r\\n    _objectives_objectives__WEBPACK_IMPORTED_MODULE_5__[\"STD\"].forEach((std) => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n            themeData, [\"people\", std],\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(`#courseTheme-people-${std}`)\\r\\n        );\\r\\n    });\\r\\n    let grade = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n        themeData, \"grade\"\\r\\n    );\\r\\n    $(\"#courseTheme-grade\").children()\\r\\n        .eq(Number.parseInt(grade) - 1)\\r\\n        .prop(\"selected\", true);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 从DB中加载question数据\\r\\n * 并更新对应区域的内容\\r\\n * \\r\\n * \"question\":{\\r\\n        \"driverQuestion\":\"驱动问题名\",\\r\\n        \"coreQuestion\":{\\r\\n            \"science\":[\"科学1-1\",\"科学1-2\"],\\r\\n            \"technology\":[\"技术2-1\",\"技术2-2\",\"技术2-3\"],\\r\\n            \"engineering\":[\"工程3-1\"],\\r\\n            \"mathematics\":[\"数学4-1\",\"数学4-2\",\"数学4-3\",\"数学4-4\",\"数学4-5\"]\\r\\n        }\\r\\n    }\\r\\n */\\r\\nfunction loadQuestion(){\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB) || _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB.question) || DB.question == \"\"){\\r\\n        return;\\r\\n    }\\r\\n    let questionData = DB.question;\\r\\n    _objectives_objectives__WEBPACK_IMPORTED_MODULE_5__[\"QUESTION\"].self = questionData;\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\"#questionDesign-realForm\"));\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n        questionData, \"driverQuestion\",\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#questionDesign-driverQuestion\")\\r\\n    );\\r\\n    \\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(questionData.coreQuestion) || !questionData.coreQuestion) return;\\r\\n    _objectives_objectives__WEBPACK_IMPORTED_MODULE_5__[\"STD\"].forEach((std) => {\\r\\n        let corequestion = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].withdraw(\\r\\n            questionData, [\"coreQuestion\", std]\\r\\n        ), number = corequestion.length;\\r\\n\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(`#questionDesign-coreQuestion-${std}`));\\r\\n        if(number != 0){\\r\\n            let $addBtn = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".addCoreQuestion\"),\\r\\n                $edit = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".editCoreQuestion\");\\r\\n\\r\\n            for(let i = 0; i < number; i++){\\r\\n                $edit.val(corequestion[i]);\\r\\n                $addBtn.click();\\r\\n            }\\r\\n        } \\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    });\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 加载学习模式中的节点的数据\\r\\n */\\r\\nfunction loadTasks(){\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB) || _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB.tasks) || DB.tasks == \"\"){\\r\\n        return;\\r\\n    }\\r\\n\\r\\n    let tasksData = DB.tasks,\\r\\n        nodes = tasksData.nodes;\\r\\n\\r\\n    Object(_taskzone_taskzone__WEBPACK_IMPORTED_MODULE_4__[\"selectModal\"])(tasksData.tasktype);\\r\\n    nodes.forEach((node, index) => {\\r\\n        if(node.next === \"\") return;\\r\\n        _taskzone_taskzone__WEBPACK_IMPORTED_MODULE_4__[\"TASKZONE\"].initSubTaskNodes(node.next.tasktype, index, true);\\r\\n    });\\r\\n\\r\\n    _data__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].self = tasksData;\\r\\n    loadActivity();\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 加载学习活动中的活动\\r\\n * 并将相关的节点的值通过Node.saveData()存入本地\\r\\n */\\r\\nfunction loadActivity(){\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(DB) || !DB.activity || !DB.tasks) return;\\r\\n    // if(_isundef(ZONE)){\\r\\n    //     log(\"Please Init ZONE\");\\r\\n    //     ZONE = new Zones(DATA.nodes);\\r\\n    //     return;\\r\\n    // }\\r\\n\\r\\n    // return;\\r\\n    let zones       = _activity_activity__WEBPACK_IMPORTED_MODULE_2__[\"ACTIVITYZONE\"].zones,\\r\\n        subzones    = _activity_activity__WEBPACK_IMPORTED_MODULE_2__[\"ACTIVITYZONE\"].zones[_activity_activity__WEBPACK_IMPORTED_MODULE_2__[\"ACTIVITYZONE\"].len];\\r\\n    let prime   = DB.activity.prime,\\r\\n        sub     = DB.activity.sub;\\r\\n\\r\\n    prime.forEach((node, index) => {\\r\\n        if(node.activities){\\r\\n            node.activities.forEach((activity, i) => {\\r\\n                let activityInfo = {\\r\\n                    type: activity.type,\\r\\n                    activityname: activity.activity.name\\r\\n                };\\r\\n                zones[index].addActivity(activityInfo);\\r\\n                zones[index].nodelist[i].data = activity;\\r\\n                // zones[index].pushActivity(activityInfo, activity);\\r\\n            });\\r\\n        }\\r\\n    });\\r\\n    sub.forEach((subzone, subZoneIndex) => {\\r\\n        if(subzone.nodes){\\r\\n        subzone.nodes.forEach((node, nodeIndex) => {\\r\\n            if(node.activities){\\r\\n            node.activities.forEach((activity, i) => {\\r\\n                let activityInfo = {\\r\\n                    type: activity.type,\\r\\n                    activityname: activity.activity.name\\r\\n                };\\r\\n                subzones[subZoneIndex][nodeIndex].addActivity(activityInfo);\\r\\n                subzones[subZoneIndex][nodeIndex].nodelist[i].data = activity;\\r\\n            });\\r\\n            }//end if-node.activities\\r\\n        });\\r\\n        }//end if-subzone.nodes\\r\\n    });\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/saveload/loaddata.js?')},\"./src/js/saveload/savedata.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveData\", function() { return saveData; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data */ \"./src/js/saveload/data.js\");\\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session */ \"./src/js/saveload/session.js\");\\n/* harmony import */ var _activity_activity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../activity/activity */ \"./src/js/activity/activity.js\");\\n/* harmony import */ var _objectives_objectives__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../objectives/objectives */ \"./src/js/objectives/objectives.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 00:17:00 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:06:17\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\nfunction saveData(){\\r\\n    let tasksData, activityData;\\r\\n    if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_data__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"]) || _data__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"].length == 0){\\r\\n        //当为选择模式时，DATA为[]\\r\\n        tasksData = null;\\r\\n        activityData = null;\\r\\n    }else{\\r\\n        tasksData = _data__WEBPACK_IMPORTED_MODULE_1__[\"DATA\"];\\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(_activity_activity__WEBPACK_IMPORTED_MODULE_3__[\"ACTIVITYZONE\"])){\\r\\n            console.log(\"Please Init ZONE\");\\r\\n            return;\\r\\n        }\\r\\n        activityData = _activity_activity__WEBPACK_IMPORTED_MODULE_3__[\"ACTIVITYZONE\"].data;\\r\\n    }\\r\\n\\r\\n    Object(_objectives_objectives__WEBPACK_IMPORTED_MODULE_4__[\"saveTheme\"])();\\r\\n    Object(_objectives_objectives__WEBPACK_IMPORTED_MODULE_4__[\"saveQuestion\"])();\\r\\n    console.log(_objectives_objectives__WEBPACK_IMPORTED_MODULE_4__[\"QUESTION\"]);\\r\\n\\r\\n    let data = {\\r\\n        theme: _objectives_objectives__WEBPACK_IMPORTED_MODULE_4__[\"THEME\"],\\r\\n        question: _objectives_objectives__WEBPACK_IMPORTED_MODULE_4__[\"QUESTION\"],\\r\\n        tasks: tasksData,\\r\\n        activity: activityData\\r\\n    };\\r\\n\\r\\n    console.log(new Date() + \"：数据保存...\");\\r\\n    console.log(data);\\r\\n    let userid = sessionStorage.getItem(\"userid\"),\\r\\n        username = sessionStorage.getItem(\"username\");\\r\\n    \\r\\n    if(userid == null || username == null){\\r\\n        $.post(\"./db/data_save_all.php\", {data:data}, (res) => {\\r\\n            if(res) console.log(\"save ALL DATA successfully\");\\r\\n            else console.error(\"save ALL DATA failed\");\\r\\n        });\\r\\n    }else{\\r\\n        $.post(\"./php/data/data_save_local.php\",\\r\\n            {data:data, userid:userid, username:username}, \\r\\n            (res) => {\\r\\n                console.log(data.tasks);\\r\\n                if(res) console.log(\"save ALL DATA successfully --local\");\\r\\n                else console.error(\"save ALL DATA failed --local\");\\r\\n        });\\r\\n    }\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/saveload/savedata.js?')},\"./src/js/saveload/saveload.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data */ \"./src/js/saveload/data.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DATA\", function() { return _data__WEBPACK_IMPORTED_MODULE_0__[\"DATA\"]; });\\n\\n/* harmony import */ var _savedata__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./savedata */ \"./src/js/saveload/savedata.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"saveData\", function() { return _savedata__WEBPACK_IMPORTED_MODULE_1__[\"saveData\"]; });\\n\\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./session */ \"./src/js/saveload/session.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"SESSION_INFO\", function() { return _session__WEBPACK_IMPORTED_MODULE_2__[\"SESSION_INFO\"]; });\\n\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getSession\", function() { return _session__WEBPACK_IMPORTED_MODULE_2__[\"getSession\"]; });\\n\\n/* harmony import */ var _loaddata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./loaddata */ \"./src/js/saveload/loaddata.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 00:25:20 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 03:49:15\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/saveload/saveload.js?')},\"./src/js/saveload/session.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SESSION_INFO\", function() { return SESSION_INFO; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSession\", function() { return getSession; });\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-26 23:32:34 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 20:06:31\\r\\n */\\r\\n\\r\\nvar SESSION_INFO = {\\r\\n    local: false, // 默认本地读入\\r\\n    session: false, // 是否有session信息\\r\\n\\r\\n    // 需保存的session内容\\r\\n    userid: \"\", \\r\\n    username: \"\"\\r\\n};\\r\\n\\r\\nfunction getSession(){\\r\\n    if(SESSION_INFO.local) return false;\\r\\n    else if(!SESSION_INFO.session){\\r\\n        let userid = sessionStorage.getItem(\"userid\"),\\r\\n            username = sessionStorage.getItem(\"username\");\\r\\n        \\r\\n        if(!userid || !username){\\r\\n            SESSION_INFO.local = true;\\r\\n            return false;\\r\\n        }else{\\r\\n            SESSION_INFO.userid = userid;\\r\\n            SESSION_INFO.username = username;\\r\\n            SESSION_INFO.session = true;\\r\\n        }\\r\\n    }\\r\\n    return true;\\r\\n}\\n\\n//# sourceURL=webpack:///./src/js/saveload/session.js?')},\"./src/js/taskzone/handlers/taskzone.common.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$taskZone\", function() { return $taskZone; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$resetModal\", function() { return $resetModal; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$introZone\", function() { return $introZone; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$edit\", function() { return $edit; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"$initsubzone\", function() { return $initsubzone; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"taskInfo_backup\", function() { return taskInfo_backup; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"backupTaskInfo\", function() { return backupTaskInfo; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTool\", function() { return getTool; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTarget\", function() { return getTarget; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../taskzone.class */ \"./src/js/taskzone/taskzone.class.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 03:22:37 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 03:59:00\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/taskzone/handlers/taskzone.common.js\\r\\n * \\r\\n * 学习评价区域相关的事件处理函数的公共值与辅助函数\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject( $(\\'#design-tasks\\') );\\r\\nconst $taskZone    = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'#design-tasksZone\\');\\r\\nconst $resetModal  = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'#design-tasks-resetModal\\');\\r\\nconst $introZone   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'#design-introduction-zone\\');\\r\\nconst $edit        = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'#design-editTaskZone\\');\\r\\nconst $initsubzone = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\\'#design-initSubTaskZone\\');\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 编辑前注入，用于取消编辑时候的还原\\r\\n */\\r\\nlet taskInfo_backup = null;\\r\\nfunction backupTaskInfo(taskInfo) {\\r\\n    taskInfo_backup = taskInfo;\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 事件处理中辅助获得taskInfo的辅助函数\\\\\\r\\n * 仅模块内使用\\r\\n * \\r\\n * @param {Object} that 传入this \\r\\n * @returns {Object} $node, $zone, taskInfo\\r\\n */\\r\\nfunction getTool(that) {\\r\\n    const $node = $(that).closest(\\'.node\\');\\r\\n    const $zone = $node.parent();\\r\\n    \\r\\n    const index = $zone.children(\\'.node\\').index($node); \\r\\n    const parentIndex = $zone.hasClass(\\'subTaskZone\\') ?\\r\\n            +$zone.attr(\\'data-parent\\') : -1;\\r\\n            \\r\\n    const taskInfo = _taskzone_class__WEBPACK_IMPORTED_MODULE_1__[\"TASKZONE\"].getTaskInfo(index, parentIndex);\\r\\n    \\r\\n    return {\\r\\n        $node: $node, \\r\\n        $zone: $zone,\\r\\n        taskInfo: taskInfo\\r\\n    };\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 编辑的填充过程中，对目标node数据的筛选\\r\\n * \\r\\n * @param {TaskInfo} taskInfo = taskInfo_backup\\r\\n */\\r\\nfunction getTarget(taskInfo = taskInfo_backup) {\\r\\n    return ( !taskInfo.isSubNode ) ? \\r\\n            _saveload_saveload__WEBPACK_IMPORTED_MODULE_2__[\"DATA\"].nodes[taskInfo.index] :\\r\\n            _saveload_saveload__WEBPACK_IMPORTED_MODULE_2__[\"DATA\"].nodes[taskInfo.parentIndex].next\\r\\n                .nodes[taskInfo.index];\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/taskzone/handlers/taskzone.common.js?')},\"./src/js/taskzone/handlers/taskzone.edit.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return editTaskHandler; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initEditTaskHandler\", function() { return initEditTaskHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskzone.common */ \"./src/js/taskzone/handlers/taskzone.common.js\");\\n/* harmony import */ var _objectives_objectives__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../objectives/objectives */ \"./src/js/objectives/objectives.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 04:01:51 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:06:41\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 编辑框相关的事件处理\\r\\n */\\r\\nfunction editTaskHandler(){\\r\\n    /**\\r\\n     * 编辑框的事件处理 - 确定/取消\\r\\n     */\\r\\n\\r\\n    let $confirmBtn = $(\"#design-confirmTaskEditBtn\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]),\\r\\n        $cancelBtn = $(\"#design-cancelTaskEditBtn\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]);\\r\\n\\r\\n    //点击按钮确定编辑\\r\\n    $confirmBtn.click(() => {\\r\\n        saveTaskHandler(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"taskInfo_backup\"]);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]);\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    //点击取消按钮关闭编辑区域\\r\\n    $cancelBtn.click(() => {\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]);\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    //点击右上角的X关闭编辑区域\\r\\n    _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"].find(\".panel-title span\").click(() => {\\r\\n        $cancelBtn.click();\\r\\n    });\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].multistep([\\r\\n        editTaskEvidenceHandler,\\r\\n        editTaskCoreQuestionHandler\\r\\n    ]);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 编辑框中的核心问题部分的事件处理\\r\\n */\\r\\nfunction editTaskCoreQuestionHandler(){\\r\\n    let $coreQuestionZone = $(\"#taskCoreQuestion\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]).parent();\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($coreQuestionZone);\\r\\n    let $addCQ      = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-AddBtn\"),\\r\\n        $resetCQ    = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-ResetBtn\"),\\r\\n        $showCQ     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-ShowZone\"),\\r\\n        $selectCQ   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-SelectZone\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n    let addCoreQuestion = function(){\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($showCQ).show($selectCQ);\\r\\n        let str = \"\", \\r\\n            coreQuestions = Object(_objectives_objectives__WEBPACK_IMPORTED_MODULE_2__[\"getCoreQuestions\"])();//见design-objectives.js\\r\\n\\r\\n        if(coreQuestions.length == 0){\\r\\n            //当前未填写核心问题\\r\\n            str += `\\r\\n            <p>${_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].space()}请先在<b>学习目标-问题设计-学科核心问题</b>中完善核心问题的内容\\r\\n                ，完善后请重新点击上方\"+\"按钮</p>\\r\\n            <button class=\"btn btn-danger pull-right\" \\r\\n                id=\"taskCoreQuestion-cancelSelect\">关闭</button>\\r\\n            `.trim();\\r\\n        }else{\\r\\n            //填写了核心问题，组装复选框\\r\\n            coreQuestions.forEach((q, index) => {\\r\\n                str += `\\r\\n                <label class=\"checkbox-inline\">\\r\\n                    <input type=\"checkbox\" value=\"${index}\">\\r\\n                    ${q.value}${_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].space(2)}\\r\\n                    <span class=\"badge pull-right badge-${q.type}\">${q.typename}</span>\\r\\n                </label>\\r\\n                <br />\\r\\n                `.trim();\\r\\n            });\\r\\n            str += `\\r\\n            <br />\\r\\n            <div class=\"btn-group pull-right\">\\r\\n                <button class=\"btn btn-danger\" id=\"taskCoreQuestion-confirmSelect\">确定</button>\\r\\n                <button class=\"btn btn-default\" id=\"taskCoreQuestion-cancelSelect\">取消</button>\\r\\n            </div>\\r\\n            `.trim();\\r\\n        }\\r\\n        $selectCQ.html(str);\\r\\n        return false;\\r\\n    };\\r\\n    let resetCoreQuestion = function(){\\r\\n        $(\"#taskCoreQuestion-AddBtn\").click();\\r\\n        return false;\\r\\n    };\\r\\n    let confirmCoreQuestion = function(){\\r\\n        let $checkboxes = $(this).parent().parent().find(\"input[type=\\'checkbox\\']\"),\\r\\n            checked = [...$checkboxes].filter(checkbox => checkbox.checked),\\r\\n            values = checked.map(checkbox => checkbox.value);\\r\\n\\r\\n        if(values.length == 0){\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide([$selectCQ, $resetCQ]).show($addCQ);\\r\\n            $showCQ.html(\"\");\\r\\n            return false;\\r\\n        }\\r\\n\\r\\n        let str = \"<ul class=\\'list-group\\'>\",\\r\\n            coreQuestions = Object(_objectives_objectives__WEBPACK_IMPORTED_MODULE_2__[\"getCoreQuestions\"])();\\r\\n\\r\\n        values.forEach(value => {\\r\\n            let question = coreQuestions[value];\\r\\n            str += `\\r\\n            <li class=\"list-group-item\">\\r\\n                <span class=\"badge badge-${question.type}\">${question.typename}</span>\\r\\n                <span class=\"li-content\">${question.value}</span>\\r\\n            </li>\\r\\n            `.trim();\\r\\n        });\\r\\n        str += \"</ul>\";\\r\\n\\r\\n        $showCQ.html(str);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide([$selectCQ, $addCQ]).show([$showCQ, $resetCQ]);\\r\\n        return false;\\r\\n    };\\r\\n    let cancelCoreQuestion = function(){\\r\\n        //重新读入 恢复show区域的显示\\r\\n        let target = Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"getTarget\"])(),\\r\\n            taskcorequestion = target[\"taskcorequestion\"];\\r\\n\\r\\n        $showCQ.html(\"\");\\r\\n        if(taskcorequestion && taskcorequestion.length){\\r\\n            let str = \"<ul class=\\'list-group\\'>\";\\r\\n            taskcorequestion.forEach(corequestion => {\\r\\n                str += `\\r\\n                <li class=\"list-group-item\">\\r\\n                    <span class=\"badge badge-${Object(_objectives_objectives__WEBPACK_IMPORTED_MODULE_2__[\"questionTypeMap\"])(corequestion.type)}\">\\r\\n                        ${corequestion.type}</span>\\r\\n                    <span class=\"li-content\">${corequestion.content}</span>\\r\\n                </li>\\r\\n                `.trim();\\r\\n            });\\r\\n            str += \"</ul>\";\\r\\n            $showCQ.html(str);\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($addCQ).show($resetCQ);\\r\\n        }else{\\r\\n            _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($resetCQ).show($addCQ);\\r\\n        }\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($selectCQ).show($showCQ);\\r\\n        return false;\\r\\n    };\\r\\n    \\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate($coreQuestionZone, [\\r\\n        {\\r\\n            target: \"#taskCoreQuestion-AddBtn\",\\r\\n            event: \"click\",\\r\\n            handler: addCoreQuestion\\r\\n        },\\r\\n        {\\r\\n            target: \"#taskCoreQuestion-ResetBtn\",\\r\\n            event: \"click\",\\r\\n            handler: resetCoreQuestion\\r\\n        },\\r\\n        {\\r\\n            target: \"#taskCoreQuestion-confirmSelect\",\\r\\n            event: \"click\",\\r\\n            handler: confirmCoreQuestion\\r\\n        },\\r\\n        {\\r\\n            target: \"#taskCoreQuestion-cancelSelect\",\\r\\n            event: \"click\",\\r\\n            handler: cancelCoreQuestion\\r\\n        }\\r\\n    ]);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 编辑框中的学习评价部分的事件处理\\r\\n */\\r\\nfunction editTaskEvidenceHandler(){\\r\\n    //当前编辑框下已选核心问题\\r\\n    let $selectedCQ = $(\"#taskCoreQuestion-ShowZone\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]);\\r\\n    //编辑框中的学习评价部分相关jQuery对象\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(\".table-evidence\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]));\\r\\n    let $addBtn     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#addEvidence\"),\\r\\n        $body       = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#evidence-body\"),\\r\\n        $template   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#evidence-template\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    //编辑框的学习评价列表对应的正在编辑的评价对象备份\\r\\n    let $content_editing        = null,\\r\\n        $coreQuestion_editing   = null,\\r\\n        $evaluate_editing       = null;\\r\\n\\r\\n    //添加学习证据模态框相关jQuery对象\\r\\n    let $addEvidenceModal = $(\"#addEvidenceModal\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($addEvidenceModal);\\r\\n    let $addSelectedCQ  = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#add-evidenceSelectedQuestion\"),\\r\\n        $addContent     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#add-evidenceContent\"),\\r\\n        $addCQ          = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#add-evidenceCoreQuestion\"),\\r\\n        $addEvaluate    = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#add-evidenceEvaluate\"),\\r\\n        $addConfirm     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#confirmAddEvidence\"),\\r\\n        $addCancel      = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#cancelAddEvidence\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n    //编辑学习证据模态框相关jQuery对象\\r\\n    let $editEvidenceModal = $(\"#editEvidenceModal\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($editEvidenceModal);\\r\\n    let $editSelectedCQ = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#edit-evidenceSelectedQuestion\"),\\r\\n        $editContent    = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#edit-evidenceContent\"),\\r\\n        $editCQ         = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#edit-evidenceCoreQuestion\"),\\r\\n        $editEvaluate   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#edit-evidenceEvaluate\"),\\r\\n        $editConfirm    = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#confirmEditEvidence\"),\\r\\n        $editCancel     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#cancelEditEvidence\");\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n\\r\\n    $addEvidenceModal.appendTo(document.body);\\r\\n    $editEvidenceModal.appendTo(document.body);\\r\\n\\r\\n    //点击开启添加学习证据的模态框\\r\\n    $addBtn.click(() => {\\r\\n        $addEvidenceModal.modal(\"show\");\\r\\n        $addSelectedCQ.html(\"\").append($selectedCQ.html());\\r\\n        \\r\\n        //清除已填写的数据\\r\\n        $addContent.val(\"\"); $addCQ.val(\"\");\\r\\n        $addEvaluate.find(\"option\").eq(0).prop(\"selected\", true);\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    //确认添加学习证据\\r\\n    $addConfirm.click(() => {\\r\\n        let $newRow = $template.clone().removeAttr(\"id\").removeClass(\"hidden\");\\r\\n        const evidenceCls = [\"evidenceContent\", \"evidenceCoreQuestion\", \"evidenceEvaluate\"];\\r\\n        evidenceCls.forEach(clsname => {\\r\\n            $newRow.find(`td.${clsname}`).eq(0).html($(`#add-${clsname}`).val());\\r\\n        });\\r\\n        $body.append($newRow);\\r\\n        $addCancel.click();\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    $body\\r\\n    //删除学习证据\\r\\n    .delegate(\".deleteEvidence\", \"click\", function(){\\r\\n        $(this).closest(\"tr\").remove();\\r\\n        return false;\\r\\n    })\\r\\n    //点击打开编辑学习证据框\\r\\n    .delegate(\".editEvidence\", \"click\", function(){\\r\\n        $editEvidenceModal.modal(\"show\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(this).closest(\"tr\"));\\r\\n        $content_editing        = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evidenceContent\"),\\r\\n        $coreQuestion_editing   = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evidenceCoreQuestion\"),\\r\\n        $evaluate_editing       = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evidenceEvaluate\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n        \\r\\n        $editSelectedCQ.html(\"\").append($selectedCQ.html());\\r\\n        $editContent.val($content_editing.html());\\r\\n        $editCQ.val($coreQuestion_editing.html());\\r\\n        const Evaluates = [\"请选择\", \"书面测试\", \"调查问卷\", \"口头汇报\", \\r\\n            \"同行评审\", \"概念图\", \"观察记录\", \"制作成果\", \"展示绩效\"];\\r\\n        let evaluate_index = Evaluates.indexOf($evaluate_editing.html());\\r\\n        evaluate_index = (!~evaluate_index)?0:evaluate_index;\\r\\n        $editEvaluate.find(\"option\").eq(evaluate_index).prop(\"selected\", true);\\r\\n        return false;\\r\\n    });\\r\\n\\r\\n    //确认保存学习证据的编辑\\r\\n    $editConfirm.click(() => {\\r\\n        $content_editing.html($editContent.val());\\r\\n        $coreQuestion_editing.html($editCQ.val());\\r\\n        $evaluate_editing.html($editEvaluate.val());\\r\\n        $editCancel.click();\\r\\n        return false;\\r\\n    });\\r\\n    //关闭、取消学习证据的编辑\\r\\n    $editCancel.click(() => {\\r\\n        $content_editing = null;\\r\\n        $coreQuestion_editing = null;\\r\\n        $evaluate_editing = null;\\r\\n        $editEvidenceModal.modal(\"hide\");\\r\\n        return false;\\r\\n    });\\r\\n}\\r\\n\\r\\n/**\\r\\n * 编辑区域的保存 => 存入DATA\\r\\n * \\r\\n * @param {TaskInfo} taskInfo \\r\\n */\\r\\nfunction saveTaskHandler(taskInfo){\\r\\n    let target = Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"getTarget\"])(taskInfo);\\r\\n    target.taskname = $(\"#taskName\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]).val();\\r\\n    target.taskcontent = $(\"#taskContent\", _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]).val();\\r\\n\\r\\n    //核心问题的存储处理\\r\\n    target[\"taskcorequestion\"] = [];\\r\\n    let $selectedCQ = _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"].find(\"#taskCoreQuestion-ShowZone\");\\r\\n    if($selectedCQ.html() !== \"\"){\\r\\n        [...$selectedCQ.find(\"li\")].forEach(li => {\\r\\n            let type = $(li).find(\"span.badge\").html(),\\r\\n                content = $(li).find(\"span.li-content\").html();\\r\\n            target[\"taskcorequestion\"].push({\\r\\n                type: type, content:content\\r\\n            });\\r\\n        });\\r\\n    }\\r\\n\\r\\n    //学习证据的存储处理\\r\\n    target[\"taskevidence\"] = [];\\r\\n    [...$(\"#evidence-body\").children()].forEach((tr, index) => {\\r\\n        if(index == 0) return;//template 跳过\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject($(tr));\\r\\n        target[\"taskevidence\"].push({\\r\\n            content: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evidenceContent\").html(),\\r\\n            corequestion: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evidenceCoreQuestion\").html(),\\r\\n            evaluate: _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\".evidenceEvaluate\").html()\\r\\n        });\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n    });\\r\\n}\\r\\n\\r\\n/**\\r\\n * 点击图片节点时候调用，利用TaskInfo进行编辑框的内容填充\\r\\n * \\r\\n * @param {TaskInfo} taskInfo \\r\\n */\\r\\nfunction initEditTaskHandler(taskInfo){\\r\\n    let {\\r\\n        taskname, taskcontent, \\r\\n        taskcorequestion, taskevidence\\r\\n    } = Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"getTarget\"])(taskInfo);\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].inject(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]);\\r\\n    //状填任务名称与任务描述\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskName\").val(taskname);\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskContent\").val(taskcontent);\\r\\n\\r\\n    //装填核心问题区域\\r\\n    let $addCQ      = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-AddBtn\"),\\r\\n        $resetCQ    = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-ResetBtn\"),\\r\\n        $showCQ     = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"]._(\"#taskCoreQuestion-ShowZone\");\\r\\n    \\r\\n    if(taskcorequestion && taskcorequestion.length){\\r\\n        let str = \"<ul class=\\'list-group\\'>\";\\r\\n        taskcorequestion.forEach(corequestion => {\\r\\n            str += `\\r\\n            <li class=\"list-group-item\">\\r\\n                <span class=\"badge badge-${Object(_objectives_objectives__WEBPACK_IMPORTED_MODULE_2__[\"questionTypeMap\"])(corequestion.type)}\">\\r\\n                    ${corequestion.type}</span>\\r\\n                <span class=\"li-content\">${corequestion.content}</span>\\r\\n            </li>\\r\\n            `.trim();\\r\\n        });\\r\\n        str += \"</ul>\";\\r\\n        $showCQ.html(str);\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($addCQ).show($resetCQ);\\r\\n    }else{\\r\\n        $showCQ.html(\"\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show($addCQ).hide($resetCQ);\\r\\n    }\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show($showCQ);\\r\\n\\r\\n    //装填学习证据区域\\r\\n    [...$(\"#evidence-body\").children()].forEach((tr, index) => {\\r\\n        if(index == 0) return;\\r\\n        $(tr).remove();\\r\\n    });\\r\\n    if(taskevidence && taskevidence.length > 0){\\r\\n        let $addEvidenceBtn = $(\"#confirmAddEvidence\"),\\r\\n            $content        = $(\"#add-evidenceContent\"),\\r\\n            $coreQuestion   = $(\"#add-evidenceCoreQuestion\"),\\r\\n            $evaluate       = $(\"#add-evidenceEvaluate\");\\r\\n        \\r\\n        taskevidence.forEach(evidence => {\\r\\n            $content.val(evidence.content);\\r\\n            $coreQuestion.val(evidence.corequestion);\\r\\n            for(let option of [...$evaluate.children()]){\\r\\n                $(option).prop(\"selected\", false);\\r\\n                if($(option).val() == evidence.evaluate){\\r\\n                    $(option).prop(\"selected\", true);\\r\\n                }\\r\\n            }\\r\\n            $addEvidenceBtn.click();\\r\\n        });\\r\\n    }\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].reject();\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/taskzone/handlers/taskzone.edit.js?')},\"./src/js/taskzone/handlers/taskzone.model.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectModal\", function() { return selectModal; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resetModal\", function() { return resetModal; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskzone.common */ \"./src/js/taskzone/handlers/taskzone.common.js\");\\n/* harmony import */ var _taskzone_class__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../taskzone.class */ \"./src/js/taskzone/taskzone.class.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _activity_activity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../activity/activity */ \"./src/js/activity/activity.js\");\\n/* harmony import */ var _resize_resize__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../resize/resize */ \"./src/js/resize/resize.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 03:17:05 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-14 01:36:12\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/taskzone/handlers/taskzone.model.js\\r\\n * \\r\\n * 学习评价区域的模式选择相关的事件处理\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 选择模式的radio按钮的事件处理\\r\\n * IIFE\\r\\n */\\r\\n;(function selectModalTool() {\\r\\n    const $input = $(\\'input[name=design-taskSelect]\\', _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$introZone\"]);\\r\\n    $input.change( () => {\\r\\n        const value = $input.filter(\\':checked\\').val(); // 获取radio值\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(value) || selectModal(value);\\r\\n    });\\r\\n})();\\r\\n\\r\\n\\r\\n/**\\r\\n * 选择对应的学习模式并初始化节点\\r\\n * \\r\\n * @param {String} value \\r\\n */\\r\\nfunction selectModal(value) {\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].exClass(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$introZone\"], _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$taskZone\"], \\'hidden\\');\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$resetModal\"]);\\r\\n\\r\\n    // 界面收放动画效果\\r\\n    Object(_resize_resize__WEBPACK_IMPORTED_MODULE_5__[\"toggleTrigger\"])(\\'on\\');\\r\\n    // 全屏按钮\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show( $(\\'.fullscreen-btn\\').eq(1) );\\r\\n\\r\\n    const $div = _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$taskZone\"].children(\\'.taskZone\\').eq(0);\\r\\n    _taskzone_class__WEBPACK_IMPORTED_MODULE_2__[\"TASKZONE\"].initTaskNodes($div, value); // 新建节点\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 重置学习任务区域\\r\\n */\\r\\nfunction resetModal() {\\r\\n    // 重置DATA、 学习活动与任务区域\\r\\n    _saveload_saveload__WEBPACK_IMPORTED_MODULE_3__[\"DATA\"].reset(); // 重置DATA\\r\\n    _activity_activity__WEBPACK_IMPORTED_MODULE_4__[\"ACTIVITYZONE\"].deleteZones(); // 重置学习活动\\r\\n\\r\\n    // 重置任务区域\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide([_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$taskZone\"], _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$resetModal\"]]).show(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$introZone\"]);\\r\\n    Object(_resize_resize__WEBPACK_IMPORTED_MODULE_5__[\"toggleTrigger\"])(\\'off\\');\\r\\n    // 全屏按钮\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide( $(\\'.fullscreen-btn\\').eq(1) );\\r\\n\\r\\n    // 将原先的选中取消\\r\\n    [..._taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$introZone\"].find(\\'input\\')].forEach(radio => {\\r\\n        radio.checked = false;\\r\\n    });\\r\\n\\r\\n    _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$taskZone\"].find(\\'.subTaskZone\\').remove()\\r\\n        .end().find(\\'.node\\').remove();\\r\\n};\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/taskzone/handlers/taskzone.model.js?')},\"./src/js/taskzone/handlers/taskzone.subnode.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return addSubNodeHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../taskzone.class */ \"./src/js/taskzone/taskzone.class.js\");\\n/* harmony import */ var _taskzone_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./taskzone.common */ \"./src/js/taskzone/handlers/taskzone.common.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 04:24:53 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-27 17:06:59\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 添加二级任务的事件处理\\r\\n */\\r\\nfunction addSubNodeHandler(){\\r\\n    let initOrShowSubTask = function(){\\r\\n        let taskInfo = Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"getTool\"])(this).taskInfo;\\r\\n\\r\\n        //点击箭头，添加二级节点, 如果是子节点，跳过\\r\\n        if(taskInfo.isSubNode) return;\\r\\n        //已存在该结点的二级节点 - 显示/隐藏\\r\\n        if(existsSubTask(taskInfo.index)){\\r\\n            toggleSubTask(taskInfo.index);\\r\\n            return;\\r\\n        }\\r\\n    \\r\\n        //复制并准备二级节点菜单的容器\\r\\n        taskInfo.$div.find(\".init-panel\").remove();\\r\\n        let $panel = _taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$initsubzone\"].clone()\\r\\n            .toggleClass(\"hidden\").removeAttr(\"id\")\\r\\n            .insertBefore($(this));\\r\\n        _taskzone_class__WEBPACK_IMPORTED_MODULE_1__[\"TASKZONE\"].initTaskPanel($panel.find(\".panel-body\"));\\r\\n    };\\r\\n\\r\\n    let addSubTask = function(){\\r\\n        let {$node, $zone, taskInfo} = Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"getTool\"])(this),\\r\\n            $body = $zone.find(\".init-panel .panel-body\"),\\r\\n            val = $body.find(\"input[type=\\'radio\\']:checked\").val();\\r\\n            \\r\\n        if(_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(val)){\\r\\n            alert(\"您没有选择子模式类型!\");\\r\\n            return;\\r\\n        }\\r\\n\\r\\n        hideSelectedTask();\\r\\n        $node.find(\".img-zone\").addClass(\"selected-parent\");\\r\\n        $node.find(\".glyphicon-chevron-down\").addClass(\"hasSubNode\");\\r\\n        $node.find(\".node-content\").removeClass(\"node-wrap\");\\r\\n        hideSubTasks();\\r\\n        _taskzone_class__WEBPACK_IMPORTED_MODULE_1__[\"TASKZONE\"].initSubTaskNodes(val, taskInfo.index);\\r\\n\\r\\n        $(\"#cancelAddSubTask\").click();\\r\\n    };\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$taskZone\"], [\\r\\n        //点击箭头，弹出选择模式面板\\r\\n        {\\r\\n            target: \".glyphicon-chevron-down\",\\r\\n            event: \"click\",\\r\\n            handler: initOrShowSubTask\\r\\n        },\\r\\n        //确认添加二级节点\\r\\n        {\\r\\n            target: \"#confirmAddSubTask\",\\r\\n            event: \"click\",\\r\\n            handler: addSubTask\\r\\n        },\\r\\n        //关闭添加二级节点的菜单\\r\\n        {\\r\\n            target: \"#cancelAddSubTask\",\\r\\n            event: \"click\",\\r\\n            handler: function(){\\r\\n                $(this).closest(\".node\").find(\".init-panel\")\\r\\n                    .toggleClass(\"hidden\");\\r\\n            }\\r\\n        }\\r\\n    ]);\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 点击主task的下拉箭头时候判定该节点是否存在对应二级task\\r\\n * \\r\\n * @param {Number} index\\r\\n */\\r\\nfunction existsSubTask(index){\\r\\n    let ids = [..._taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$taskZone\"].children()]\\r\\n        .map(node => $(node).attr(\"id\"));\\r\\n    return ~ids.indexOf(`subTaskZone-${index}`);\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 将所有子模式区域隐藏\\r\\n */\\r\\nfunction hideSubTasks(){\\r\\n    [..._taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$taskZone\"].children(\".subTaskZone\")]\\r\\n        .forEach(node => _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($(node)));\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 显示二级task时候对应一级task会添加selected-parent类\\\\\\r\\n * 使用hideSelectedTask在二级节点收回时候取消该类\\r\\n */\\r\\nfunction hideSelectedTask(){\\r\\n    [..._taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$taskZone\"]\\r\\n        .children(\".taskZone\").eq(0)\\r\\n        .children(\"div.node\")].forEach(node => {\\r\\n        let $node = $(node);\\r\\n        $node.find(\".img-zone\").removeClass(\"selected-parent\");\\r\\n        $node.find(\".node-content\").addClass(\"node-wrap\");\\r\\n    });\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 切换子节点的效果\\r\\n * 1. 已经点开的场合 又将之关闭 - if\\r\\n * 2. 已经点开的场合， 点开了另一个子模式 - else\\r\\n * \\r\\n * @param {Number} index \\r\\n */\\r\\nfunction toggleSubTask(index){\\r\\n    hideSelectedTask();\\r\\n    let $subTaskZone = _taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$taskZone\"].find(`#subTaskZone-${index}`),\\r\\n        $firstTaskZone = _taskzone_common__WEBPACK_IMPORTED_MODULE_2__[\"$taskZone\"].children().eq(0);\\r\\n    if(!$subTaskZone.hasClass(\"hidden\")){\\r\\n        $firstTaskZone.addClass(\"first-level\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($subTaskZone);\\r\\n    }else{\\r\\n        hideSubTasks();\\r\\n        $firstTaskZone.removeClass(\"first-level\");\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show($subTaskZone);\\r\\n        let $parentNodeImg = $firstTaskZone\\r\\n            .children(\"div.node\").eq(index).find(\".img-zone\");\\r\\n        $parentNodeImg.addClass(\"selected-parent\");\\r\\n        $parentNodeImg.parent().removeClass(\"node-wrap\");\\r\\n    }\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/taskzone/handlers/taskzone.subnode.js?')},\"./src/js/taskzone/handlers/taskzone.tasknode.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return taskZoneHandler; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskzone.common */ \"./src/js/taskzone/handlers/taskzone.common.js\");\\n/* harmony import */ var _taskzone_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./taskzone.model */ \"./src/js/taskzone/handlers/taskzone.model.js\");\\n/* harmony import */ var _taskzone_edit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./taskzone.edit */ \"./src/js/taskzone/handlers/taskzone.edit.js\");\\n/* harmony import */ var _taskzone_class__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../taskzone.class */ \"./src/js/taskzone/taskzone.class.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _activity_activity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../activity/activity */ \"./src/js/activity/activity.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 03:17:05 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 04:19:42\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/taskzone/handlers/taskzone.tasknode.js\\r\\n * \\r\\n * 学习评价区域的节点相关的事件处理，包括重置模式、删除节点在内\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * 删除任务的事件处理函数\\r\\n */\\r\\nfunction deleteTask() {\\r\\n    const $zone = $(this).parent();\\r\\n    $zone.removeClass(\\'hover\\');\\r\\n\\r\\n    if ( !_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$taskZone\"].children().index($zone) ) {\\r\\n        Object(_taskzone_model__WEBPACK_IMPORTED_MODULE_2__[\"resetModal\"])(); // 删除一级，重置全部\\r\\n        return;\\r\\n    }\\r\\n\\r\\n    // 作为子节点\\r\\n    const parentIndex = +$zone.data(\\'parent\\');\\r\\n    const id = \\'#\\' + $zone[0].id;\\r\\n    const $parent = _taskzone_class__WEBPACK_IMPORTED_MODULE_4__[\"TASKZONE\"].getTaskZone();\\r\\n\\r\\n    // 将父节点的样式恢复\\r\\n    $parent.find(\\'.img-zone.selected-parent\\')\\r\\n        .removeClass(\\'selected-parent\\')\\r\\n        .parent().addClass(\\'node-wrap\\');\\r\\n\\r\\n    // 从DATA中删除\\r\\n    _saveload_saveload__WEBPACK_IMPORTED_MODULE_5__[\"DATA\"].nodes[parentIndex].next = \\'\\';\\r\\n    // 从taskZone中删除\\r\\n    $(id).remove();\\r\\n    \\r\\n    $parent.addClass(\\'first-level\\');\\r\\n    $parent.find(\\'.node\\').eq(parentIndex)\\r\\n        .find(\\'span\\').removeClass(\\'hasSubNode\\');\\r\\n\\r\\n    // 从学习任务中删除\\r\\n    _activity_activity__WEBPACK_IMPORTED_MODULE_6__[\"ACTIVITYZONE\"].deleteZones(parentIndex);\\r\\n}\\r\\n\\r\\n/**\\r\\n * 点击节点图片编辑节点的事件处理函数\\r\\n */\\r\\nfunction showEdit() {\\r\\n    const taskInfo = Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"getTool\"])(this).taskInfo;\\r\\n\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].show(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"]);\\r\\n    if ( _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"taskInfo_backup\"] !== taskInfo ) \\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].scroll( _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"].find(\\'form\\'), \\'top\\' );\\r\\n    _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$edit\"].find(\\'.panel-title label\\').eq(0)\\r\\n        .html(` - ${taskInfo.nodename}`);   \\r\\n            \\r\\n    Object(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"backupTaskInfo\"])(taskInfo); // 备份\\r\\n    Object(_taskzone_edit__WEBPACK_IMPORTED_MODULE_3__[\"initEditTaskHandler\"])(taskInfo); // 读入DATA中数据初始化$edit区域\\r\\n}\\r\\n\\r\\n\\r\\n/**\\r\\n * 主要包括:\\r\\n * 1. 删除任务的事件\\r\\n * 2. 点击图片打开编辑框事件\\r\\n * 3. 重置模式的事件\\r\\n */\\r\\nfunction taskZoneHandler() {\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].delegate(_taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$taskZone\"], [\\r\\n        // hover 显示虚线红框\\r\\n        {\\r\\n            target: \\'.delete-task\\',\\r\\n            event: \\'mouseover\\',\\r\\n            handler: function() {\\r\\n                $(this).parent().addClass(\\'hover\\');\\r\\n            }\\r\\n        },\\r\\n        {\\r\\n            target: \\'.delete-task\\',\\r\\n            event: \\'mouseout\\',\\r\\n            handler: function() {\\r\\n                $(this).parent().removeClass(\\'hover\\');\\r\\n            }\\r\\n        },\\r\\n        // 点击 删除任务\\r\\n        {\\r\\n            target: \\'.delete-task\\',\\r\\n            event: \\'click\\',\\r\\n            handler: deleteTask\\r\\n        },\\r\\n        // 点击图片 显示编辑框\\r\\n        {\\r\\n            target: \\'img\\',\\r\\n            event: \\'click\\',\\r\\n            handler: showEdit\\r\\n        }\\r\\n    ]);\\r\\n\\r\\n    // 重置模式按钮\\r\\n    _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$resetModal\"].click(function() {\\r\\n        Object(_taskzone_model__WEBPACK_IMPORTED_MODULE_2__[\"resetModal\"])();\\r\\n        _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide( _taskzone_common__WEBPACK_IMPORTED_MODULE_1__[\"$resetModal\"] );\\r\\n    });\\r\\n}\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/taskzone/handlers/taskzone.tasknode.js?')},\"./src/js/taskzone/taskzone.class.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TASKZONE\", function() { return taskzoneProxy; });\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _taskzone_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskzone.data */ \"./src/js/taskzone/taskzone.data.js\");\\n/* harmony import */ var _taskzone_handlers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./taskzone.handlers */ \"./src/js/taskzone/taskzone.handlers.js\");\\n/* harmony import */ var _saveload_saveload__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../saveload/saveload */ \"./src/js/saveload/saveload.js\");\\n/* harmony import */ var _activity_activity__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../activity/activity */ \"./src/js/activity/activity.js\");\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 02:59:30 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 03:32:04\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/taskzone/taskzone.class.js\\r\\n * \\r\\n * 学习评价区域管理的类对象定义\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hello(\\'taskzone/taskzone.class\\');\\r\\n\\r\\n/**\\r\\n * 学习评价区域的类\\\\\\r\\n * 负责添加/显示task节点(含子节点)\\r\\n */\\r\\nclass TaskZone {\\r\\n    constructor() {\\r\\n        // TaskZone为单例 - 实例对象最终保存在TASKZONE\\r\\n        if (typeof TaskZone.instance == \\'object\\') {\\r\\n            return TaskZone.instance;\\r\\n        }\\r\\n\\r\\n        /**\\r\\n         * @typedef {Object} TaskInfo\\r\\n         * @property {Object} $div div.taskZone的jQuery对象\\r\\n         * @property {Number} index 该节点在其父taskZone下的序号(0开始)\\r\\n         * @property {Boolean} isSubNode 是否为子任务的节点\\r\\n         * @property {Number} parentIndex -1或父节点在其taskZone中的序号\\r\\n         * @property {String} nodename 任务节点名 \\r\\n         */\\r\\n        /**\\r\\n         * 对应的学习评价区域的节点容器的jquery引用\\r\\n         * \\r\\n         * @type {Object}\\r\\n         */\\r\\n        this.$taskZone = $(\\'#design-tasksZone\\');\\r\\n        /**\\r\\n         * {index: taskInfo} 存储主任务节点的taskInfo\\r\\n         * \\r\\n         * @type {Map<Number, TaskInfo>}\\r\\n         */\\r\\n        this._taskInfoMap = new Map();\\r\\n        /**\\r\\n         * {parentIndex: {index: taskInfo}} \\\\\\r\\n         * 存储子任务节点的taskInfo\\r\\n         * \\r\\n         * @type {Map<Number, Map<Number, TaskInfo>>}\\r\\n         */\\r\\n        this._subTaskInfoMap = new Map();\\r\\n        \\r\\n        // 新建的实例保存 -> 单例模式\\r\\n        TaskZone.instance = this;\\r\\n        return this;\\r\\n    } // constructor\\r\\n\\r\\n    /**\\r\\n     * 保存taskInfo - 封装了主/子task的taskInfo保存\\r\\n     * \\r\\n     * @param {TaskInfo} taskInfo \\r\\n     */\\r\\n    setTaskInfo(taskInfo) {\\r\\n        if ( !taskInfo.isSubNode ) {\\r\\n            this._taskInfoMap.set(\\r\\n                taskInfo.index,\\r\\n                taskInfo\\r\\n            );\\r\\n        } else {\\r\\n            const { parentIndex, index } = taskInfo;\\r\\n            if ( _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(this._subTaskInfoMap.get(parentIndex)) ) {\\r\\n                this._subTaskInfoMap.set(parentIndex, new Map());\\r\\n            }\\r\\n            this._subTaskInfoMap\\r\\n                .get(parentIndex)\\r\\n                .set(index, taskInfo);\\r\\n        }\\r\\n    }\\r\\n    /**\\r\\n     * 获取taskInfo - 封装了主/子task的taskInfo获取\\r\\n     * \\r\\n     * @param {Number} index \\r\\n     * @param {Number} parentIndex = -1\\r\\n     * @returns {TaskInfo}\\r\\n     */\\r\\n    getTaskInfo(index, parentIndex = -1) {\\r\\n        return ( ~parentIndex ) ?\\r\\n            this._subTaskInfoMap.get(parentIndex).get(index) :\\r\\n            this._taskInfoMap.get(index);\\r\\n    }\\r\\n    /**\\r\\n     * 获取指定的taskZone区域的jquery对象 默认是第一个(主任务节点容器)\\r\\n     * \\r\\n     * @param {Number} parentIndex = -1\\r\\n     * @returns {Object} 对应的.taskZone的jquery对象\\r\\n     */\\r\\n    getTaskZone(parentIndex = -1) {\\r\\n        return ( ~parentIndex ) ?\\r\\n            this.$taskZone.find(\\'#subTaskZone-\\' + parentIndex):\\r\\n            this.$taskZone.find(\\'.taskZone\\').first();\\r\\n    }\\r\\n    /**\\r\\n     * 获取指定index/parentIndex的node的jQuery对象\\r\\n     * \\r\\n     * @param {Number} index \\r\\n     * @param {Number} parentIndex = -1 \\r\\n     * @returns {Object} 对应的.node的jquery对象\\r\\n     */\\r\\n    getTaskNode(index, parentIndex = -1) {\\r\\n        return this.getTaskZone(parentIndex)\\r\\n            .find(\\'.node\\').eq(index);\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * 初始化 新建模式的选择面板\\\\\\r\\n     * 目前只在增加二级节点选择学习模式的时候会调用\\r\\n     * \\r\\n     * @param {Object} $body 选择面板的容器的引用\\\\\\r\\n     *      - $body : $(\"#design-initSubTaskZone .panel-body\")\\r\\n     */\\r\\n    initTaskPanel($body){\\r\\n        if ( _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].isundef(this.initTaskPanel.panel) ) {\\r\\n            let str = \\'\\';\\r\\n\\r\\n            // 在$body下建立新建面板 - 用在新建子节点时候\\r\\n            _taskzone_data__WEBPACK_IMPORTED_MODULE_1__[\"TASKTYPE\"].forEach(value => {\\r\\n                str += `\\r\\n                <div class=\\'radio\\'><label>\\r\\n                    ${_common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].space(4)}\\r\\n                    <input type=\\'radio\\' name=\\'design-taskSelect\\' \\r\\n                        value = ${value.task} />\\r\\n                    ${value.name}\\r\\n                </label></div>\\r\\n                `.trim();\\r\\n            }); // 初始化radio选项\\r\\n            \\r\\n            str += `\\r\\n            <div class=\\'btn-group pull-right\\'>\\r\\n                <button id=\"confirmAddSubTask\" class=\\'btn btn-warning\\'>确定</button>\\r\\n                <button id=\"cancelAddSubTask\" class=\\'btn btn-default\\'>取消</button>\\r\\n            </div>\\r\\n            `.trim(); // 在选项末补上确定/取消按钮\\r\\n\\r\\n            this.initTaskPanel.panel = str;\\r\\n        }\\r\\n\\r\\n        $body.append(this.initTaskPanel.panel);\\r\\n    } // initTaskPanel\\r\\n    /**\\r\\n     * 选择学习模式后触发，加载指定模式的数据进行初始化\\\\\\r\\n     * 调用于selectModel与initSubTaskNodes\\r\\n     * \\r\\n     * @param {Object} $div 新建节点的父容器jQuery对象 .taskZone\\r\\n     * @param {String} tasktype 新建学习模式的模式类型\\r\\n     * @param {Number} parentIndex 指向所属的一级节点的index，默认-1\\r\\n     */\\r\\n    initTaskNodes($div, tasktype, parentIndex = -1) {\\r\\n        const data = _taskzone_data__WEBPACK_IMPORTED_MODULE_1__[\"taskData\"][tasktype];\\r\\n        \\r\\n        if ( !~parentIndex ) { // 一级节点\\r\\n            _saveload_saveload__WEBPACK_IMPORTED_MODULE_3__[\"DATA\"].self = data; // 数据绑定至全局\\r\\n            const activityZones = new _activity_activity__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_saveload_saveload__WEBPACK_IMPORTED_MODULE_3__[\"DATA\"]);\\r\\n            _activity_activity__WEBPACK_IMPORTED_MODULE_4__[\"ACTIVITYZONE\"].self = activityZones; // 初始化学习活动面板\\r\\n        } else { // 二级子节点\\r\\n            [...data.nodes].forEach(node => node.level = 2);\\r\\n            _saveload_saveload__WEBPACK_IMPORTED_MODULE_3__[\"DATA\"].nodes[parentIndex].next = data;\\r\\n            _activity_activity__WEBPACK_IMPORTED_MODULE_4__[\"ACTIVITYZONE\"].initSubZones(tasktype, data.nodes, parentIndex);\\r\\n        }\\r\\n        \\r\\n        this.addTaskNode($div, data, parentIndex);\\r\\n    }\\r\\n    /**\\r\\n     * 选择子学习模式时候调用，为二级节点准备容器 .subTaskZone\\r\\n     * \\r\\n     * @param {String} type 子节点所属的模式类型 eg.DBL\\r\\n     * @param {Number} parentIndex 所属一级节点的序号\\r\\n     * @param {Boolean} loading = false 表明是否是load-data调用的\\r\\n     */\\r\\n    initSubTaskNodes(type, parentIndex, loading = false) {\\r\\n        const $clone = this.getTaskZone().clone(true);\\r\\n        \\r\\n        $clone.children(\"div\").remove(); // 清空容器\\r\\n        $clone // 调整样式属性\\r\\n            .attr(\\'id\\', `subTaskZone-${parentIndex}`)\\r\\n            .attr(\\'data-parent\\', parentIndex)\\r\\n            .addClass(\\'subTaskZone\\');\\r\\n        $clone.appendTo(this.$taskZone);\\r\\n\\r\\n        loading || this.getTaskZone().removeClass(\\'first-level\\');\\r\\n        loading && _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].hide($clone);\\r\\n        $clone.removeClass(\\'first-level\\');\\r\\n        this.initTaskNodes($clone, type, parentIndex);\\r\\n    }\\r\\n    /**\\r\\n     * 新建task节点\\r\\n     * \\r\\n     * @param {Object} $div 节点父容器的引用 .taskZone\\r\\n     * @param {Object} data 学习模式的数据，需要借助其中的nodes与imagepath\\r\\n     * @param {Number} parentIndex 二级节点对应的父节点的序号 -1表示非二级节点\\r\\n     */\\r\\n    addTaskNode($div, data, parentIndex) {\\r\\n        /**\\r\\n         * nodes格式参考\\r\\n         * \"nodes\":\\r\\n         *     \"nodename\" - \"imgsrc\" - \"taskname\"\\r\\n         *     \"taskcontent\" - \"level\" - \"next\"\\r\\n         */\\r\\n        const nodes       = data.nodes;\\r\\n        const imagePath   = data.imagepath;\\r\\n        let str = \\'\\';\\r\\n\\r\\n        nodes.forEach( (node, index) => {\\r\\n            // 显示基本的节点\\r\\n            str += `\\r\\n            <div class=\\'node ${ (~parentIndex) ? \\'subnode\\' : \\'\\' }\\'>\\r\\n                <div class=\"node-content node-wrap\">\\r\\n                    <p class=\\'nodename\\'>${node.nodename}</p>\\r\\n                    <div class=\"img-zone\">\\r\\n                        <img title=\\'点击以编辑/查看\\' src=\"${imagePath}${node.imgsrc}\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <span class=\\'glyphicon glyphicon-chevron-down\\'\\r\\n                    title=\"点击添加子模式\"></span>\\r\\n            </div>\\r\\n            `.trim();\\r\\n            \\r\\n            this.setTaskInfo({\\r\\n                $div: $div, \\r\\n                index: index,\\r\\n                isSubNode   : parentIndex != -1, \\r\\n                parentIndex : parentIndex,\\r\\n                nodename: node.nodename\\r\\n            });\\r\\n        });\\r\\n\\r\\n        $div.append(str);\\r\\n        (~parentIndex) && \\r\\n        this.getTaskNode(parentIndex).find(\\'span.glyphicon\\')\\r\\n            .addClass(\\'hasSubNode\\');\\r\\n    } // addTaskNode\\r\\n}\\r\\n\\r\\n\\r\\n// 初始化任务区域的对象并保存在TASKZONE中导出\\r\\nlet TASKZONE = new TaskZone();\\r\\nlet taskzoneProxy = _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].proxy(TASKZONE);\\r\\n\\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")))\\n\\n//# sourceURL=webpack:///./src/js/taskzone/taskzone.class.js?')},\"./src/js/taskzone/taskzone.data.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"taskData\", function() { return taskDataProxy; });\\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TASKTYPE\", function() { return TASKTYPE; });\\n/* harmony import */ var _datas_design_dbl_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../datas/design/dbl.json */ \"./src/datas/design/dbl.json\");\\nvar _datas_design_dbl_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/design/dbl.json */ \"./src/datas/design/dbl.json\", 1);\\n/* harmony import */ var _datas_design_ibl_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../datas/design/ibl.json */ \"./src/datas/design/ibl.json\");\\nvar _datas_design_ibl_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/design/ibl.json */ \"./src/datas/design/ibl.json\", 1);\\n/* harmony import */ var _datas_design_kc_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../datas/design/kc.json */ \"./src/datas/design/kc.json\");\\nvar _datas_design_kc_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/design/kc.json */ \"./src/datas/design/kc.json\", 1);\\n/* harmony import */ var _datas_design_pbl_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../datas/design/pbl.json */ \"./src/datas/design/pbl.json\");\\nvar _datas_design_pbl_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../../datas/design/pbl.json */ \"./src/datas/design/pbl.json\", 1);\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-19 03:35:05 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 02:10:31\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/taskzone/taskzone.data.js\\r\\n * \\r\\n * 学习评价区域的任务节点相关的结构数据\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n// 保存不同类型任务节点的结构数据的字典\\r\\nconst taskDataMap = new Map()\\r\\n    .set(\\'dbl\\', _datas_design_dbl_json__WEBPACK_IMPORTED_MODULE_0__)\\r\\n    .set(\\'ibl\\', _datas_design_ibl_json__WEBPACK_IMPORTED_MODULE_1__)\\r\\n    .set(\\'kc\\', _datas_design_kc_json__WEBPACK_IMPORTED_MODULE_2__)\\r\\n    .set(\\'pbl\\', _datas_design_pbl_json__WEBPACK_IMPORTED_MODULE_3__);\\r\\n\\r\\nconst taskDataProxy = new Proxy(taskDataMap, {\\r\\n    get(target, key) {\\r\\n        key = key.toLowerCase();\\r\\n        return target.get(key);\\r\\n    }\\r\\n});\\r\\n\\r\\n\\r\\n\\r\\n/**\\r\\n * @constant\\r\\n * 任务类型与任务名的对象数组\\r\\n */\\r\\nconst TASKTYPE = [\\r\\n    {  \"task\": \"dbl\"  ,    \"name\": \"基于设计的学习\"  }, \\r\\n    {  \"task\": \"ibl\"  ,    \"name\": \"基于探究的学习\"  },\\r\\n    {  \"task\": \"pbl\"  ,    \"name\": \"基于问题的学习\"  }, \\r\\n    {  \"task\": \"kc\"   ,    \"name\": \"知识建构\"        }\\r\\n];\\n\\n//# sourceURL=webpack:///./src/js/taskzone/taskzone.data.js?')},\"./src/js/taskzone/taskzone.handlers.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/common */ \"./src/js/common/common.js\");\\n/* harmony import */ var _handlers_taskzone_tasknode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handlers/taskzone.tasknode */ \"./src/js/taskzone/handlers/taskzone.tasknode.js\");\\n/* harmony import */ var _handlers_taskzone_edit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./handlers/taskzone.edit */ \"./src/js/taskzone/handlers/taskzone.edit.js\");\\n/* harmony import */ var _handlers_taskzone_subnode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handlers/taskzone.subnode */ \"./src/js/taskzone/handlers/taskzone.subnode.js\");\\n/* harmony import */ var _handlers_taskzone_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./handlers/taskzone.model */ \"./src/js/taskzone/handlers/taskzone.model.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"selectModal\", function() { return _handlers_taskzone_model__WEBPACK_IMPORTED_MODULE_4__[\"selectModal\"]; });\\n\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 04:37:16 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 03:48:58\\r\\n */\\r\\n\\r\\n/*\\r\\n * ./js/taskzone/taskzone.handler.js\\r\\n * \\r\\n * 学习评价部分的事件处理在此集中并异步调用\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n \\r\\n\\r\\n\\r\\n\\r\\n;(function init() {\\r\\n    _common_common__WEBPACK_IMPORTED_MODULE_0__[\"common\"].multistep([\\r\\n        _handlers_taskzone_tasknode__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\\r\\n        _handlers_taskzone_edit__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\\r\\n        _handlers_taskzone_subnode__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\\r\\n    ]);\\r\\n})();\\n\\n//# sourceURL=webpack:///./src/js/taskzone/taskzone.handlers.js?')},\"./src/js/taskzone/taskzone.js\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";eval('__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _taskzone_class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./taskzone.class */ \"./src/js/taskzone/taskzone.class.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TASKZONE\", function() { return _taskzone_class__WEBPACK_IMPORTED_MODULE_0__[\"TASKZONE\"]; });\\n\\n/* harmony import */ var _taskzone_handlers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./taskzone.handlers */ \"./src/js/taskzone/taskzone.handlers.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"selectModal\", function() { return _taskzone_handlers__WEBPACK_IMPORTED_MODULE_1__[\"selectModal\"]; });\\n\\n/* harmony import */ var _taskzone_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./taskzone.data */ \"./src/js/taskzone/taskzone.data.js\");\\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TASKTYPE\", function() { return _taskzone_data__WEBPACK_IMPORTED_MODULE_2__[\"TASKTYPE\"]; });\\n\\n/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-18 02:59:18 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-03-29 03:47:45\\r\\n */\\r\\n\\r\\n\\r\\n\\r\\n\\n\\n//# sourceURL=webpack:///./src/js/taskzone/taskzone.js?')},\"./src/js/test/test.js\":function(module,exports){eval(\"/*\\r\\n * @Author: Shepherd.Lee \\r\\n * @Date: 2020-03-27 03:51:14 \\r\\n * @Last Modified by: Shepherd.Lee\\r\\n * @Last Modified time: 2020-04-15 20:06:52\\r\\n */\\r\\n\\r\\nsessionStorage.setItem('userid', 123);\\r\\nsessionStorage.setItem('username', '测试用户');\\n\\n//# sourceURL=webpack:///./src/js/test/test.js?\")}});","extractedComments":["/*!*************************************!*\\\n  !*** ./src/datas/activity/exp.json ***!\n  \\*************************************/","/*! exports provided: type, typename, activity, common, default */","/*!**************************************!*\\\n  !*** ./src/datas/activity/game.json ***!\n  \\**************************************/","/*!****************************************!*\\\n  !*** ./src/datas/activity/jigsaw.json ***!\n  \\****************************************/","/*!**************************************!*\\\n  !*** ./src/datas/activity/pair.json ***!\n  \\**************************************/","/*!*****************************************!*\\\n  !*** ./src/datas/activity/pyramid.json ***!\n  \\*****************************************/","/*!******************************************!*\\\n  !*** ./src/datas/activity/roleplay.json ***!\n  \\******************************************/","/*!*****************************!*\\\n  !*** ./src/datas/data.json ***!\n  \\*****************************/","/*! exports provided: theme, question, tasks, activity, default */","/*!***********************************!*\\\n  !*** ./src/datas/design/dbl.json ***!\n  \\***********************************/","/*! exports provided: tasktype, imagepath, nodes, default */","/*!***********************************!*\\\n  !*** ./src/datas/design/ibl.json ***!\n  \\***********************************/","/*!**********************************!*\\\n  !*** ./src/datas/design/kc.json ***!\n  \\**********************************/","/*!***********************************!*\\\n  !*** ./src/datas/design/pbl.json ***!\n  \\***********************************/","/*!********************************************!*\\\n  !*** ./src/datas/objectives/question.json ***!\n  \\********************************************/","/*! exports provided: driverQuestion, coreQuestion, default */","/*!*****************************************!*\\\n  !*** ./src/datas/objectives/theme.json ***!\n  \\*****************************************/","/*! exports provided: themeName, themeSituation, people, grade, default */","/*!******************************************!*\\\n  !*** ./src/datas/standard/standard.json ***!\n  \\******************************************/","/*! exports provided: science, technology, engineering, mathematics, default */","/*!******************************************!*\\\n  !*** ./src/js/activity/activity.data.js ***!\n  \\******************************************/","/*! exports provided: activityDataMap, ACTIVITYTYPE, ACTIVITYKEYS */","/*!**********************************************!*\\\n  !*** ./src/js/activity/activity.handlers.js ***!\n  \\**********************************************/","/*! exports provided: init */","/*!*************************************!*\\\n  !*** ./src/js/activity/activity.js ***!\n  \\*************************************/","/*! exports provided: default, ACTIVITYZONE */","/*!***********************************************!*\\\n  !*** ./src/js/activity/class/activitynode.js ***!\n  \\***********************************************/","/*! exports provided: default */","/*!***********************************************!*\\\n  !*** ./src/js/activity/class/activityzone.js ***!\n  \\***********************************************/","/*!************************************************!*\\\n  !*** ./src/js/activity/class/activityzones.js ***!\n  \\************************************************/","/*! exports provided: ACTIVITYZONE, default */","/*!*****************************************************!*\\\n  !*** ./src/js/activity/handlers/activity.common.js ***!\n  \\*****************************************************/","/*! exports provided: $activityZone, $activityEditZone, editInfo, getZone */","/*!******************************************************!*\\\n  !*** ./src/js/activity/handlers/activity.dynamic.js ***!\n  \\******************************************************/","/*! exports provided: dynamicActivityHandler */","/*!***************************************************!*\\\n  !*** ./src/js/activity/handlers/activity.edit.js ***!\n  \\***************************************************/","/*! exports provided: editActivityHandler */","/*!*******************************************************!*\\\n  !*** ./src/js/activity/handlers/activity.saveload.js ***!\n  \\*******************************************************/","/*! exports provided: loadActivityData, saveActivityData */","/*!*****************************************************!*\\\n  !*** ./src/js/activity/handlers/activity.select.js ***!\n  \\*****************************************************/","/*! exports provided: initSelectActivityPanel, validateSelectActivity, selectActivityHandler */","/*!*****************************************************!*\\\n  !*** ./src/js/activity/handlers/activity.toggle.js ***!\n  \\*****************************************************/","/*! exports provided: togglePanelHandler */","/*!*************************************************************************!*\\\n  !*** ./src/js/activity/handlers/editactivity/activity.edit.evidence.js ***!\n  \\*************************************************************************/","/*! exports provided: editActivityEvidenceHandler */","/*!*********************************************************************!*\\\n  !*** ./src/js/activity/handlers/editactivity/activity.edit.file.js ***!\n  \\*********************************************************************/","/*! exports provided: editActivityFileHandler */","/*!*********************************************************************!*\\\n  !*** ./src/js/activity/handlers/editactivity/activity.edit.link.js ***!\n  \\*********************************************************************/","/*! exports provided: editActivityLinkHandler */","/*!*********************************!*\\\n  !*** ./src/js/common/common.js ***!\n  \\*********************************/","/*! exports provided: common */","/*!************************************!*\\\n  !*** ./src/js/common/commonObj.js ***!\n  \\************************************/","/*! exports provided: common, Add, Target, Config */","/*!*************************************!*\\\n  !*** ./src/js/common/funcs/ajax.js ***!\n  \\*************************************/","/*! no exports provided */","/*!****************************************!*\\\n  !*** ./src/js/common/funcs/console.js ***!\n  \\****************************************/","/*!**************************************!*\\\n  !*** ./src/js/common/funcs/event.js ***!\n  \\**************************************/","/*!*****************************************!*\\\n  !*** ./src/js/common/funcs/function.js ***!\n  \\*****************************************/","/*!***************************************!*\\\n  !*** ./src/js/common/funcs/object.js ***!\n  \\***************************************/","/*!******************************************!*\\\n  !*** ./src/js/common/funcs/stringnum.js ***!\n  \\******************************************/","/*!**************************************!*\\\n  !*** ./src/js/common/funcs/style.js ***!\n  \\**************************************/","/*!*************************!*\\\n  !*** ./src/js/index.js ***!\n  \\*************************/","/*!*********************************!*\\\n  !*** ./src/js/navbar/navbar.js ***!\n  \\*********************************/","/*!************************************!*\\\n  !*** ./src/js/navbar/navigator.js ***!\n  \\************************************/","/*!*****************************************!*\\\n  !*** ./src/js/objectives/objectives.js ***!\n  \\*****************************************/","/*! exports provided: THEME, saveTheme, STD, STDDATA, QUESTION, questionTypeMap, getCoreQuestions, saveQuestion */","/*!************************************************!*\\\n  !*** ./src/js/objectives/question-handlers.js ***!\n  \\************************************************/","/*!***************************************!*\\\n  !*** ./src/js/objectives/question.js ***!\n  \\***************************************/","/*! exports provided: QUESTION, questionTypeMap, getCoreQuestions, saveQuestion */","/*!***************************************!*\\\n  !*** ./src/js/objectives/standard.js ***!\n  \\***************************************/","/*! exports provided: STDDATA, STD */","/*!************************************!*\\\n  !*** ./src/js/objectives/theme.js ***!\n  \\************************************/","/*! exports provided: THEME, saveTheme */","/*!**********************************!*\\\n  !*** ./src/js/preview/inject.js ***!\n  \\**********************************/","/*!***********************************************!*\\\n  !*** ./src/js/preview/inject/coreQuestion.js ***!\n  \\***********************************************/","/*!**************************************************!*\\\n  !*** ./src/js/preview/inject/course-activity.js ***!\n  \\**************************************************/","/*!*****************************************!*\\\n  !*** ./src/js/preview/inject/course.js ***!\n  \\*****************************************/","/*!****************************************!*\\\n  !*** ./src/js/preview/inject/cover.js ***!\n  \\****************************************/","/*!**********************************************!*\\\n  !*** ./src/js/preview/inject/subtaskzone.js ***!\n  \\**********************************************/","/*!*******************************************!*\\\n  !*** ./src/js/preview/inject/taskzone.js ***!\n  \\*******************************************/","/*!****************************************!*\\\n  !*** ./src/js/preview/inject/theme.js ***!\n  \\****************************************/","/*!***********************************!*\\\n  !*** ./src/js/preview/preview.js ***!\n  \\***********************************/","/*!**********************************!*\\\n  !*** ./src/js/preview/render.js ***!\n  \\**********************************/","/*!*************************************!*\\\n  !*** ./src/js/resize/fullscreen.js ***!\n  \\*************************************/","/*!*********************************!*\\\n  !*** ./src/js/resize/resize.js ***!\n  \\*********************************/","/*! exports provided: toggleTrigger */","/*!*********************************!*\\\n  !*** ./src/js/resize/toggle.js ***!\n  \\*********************************/","/*!********************************!*\\\n  !*** ./src/js/resize/zones.js ***!\n  \\********************************/","/*! exports provided: zones */","/*!*********************************!*\\\n  !*** ./src/js/saveload/data.js ***!\n  \\*********************************/","/*! exports provided: DATA */","/*!*************************************!*\\\n  !*** ./src/js/saveload/loaddata.js ***!\n  \\*************************************/","/*!*************************************!*\\\n  !*** ./src/js/saveload/savedata.js ***!\n  \\*************************************/","/*! exports provided: saveData */","/*!*************************************!*\\\n  !*** ./src/js/saveload/saveload.js ***!\n  \\*************************************/","/*! exports provided: DATA, saveData, SESSION_INFO, getSession */","/*!************************************!*\\\n  !*** ./src/js/saveload/session.js ***!\n  \\************************************/","/*! exports provided: SESSION_INFO, getSession */","/*!*****************************************************!*\\\n  !*** ./src/js/taskzone/handlers/taskzone.common.js ***!\n  \\*****************************************************/","/*! exports provided: $taskZone, $resetModal, $introZone, $edit, $initsubzone, taskInfo_backup, backupTaskInfo, getTool, getTarget */","/*!***************************************************!*\\\n  !*** ./src/js/taskzone/handlers/taskzone.edit.js ***!\n  \\***************************************************/","/*! exports provided: default, initEditTaskHandler */","/*!****************************************************!*\\\n  !*** ./src/js/taskzone/handlers/taskzone.model.js ***!\n  \\****************************************************/","/*! exports provided: selectModal, resetModal */","/*!******************************************************!*\\\n  !*** ./src/js/taskzone/handlers/taskzone.subnode.js ***!\n  \\******************************************************/","/*!*******************************************************!*\\\n  !*** ./src/js/taskzone/handlers/taskzone.tasknode.js ***!\n  \\*******************************************************/","/*!*******************************************!*\\\n  !*** ./src/js/taskzone/taskzone.class.js ***!\n  \\*******************************************/","/*! exports provided: TASKZONE */","/*!******************************************!*\\\n  !*** ./src/js/taskzone/taskzone.data.js ***!\n  \\******************************************/","/*! exports provided: taskData, TASKTYPE */","/*!**********************************************!*\\\n  !*** ./src/js/taskzone/taskzone.handlers.js ***!\n  \\**********************************************/","/*! exports provided: selectModal */","/*!*************************************!*\\\n  !*** ./src/js/taskzone/taskzone.js ***!\n  \\*************************************/","/*! exports provided: TASKZONE, selectModal, TASKTYPE */","/*!*****************************!*\\\n  !*** ./src/js/test/test.js ***!\n  \\*****************************/","/*! no static exports found */"]}